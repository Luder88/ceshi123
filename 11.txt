//W3x2lni Data: 2023-06-19 18:02:47.084
globals
trigger gg_trig_change_skillQ=null
trigger gg_trig_change_skillW=null
trigger gg_trig_change_skillE=null
hashtable SkillHashTable=InitHashtable()
integer array udg_ChangESKillENum
player YDWEReplayWriter__curplayer=null
gamecache YDWEReplayWriter__gc
gamecache array YDWERPGBilling__m_table
integer MyTime=0
trigger MyTime_trg001=null
boolexpr cj_true_bool_4896bnao87
hashtable UDGht=InitHashtable()
unit array dyc_LastSelectedUnit
real GoldenEgg_Range=600
real GoldenEgg_Ratio=1
boolean GoldenEgg_Lock=true
boolean GoldenEgg_OnlyHero=false
boolean GoldenEgg_OnlyComputer=false
hashtable HCSpeedLimit__htb=InitHashtable()
itemtype HcAutoMergeItem__ItemType
trigger HcAutoMergeItem__trg=null
hashtable Xg_htb=InitHashtable()
hashtable NFTSBrushCreeps__ht=InitHashtable()
boolean array NFTSBrushCreeps__P
hashtable SJWEBase__P=InitHashtable()
hashtable SJWEBase__F=InitHashtable()
hashtable DATA=InitHashtable()
integer SJWEBase__TListEnd=0
integer array SJWEBase__TNextIndex
trigger array SJWEBase__TTriggerList
real SJWEMinX
real SJWEMaxX
real SJWEMinY
real SJWEMaxY
real array XG_Map_Loc
hashtable YDHT
hashtable YDLOC
unit bj_lastAbilityCastingUnit=null
attacktype bj_lastSetAttackType=ATTACK_TYPE_NORMAL
damagetype bj_lastSetDamageType=DAMAGE_TYPE_NORMAL
weapontype bj_lastSetWeaponType=WEAPON_TYPE_WHOKNOWS
real yd_MapMaxX=0
real yd_MapMinX=0
real yd_MapMaxY=0
real yd_MapMinY=0
string array YDWEBase__yd_PlayerColor
trigger array YDWEBase__AbilityCastingOverEventQueue
integer array YDWEBase__AbilityCastingOverEventType
integer YDWEBase__AbilityCastingOverEventNumber=0
integer YDWEEventDamageData__EVENT_DAMAGE_DATA_IS_PHYSICAL=1
integer YDWEEventDamageData__EVENT_DAMAGE_DATA_ATTACK_TYPE=6
camerasetup yd_NullTempCam
force yd_NullTempForce
item yd_NullTempItem
group yd_NullTempGroup
trigger yd_DamageEventTrigger=null
integer YDWETriggerEvent__DAMAGE_EVENT_SWAP_TIMEOUT=60
boolean YDWETriggerEvent__DAMAGE_EVENT_SWAP_ENABLE=true
trigger YDWETriggerEvent__yd_DamageEventTriggerToDestory=null
trigger array YDWETriggerEvent__DamageEventQueue
integer YDWETriggerEvent__DamageEventNumber=0
region yd_NullTempRegion
real MemoryLeakHelper__GameTime=0.
timer MemoryLeakHelper__GameTimeTimer=CreateTimer()
real MemoryLeakHelper__GAMETIME_TIMER_INTERVAL=30.
integer MemoryLeakHelper__MIN_LEAK_NUMBER=1750
integer MemoryLeakHelper__MAX_LEAK_INSTANCES=60000
integer MemoryLeakHelper__IndexData
integer MemoryLeakHelper__IsSaved
integer MemoryLeakHelper__CaughtLocationLeaks=0
integer MemoryLeakHelper__LocationDestroyCount=0
integer MemoryLeakHelper__CaughtEffectLeaks=0
integer MemoryLeakHelper__EffectDestroyCount=0
integer MemoryLeakHelper__CaughtGroupLeaks=0
integer MemoryLeakHelper__GroupDestroyCount=0
integer MemoryLeakHelper__DestroyedLeaks=0
integer MemoryLeakHelper__CaughtLeaks=0
integer MemoryLeakHelper__DestroyedLeaksUser=0
handle MemoryLeakHelper__LastCaught
timer MemoryLeakHelper__PassTimer=CreateTimer()
timer MemoryLeakHelper__CleanTimer=CreateTimer()
timer MemoryLeakHelper__DelayTimer=CreateTimer()
boolean MemoryLeakHelper__IsDestroying=false
real MemoryLeakHelper__SavedMemory=0.
boolean MemoryLeakHelper__Disabled=false
boolean MemoryLeakHelper__IsDisplayMemoryLeakHelper=false
timer SJTimersystem__Timer=CreateTimer()
integer SpellSystemAI___Top=0
boolean SpellSystemAI___AB=false
unit array SpellSystemAI___Hero
unit array SpellSystemAI___Htu
real array SpellSystemAI___Htx
real array SpellSystemAI___Hty
integer array SpellSystemAI___LastOI
integer array SpellSystemAI___OT
integer array SpellSystemAI___TYPE
boolean array SpellSystemAI___GUARD
timer array SpellSystemAI___HT
group SpellSystemAI___AG=null
force SpellSystemAI___AIusers=CreateForce()
region SpellSystemAI___RR=null
trigger SpellSystemAI___TE=null
trigger SpellSystemAI___TC=null
real SpellSystemAI___Range=1600
real SpellSystemAI___Ratio=1.
boolean SpellSystemAI___OnlyHero=true
boolean SpellSystemAI___OnlyComputer=false
boolean SpellSystemAI___Lock=true
hashtable XGTask__db_u=InitHashtable()
hashtable XGTask__db_t=InitHashtable()
hashtable XGTask__db_d=InitHashtable()
integer XGTask__TID=0
integer MoveMoreLevel_JumpTimer=3
item bj_lastCombinedItem=null
trigger array YDWEStringFormula__ItemCombineEventQueue
integer YDWEStringFormula__ItemCombineEventNumber=0
integer YDWEStringFormula__SEGMENT_LENGTH=4
integer YDWEStringFormula__FormulaData=0
boolexpr YDWETimerPattern__Bexpr=null
rect YDWETimerPattern__Area=null
integer YDWETimerPattern__tmp_data
location YDWETimerPattern__yd_loc=Location(0.,0.)
integer YDWETimerSystem__CurrentTime
integer YDWETimerSystem__CurrentIndex
integer YDWETimerSystem__TaskListHead
integer YDWETimerSystem__TaskListIdleHead
integer YDWETimerSystem__TaskListIdleMax
integer array YDWETimerSystem__TaskListIdle
integer array YDWETimerSystem__TaskListNext
integer array YDWETimerSystem__TaskListTime
trigger array YDWETimerSystem__TaskListProc
trigger YDWETimerSystem__fnRemoveUnit
trigger YDWETimerSystem__fnDestroyTimer
trigger YDWETimerSystem__fnRemoveItem
trigger YDWETimerSystem__fnDestroyEffect
trigger YDWETimerSystem__fnDestroyLightning
trigger YDWETimerSystem__fnRunTrigger
timer YDWETimerSystem__Timer
integer YDWETimerSystem__TimerHandle
timer udg_JSQ=null
integer udg_BS=0
dialog xgdg_zAA=null
button array udg_anniu
integer udg_NDXS=0
integer array udg_SDS
unit array udg_DW
real array udg_FHSJ
timerdialog array udg_JSQCK
timer udg_ZZJSQ=null
integer array udg_Lv1
real array udg_SHzf
integer array udg_BL
integer udg_WJS=0
dialog xgdg_vAA=null
string array udg_XXZFC
integer array udg_LGYG
unit array udg_CW
real array udg_WLXX
real array udg_SHjm
integer array udg_SDqsx
real array udg_SDsmz
real array udg_SDgjl
real array udg_SDhj
integer array udg_SDmc
integer array udg_SDjb
rect array udg_LGQY
integer array udg_LGSL
integer array udg_YXFH
integer array udg_Lv2
integer array udg_PointsItem1
integer array udg_PointsItem2
integer array udg_PointsItem3
boolean array xgdg_OAA
boolean array xgdg_lAA
boolean array xgdg_PAA
boolean array xgdg_kAA
boolean array xgdg_QAA
boolean array xgdg_jAA
boolean array xgdg_RAA
boolean array xgdg_iAA
boolean array xgdg_SAA
boolean array xgdg_hAA
boolean array xgdg_TAA
boolean array xgdg_gAA
boolean array xgdg_UAA
boolean array xgdg_fAA
boolean array xgdg_VAA
boolean array xgdg_eAA
boolean array xgdg_WAA
boolean array xgdg_dAA
boolean array xgdg_XAA
boolean array xgdg_cAA
boolean array xgdg_YAA
boolean array xgdg_bAA
boolean array xgdg_ZAA
boolean array xgdg_aAA
boolean array xgdg_zzA
integer array udg_TGJF
boolean array xgdg_yzA
boolean array xgdg_CzA
boolean array xgdg_xzA
boolean array xgdg_DzA
boolean array xgdg_wzA
boolean array xgdg_EzA
boolean array xgdg_vzA
boolean array xgdg_FzA
boolean array xgdg_uzA
boolean array xgdg_GzA
integer array udg_JYshouyi
unit array udg_LG
integer array udg_WLBJJL
real array udg_WLBJSH
real array udg_WLSHZF
real array udg_FSSHZF
integer array udg_GDJL
integer array udg_FSBJJL
real array udg_FSBJSH
integer array udg_SDSZF
real udg_SJ=0
real array udg_FSXX
integer array xgdg_MzA
integer array xgdg_nzA
integer array xgdg_NzA
integer array xgdg_mzA
integer array xgdg_OzA
integer array xgdg_lzA
integer array xgdg_PzA
integer array xgdg_kzA
integer array xgdg_QzA
boolean udg_TX=false
integer array udg_ZGZ
integer array udg_YXbadao
integer array udg_YXguishi
integer array udg_YXzhanfa
integer array udg_YXtianqiang
integer array udg_YXyinjian
integer array udg_YXzhongzhuang
integer array udg_YXlinggong
integer array udg_YXlizhua
integer array udg_DWLXbadao
integer array udg_DWLXguishi
integer array udg_DWLXzhanfa
integer array udg_DWLXtianqiang
integer array udg_DWLXyinjian
integer array udg_DWLXzhongzhuang
integer array udg_DWLXlinggong
integer array udg_DWLXlizhua
integer array udg_HDZ
integer array udg_JXSD
integer array udg_ZJSP
integer array udg_YXpojun
integer array udg_DWLXpojun
integer array xgdg_jzA
integer array xgdg_RzA
integer array xgdg_izA
integer array udg_WJJF
integer array udg_DWLXtanlang
boolean array xgdg_SzA
boolean array xgdg_hzA
boolean array xgdg_TzA
boolean array xgdg_gzA
boolean array xgdg_UzA
boolean array xgdg_fzA
boolean array xgdg_VzA
integer array udg_FKZR
integer array udg_ZBSSQ
real array udg_HDZJL
integer array udg_HDZMC
boolean array xgdg_ezA
boolean array xgdg_WzA
boolean array xgdg_dzA
boolean array xgdg_XzA
boolean array xgdg_czA
boolean array xgdg_YzA
boolean array xgdg_bzA
boolean array xgdg_ZzA
boolean array xgdg_azA
boolean array xgdg_zBA
boolean array xgdg_BBA
integer array udg_YXyingci
integer array udg_DWLXyingci
integer array xgdg_yBA
integer array xgdg_CBA
boolean array xgdg_xBA
boolean array xgdg_DBA
boolean array xgdg_wBA
boolean array xgdg_EBA
boolean array xgdg_vBA
boolean array xgdg_FBA
boolean array xgdg_uBA
boolean array xgdg_GBA
boolean array xgdg_tBA
boolean array xgdg_HBA
integer array udg_DWLXmingcang
integer array udg_SYTC
boolean array xgdg_sBA
boolean array xgdg_IBA
boolean array xgdg_rBA
boolean array xgdg_JBA
integer array udg_HCDS
boolean array xgdg_qBA
boolean array xgdg_KBA
boolean array xgdg_pBA
boolean array xgdg_LBA
integer array udg_CDSDJMC
integer array udg_DWLXtianji
integer array xgdg_oBA
integer array xgdg_MBA
integer array xgdg_nBA
integer array udg_HDBP
boolean array xgdg_NBA
boolean array xgdg_mBA
integer array udg_DWLXtianshen
integer array udg_JYBSL
boolean array xgdg_OBA
boolean array xgdg_lBA
boolean array xgdg_PBA
integer array xgdg_kBA
integer array xgdg_QBA
rect gg_rct______________004=null
rect gg_rct______________005=null
rect gg_rct______________006=null
rect gg_rct______________007=null
rect gg_rct______________008=null
rect gg_rct______________009=null
rect gg_rct______________010=null
rect gg_rct______________011=null
rect gg_rct______________012=null
rect gg_rct______________013=null
rect gg_rct______________014=null
rect gg_rct______________015=null
rect gg_rct______________035=null
rect gg_rct______________036=null
rect gg_rct______________037=null
rect gg_rct______________039=null
rect gg_rct______________040=null
rect gg_rct______________041=null
rect gg_rct______________052=null
rect gg_rct______________053=null
rect gg_rct______________054=null
rect gg_rct______________055=null
rect gg_rct______________056=null
rect gg_rct______________057=null
rect gg_rct______________059=null
rect gg_rct______________060=null
rect gg_rct______________061=null
rect gg_rct______________062=null
rect gg_rct______________063=null
rect gg_rct______________064=null
rect gg_rct______________065=null
rect gg_rct______________066=null
rect gg_rct______________067=null
rect gg_rct______________068=null
rect gg_rct______________027=null
rect gg_rct______________028=null
rect gg_rct______________000=null
rect gg_rct______________001=null
rect gg_rct______________002=null
rect gg_rct______________003=null
rect gg_rct______________016=null
rect gg_rct______________017=null
rect gg_rct______________018=null
rect gg_rct______________019=null
rect gg_rct______________020=null
rect gg_rct______________021=null
rect gg_rct______________022=null
rect gg_rct______________023=null
rect gg_rct______________024=null
rect gg_rct______________025=null
rect gg_rct______________026=null
rect gg_rct______________029=null
rect gg_rct______________030=null
rect gg_rct______________031=null
string gg_snd_4849
trigger gg_trg____________________269=null
trigger gg_trg____________________270=null
trigger gg_trg____________________079=null
trigger gg_trg____________________271=null
trigger gg_trg____________________037=null
trigger gg_trg____________________039=null
trigger gg_trg____________________038=null
trigger gg_trg____________________057=null
trigger gg_trg____________________104=null
trigger gg_trg____________________098=null
trigger gg_trg_Start_SpellSystem=null
trigger gg_trg_______________________________166=null
trigger gg_trg______________________________030=null
trigger gg_trg______________________________068=null
trigger gg_trg_____________________________011=null
trigger gg_trg_______________________________026=null
trigger gg_trg_______________________________085=null
trigger gg_trg_______________________________009=null
trigger gg_trg____________________205=null
trigger gg_trg____________________205_______u=null
trigger gg_trg____________________214=null
trigger gg_trg______________________________009=null
trigger gg_trg______________________________013=null
trigger gg_trg______________________________056=null
trigger gg_trg_____________________________006=null
trigger gg_trg____________________193=null
trigger gg_trg________________________________008=null
trigger gg_trg____________________122=null
trigger gg_trg_______________________________015=null
trigger gg_trg______________________________100=null
trigger gg_trg______________________________016=null
trigger gg_trg_______________________________101=null
trigger gg_trg______________________________102=null
trigger gg_trg____________________115=null
trigger gg_trg_D________________________036=null
trigger gg_trg____________________052=null
trigger gg_trg____________________054=null
trigger gg_trg____________________007=null
trigger gg_trg______________________________020=null
trigger gg_trg_____________________________024=null
trigger gg_trg____________________082=null
trigger gg_trg____________________003=null
trigger gg_trg____________________011=null
trigger gg_trg____________________074=null
trigger gg_trg____________________077=null
trigger gg_trg____________________078=null
trigger gg_trg____________________080=null
trigger gg_trg____________________064=null
trigger gg_trg____________________081=null
trigger gg_trg____________________109=null
trigger gg_trg____________________075=null
trigger gg_trg____________________181=null
trigger gg_trg____________________177=null
trigger gg_trg____________________215=null
trigger gg_trg_______________________________007=null
trigger gg_trg_______________________________181=null
trigger gg_trg_______________________________075=null
trigger gg_trg______________________________236=null
trigger gg_trg_______BOSS_________________018=null
trigger gg_trg_BOSS_______________________019=null
trigger gg_trg____________________217=null
trigger gg_trg______________________________053=null
trigger gg_trg_______________________________068=null
trigger gg_trg_____________25_______________066=null
trigger gg_trg_______________________________136=null
trigger gg_trg_______________________________012=null
trigger gg_trg________________________________006=null
trigger gg_trg________________________________116=null
trigger gg_trg_______________________________035=null
trigger gg_trg____________________027=null
trigger gg_trg____________________028=null
trigger gg_trg____________________029=null
trigger gg_trg____________________032=null
trigger gg_trg____________________034=null
trigger gg_trg____________________030=null
trigger gg_trg____________________199=null
trigger gg_trg____________________200=null
trigger gg_trg____________________206=null
trigger gg_trg____________________207=null
trigger gg_trg____________________231=null
trigger gg_trg____________________040=null
trigger gg_trg____________________041=null
trigger gg_trg____________________096=null
trigger gg_trg____________________042=null
trigger gg_trg____________________043=null
trigger gg_trg____________________072=null
trigger gg_trg____________________097=null
trigger gg_trg____________________047=null
trigger gg_trg____________________046=null
trigger gg_trg____________________048=null
trigger gg_trg____________________099=null
trigger gg_trg____________________058=null
trigger gg_trg____________________061=null
trigger gg_trg____________________066=null
trigger gg_trg____________________068=null
trigger gg_trg____________________070=null
trigger gg_trg____________________071=null
trigger gg_trg____________________076=null
trigger gg_trg____________________084=null
trigger gg_trg____________________085=null
trigger gg_trg____________________091=null
trigger gg_trg____________________094=null
trigger gg_trg____________________095=null
trigger gg_trg____________________100=null
trigger gg_trg____________________101=null
trigger gg_trg____________________102=null
trigger gg_trg____________________103=null
trigger gg_trg____________________031=null
trigger gg_trg____________________182=null
trigger gg_trg____________________183=null
trigger gg_trg____________________063=null
trigger gg_trg____________________197=null
trigger gg_trg____________________198=null
trigger gg_trg____________________201=null
trigger gg_trg____________________202=null
trigger gg_trg____________________204=null
trigger gg_trg____________________203=null
trigger gg_trg____________________208=null
trigger gg_trg____________________209=null
trigger gg_trg____________________210=null
trigger gg_trg____________________211=null
trigger gg_trg____________________212=null
trigger gg_trg____________________213=null
trigger gg_trg____________________218=null
trigger gg_trg____________________223=null
trigger gg_trg____________________224=null
trigger gg_trg____________________225=null
trigger gg_trg____________________226=null
trigger gg_trg____________________227=null
trigger gg_trg____________________228=null
trigger gg_trg____________________229=null
trigger gg_trg____________________236=null
trigger gg_trg____________________237=null
trigger gg_trg____________________238=null
trigger gg_trg____________________239=null
trigger gg_trg____________________240=null
trigger gg_trg____________________241=null
trigger gg_trg____________________230=null
trigger gg_trg____________________191=null
trigger gg_trg____________________173=null
trigger gg_trg____________________174=null
trigger gg_trg____________________179=null
trigger gg_trg____________________176=null
trigger gg_trg____________________045=null
trigger gg_trg____________________044=null
trigger gg_trg____________________146=null
trigger gg_trg____________________165=null
trigger gg_trg____________________140=null
trigger gg_trg____________________013=null
trigger gg_trg____________________060=null
trigger gg_trg____________________141=null
trigger gg_trg____________________006=null
trigger gg_trg____________________010=null
trigger gg_trg____________________019=null
trigger gg_trg____________________020=null
trigger gg_trg____________________022=null
trigger gg_trg____________________004=null
trigger gg_trg____________________112=null
trigger gg_trg____________________113=null
trigger gg_trg____________________114=null
trigger gg_trg____________________116=null
trigger gg_trg____________________123=null
trigger gg_trg____________________124=null
trigger gg_trg____________________118=null
trigger gg_trg____________________119=null
trigger gg_trg____________________125=null
trigger gg_trg____________________126=null
trigger gg_trg____________________106=null
trigger gg_trg____________________107=null
trigger gg_trg____________________108=null
trigger gg_trg____________________111=null
trigger gg_trg____________________105=null
trigger gg_trg____________________002=null
trigger gg_trg____________________016=null
trigger gg_trg____________________134=null
trigger gg_trg____________________150=null
trigger gg_trg____________________153=null
trigger gg_trg____________________154=null
trigger gg_trg____________________050=null
trigger gg_trg_____________________________052=null
trigger gg_trg____________________222=null
trigger gg_trg____________________024_______u=null
trigger gg_trg____________________128=null
trigger gg_trg____________________130=null
trigger gg_trg____________________194=null
trigger gg_trg____________________195=null
trigger gg_trg____________________196=null
trigger gg_trg____________________065=null
trigger gg_trg____________________219=null
trigger gg_trg____________________018=null
trigger gg_trg____________________023=null
trigger gg_trg____________________024=null
trigger gg_trg____________________025=null
trigger gg_trg____________________026=null
trigger gg_trg____________________148=null
trigger gg_trg____________________149=null
trigger gg_trg____________________152=null
trigger gg_trg____________________059=null
trigger gg_trg____________________073=null
trigger gg_trg____________________062=null
trigger gg_trg____________________155=null
trigger gg_trg____________________110=null
trigger gg_trg____________________117=null
trigger gg_trg____________________009=null
trigger gg_trg____________________015=null
trigger gg_trg____________________136=null
trigger gg_trg____________________137=null
trigger gg_trg____________________138=null
trigger gg_trg____________________139=null
trigger gg_trg____________________162=null
trigger gg_trg____________________216=null
trigger gg_trg____________________157=null
trigger gg_trg____________________127=null
trigger gg_trg____________________131=null
trigger gg_trg____________________242=null
trigger gg_trg____________________232=null
trigger gg_trg____________________163=null
trigger gg_trg____________________133=null
trigger gg_trg____________________167=null
trigger gg_trg____________________164=null
trigger gg_trg____________________170=null
trigger gg_trg____________________171=null
trigger gg_trg____________________172=null
trigger gg_trg____________________135=null
trigger gg_trg____________________159=null
trigger gg_trg____________________169=null
trigger gg_trg____________________175=null
trigger gg_trg____________________178=null
trigger gg_trg____________________221=null
trigger gg_trg____________________233=null
trigger gg_trg____________________235=null
trigger gg_trg____________________120=null
trigger gg_trg____________________132=null
trigger gg_trg____________________166=null
trigger gg_trg____________________168=null
trigger gg_trg____________________035=null
trigger gg_trg____________________192=null
trigger gg_trg____________________220=null
trigger gg_trg____________________234=null
trigger gg_trg____________________121=null
trigger gg_trg____________________067=null
trigger gg_trg____________________069=null
trigger gg_trg____________________147=null
trigger gg_trg____________________129=null
trigger gg_trg____________________144=null
trigger gg_trg____________________145=null
trigger gg_trg____________________151=null
trigger gg_trg____________________160=null
trigger gg_trg____________________161=null
trigger gg_trg____________________036=null
trigger gg_trg____________________012=null
unit gg_unit_Hpal_0030=null
unit gg_unit_hpea_0237=null
unit gg_unit_hpea_0236=null
unit gg_unit_hpea_0186=null
unit gg_unit_hpea_0184=null
unit gg_unit_n00G_0010=null
unit gg_unit_n00G_0243=null
unit gg_unit_n00G_0242=null
unit gg_unit_n00G_0153=null
unit gg_unit_n00D_0152=null
unit gg_unit_n017_0235=null
unit gg_unit_Nmag_0246=null
destructable gg_dest_B002_5225=null
destructable gg_dest_B002_5214=null
destructable gg_dest_B002_5216=null
destructable gg_dest_B002_5224=null
destructable gg_dest_B002_5223=null
destructable gg_dest_B002_5222=null
destructable gg_dest_B002_5221=null
destructable gg_dest_B002_5220=null
destructable gg_dest_B002_5219=null
destructable gg_dest_B002_5218=null
destructable gg_dest_B002_5217=null
destructable gg_dest_B002_5213=null
destructable gg_dest_B002_5226=null
destructable gg_dest_B002_5215=null
destructable gg_dest_B002_5227=null
destructable gg_dest_B002_5210=null
destructable gg_dest_B002_5211=null
destructable gg_dest_B002_5212=null
destructable gg_dest_B002_5209=null
destructable gg_dest_B002_0090=null
destructable gg_dest_B002_0091=null
destructable gg_dest_B002_0092=null
destructable gg_dest_B002_0093=null
destructable gg_dest_B002_0094=null
destructable gg_dest_B002_0095=null
destructable gg_dest_B002_0096=null
integer si__MemoryLeakHelper__GTable_F=0
integer si__MemoryLeakHelper__GTable_I=0
integer array si__MemoryLeakHelper__GTable_V
integer si__YDWEStringFormula__Inventory_F=0
integer si__YDWEStringFormula__Inventory_I=0
integer array si__YDWEStringFormula__Inventory_V
integer s__YDWEStringFormula__ItemIdMatrix_Data
integer s__YDWEStringFormula__ItemIdMatrix_Total=1
integer array s__YDWEStringFormula__ItemIdMatrix_itemId
string array s__YDWEStringFormula__ItemIdMatrix_keyStr
integer array s__YDWEStringFormula__ItemIdMatrix_keyLen
integer s__YDWEStringFormula__FormulaMatrix_Data
integer s__YDWEStringFormula__FormulaMatrix_Total=1
string array s__YDWEStringFormula__FormulaMatrix_formula
integer array s__YDWEStringFormula__FormulaMatrix_segmLen
string array s__YDWEStringFormula__FormulaMatrix_model
string array s__YDWEStringFormula__FormulaMatrix_message
integer array s__YDWEStringFormula__FormulaMatrix_chance
boolean array s__YDWEStringFormula__FormulaMatrix_delete
integer si__YDWEStringFormula__Sorting_F=0
integer si__YDWEStringFormula__Sorting_I=0
integer array si__YDWEStringFormula__Sorting_V
integer array s___YDWEStringFormula__Sorting_stack
integer s___YDWEStringFormula__Sorting_stack_size=8
integer array s__YDWEStringFormula__Sorting_stack
integer array s___YDWEStringFormula__Sorting_count
integer array s__YDWEStringFormula__Sorting_count
integer array s__YDWEStringFormula__Sorting_total
string array s__YDWEStringFormula__Sorting_char
integer si__YDWETimerPattern__YDVector3_F=0
integer si__YDWETimerPattern__YDVector3_I=0
integer array si__YDWETimerPattern__YDVector3_V
real array s__YDWETimerPattern__YDVector3_x
real array s__YDWETimerPattern__YDVector3_y
integer si__YDWETimerPattern__Thread_F=0
integer si__YDWETimerPattern__Thread_I=0
integer array si__YDWETimerPattern__Thread_V
integer array s__YDWETimerPattern__Thread_des
integer array s__YDWETimerPattern__Thread_pos
integer array s__YDWETimerPattern__Thread_vel
unit array s__YDWETimerPattern__Thread_caster
unit array s__YDWETimerPattern__Thread_target
unit array s__YDWETimerPattern__Thread_obj
real array s__YDWETimerPattern__Thread_dist
real array s__YDWETimerPattern__Thread_step
real array s__YDWETimerPattern__Thread_amount
integer array s__YDWETimerPattern__Thread_switch
integer array s__YDWETimerPattern__Thread_follow
integer array s__YDWETimerPattern__Thread_unitid
integer array s__YDWETimerPattern__Thread_skills
integer array s__YDWETimerPattern__Thread_order
integer array s__YDWETimerPattern__Thread_level
string array s__YDWETimerPattern__Thread_dsfx
string array s__YDWETimerPattern__Thread_gsfx
string array s__YDWETimerPattern__Thread_wsfx
string array s__YDWETimerPattern__Thread_part
boolean array s__YDWETimerPattern__Thread_recycle
boolean array s__YDWETimerPattern__Thread_killdest
boolean array s__YDWETimerPattern__Thread_volume
group array s__YDWETimerPattern__Thread_g
timer array s__YDWETimerPattern__Thread_t
location array s__MemoryLeakHelper__LocationLeakData
location array s__2MemoryLeakHelper__LocationLeakData
location array s__3MemoryLeakHelper__LocationLeakData
location array s__4MemoryLeakHelper__LocationLeakData
location array s__5MemoryLeakHelper__LocationLeakData
location array s__6MemoryLeakHelper__LocationLeakData
location array s__7MemoryLeakHelper__LocationLeakData
location array s__8MemoryLeakHelper__LocationLeakData
location array s__MemoryLeakHelper__LocationDestroyData
location array s__2MemoryLeakHelper__LocationDestroyData
location array s__3MemoryLeakHelper__LocationDestroyData
location array s__4MemoryLeakHelper__LocationDestroyData
location array s__5MemoryLeakHelper__LocationDestroyData
location array s__6MemoryLeakHelper__LocationDestroyData
location array s__7MemoryLeakHelper__LocationDestroyData
location array s__8MemoryLeakHelper__LocationDestroyData
effect array s__MemoryLeakHelper__EffectLeakData
effect array s__2MemoryLeakHelper__EffectLeakData
effect array s__3MemoryLeakHelper__EffectLeakData
effect array s__4MemoryLeakHelper__EffectLeakData
effect array s__5MemoryLeakHelper__EffectLeakData
effect array s__6MemoryLeakHelper__EffectLeakData
effect array s__7MemoryLeakHelper__EffectLeakData
effect array s__8MemoryLeakHelper__EffectLeakData
effect array s__MemoryLeakHelper__EffectDestroyData
effect array s__2MemoryLeakHelper__EffectDestroyData
effect array s__3MemoryLeakHelper__EffectDestroyData
effect array s__4MemoryLeakHelper__EffectDestroyData
effect array s__5MemoryLeakHelper__EffectDestroyData
effect array s__6MemoryLeakHelper__EffectDestroyData
effect array s__7MemoryLeakHelper__EffectDestroyData
effect array s__8MemoryLeakHelper__EffectDestroyData
group array s__MemoryLeakHelper__GroupLeakData
group array s__2MemoryLeakHelper__GroupLeakData
group array s__3MemoryLeakHelper__GroupLeakData
group array s__4MemoryLeakHelper__GroupLeakData
group array s__5MemoryLeakHelper__GroupLeakData
group array s__6MemoryLeakHelper__GroupLeakData
group array s__7MemoryLeakHelper__GroupLeakData
group array s__8MemoryLeakHelper__GroupLeakData
group array s__MemoryLeakHelper__GroupDestroyData
group array s__2MemoryLeakHelper__GroupDestroyData
group array s__3MemoryLeakHelper__GroupDestroyData
group array s__4MemoryLeakHelper__GroupDestroyData
group array s__5MemoryLeakHelper__GroupDestroyData
group array s__6MemoryLeakHelper__GroupDestroyData
group array s__7MemoryLeakHelper__GroupDestroyData
group array s__8MemoryLeakHelper__GroupDestroyData
integer array si__MemoryLeakHelper__GTable_type
trigger array st__MemoryLeakHelper__GTable_onDestroy
integer array si__YDWEStringFormula__Inventory_type
trigger array st__YDWEStringFormula__Inventory_onDestroy
integer array si__YDWETimerPattern__Thread_type
trigger array st__YDWETimerPattern__Thread_onDestroy
trigger st__YDWEStringFormula__Sorting_onDestroy
trigger array st___prototype46
real f__result_real
trigger array st___prototype218
trigger array st___prototype219
trigger array st___prototype220
trigger array st___prototype221
trigger array st___prototype222
trigger array st___prototype223
trigger array st___prototype224
trigger array st___prototype225
trigger array st___prototype226
trigger array st___prototype227
trigger array st___prototype228
trigger array st___prototype229
trigger array st___prototype230
location f__arg_location1
location f__arg_location2
group f__arg_group1
effect f__arg_effect1
real f__arg_real1
real f__arg_real2
integer f__arg_integer1
integer f__arg_integer2
player f__arg_player1
unit f__arg_unit1
string f__arg_string1
string f__arg_string2
boolexpr f__arg_boolexpr1
code f__arg_code1
widget f__arg_widget1
integer f__arg_this
endglobals
native DzGetMouseTerrainX takes nothing returns real
native DzGetMouseTerrainY takes nothing returns real
native DzTriggerRegisterKeyEvent takes trigger trig,integer key,integer status,boolean sync,string func returns nothing
native DzGetTriggerKeyPlayer takes nothing returns player
native EXGetEventDamageData takes integer edd_type returns integer
function YDWEReplayWriter__IsLivingPlayer takes player p returns boolean
return GetPlayerSlotState(p)==PLAYER_SLOT_STATE_PLAYING and GetPlayerController(p)==MAP_CONTROL_USER
endfunction
function YDWEReplayWriter__GetLivingfPlayer takes nothing returns player
local integer i=0
loop
exitwhen YDWEReplayWriter__IsLivingPlayer(Player(i)) or i>=11
set i=i+1
endloop
return Player(i)
endfunction
function YDWEWriteToReplay takes string table,string key,integer data returns nothing
if not YDWEReplayWriter__IsLivingPlayer(YDWEReplayWriter__curplayer) then
set YDWEReplayWriter__curplayer=YDWEReplayWriter__GetLivingfPlayer()
endif
call StoreInteger(YDWEReplayWriter__gc,table,key,data)
if GetLocalPlayer()==YDWEReplayWriter__curplayer then
call SyncStoredInteger(YDWEReplayWriter__gc,table,key)
endif
endfunction
function YDWEReplayWriter__Init takes nothing returns nothing
call FlushGameCache(InitGameCache("11.x"))
set YDWEReplayWriter__gc=InitGameCache("11.x")
endfunction
function YDWERPGScores___ToLetter takes integer i returns string
return SubString("ABCDEFGHIJKLMNOPQRSTUVWXYZ",i,i+1)
endfunction
function YDWERPGGetKey takes player p,string key returns integer
return GetStoredInteger(YDWEReplayWriter__gc,YDWERPGScores___ToLetter(GetPlayerId(p)),key)
endfunction
function YDWERPGSetKey takes player p,string key,integer value returns nothing
call YDWEWriteToReplay(YDWERPGScores___ToLetter(GetPlayerId(p))+"=",key,value)
endfunction
function MyGetValue takes player whichPlayer,string key returns string
return I2S(YDWERPGGetKey(whichPlayer,key))
endfunction
function MySetValue takes player whichPlayer,string key,string value returns nothing
call YDWERPGSetKey(whichPlayer,key,S2I(value))
endfunction
function DzAPI_Map_GetServerValue takes player whichPlayer,string key returns string
return MyGetValue(whichPlayer,key)
endfunction
function DzAPI_Map_SaveServerValue takes player whichPlayer,string key,string value returns boolean
call MySetValue(whichPlayer,key,value)
return true
endfunction
function GetPlayerExperience takes player whichPlayer returns integer
return S2I(MyGetValue(whichPlayer,"WJJY"))
endfunction
function AddExperienceToPlayer takes player whichPlayer returns nothing
if GetPlayerController(whichPlayer)==MAP_CONTROL_USER and GetPlayerSlotState(whichPlayer)==PLAYER_SLOT_STATE_PLAYING then
call MySetValue(whichPlayer,"WJJY",I2S(GetPlayerExperience(whichPlayer)+MyTime))
else
endif
endfunction
function DzAPI_Map_GetMapLevel takes player whichPlayer returns integer
local integer ydul_1
set ydul_1=GetPlayerExperience(whichPlayer)/3600
if ydul_1>=1 and ydul_1<4 then
return 2
else
endif
if ydul_1>=4 and ydul_1<9 then
return 3
else
endif
if ydul_1>=9 and ydul_1<16 then
return 4
else
endif
if ydul_1>=16 and ydul_1<25 then
return 5
else
endif
if ydul_1>=25 and ydul_1<36 then
return 6
else
endif
if ydul_1>=36 and ydul_1<49 then
return 7
else
endif
if ydul_1>=49 and ydul_1<64 then
return 8
else
endif
if ydul_1>=64 and ydul_1<81 then
return 9
else
endif
if ydul_1>=81 and ydul_1<100 then
return 10
else
endif
if ydul_1>=100 and ydul_1<121 then
return 11
else
endif
if ydul_1>=121 and ydul_1<144 then
return 12
else
endif
if ydul_1>=144 and ydul_1<169 then
return 13
else
endif
if ydul_1>=169 and ydul_1<196 then
return 14
else
endif
if ydul_1>=196 and ydul_1<225 then
return 15
else
endif
if ydul_1>=225 and ydul_1<256 then
return 16
else
endif
if ydul_1>=256 and ydul_1<289 then
return 17
else
endif
if ydul_1>=289 and ydul_1<324 then
return 18
else
endif
if ydul_1>=324 and ydul_1<361 then
return 19
else
endif
if ydul_1>=361 and ydul_1<400 then
return 20
else
endif
if ydul_1>=400 and ydul_1<441 then
return 21
else
endif
if ydul_1>=441 and ydul_1<484 then
return 22
else
endif
if ydul_1>=484 and ydul_1<529 then
return 23
else
endif
if ydul_1>=529 and ydul_1<576 then
return 24
else
endif
if ydul_1>=576 and ydul_1<625 then
return 25
else
endif
if ydul_1>=625 and ydul_1<676 then
return 26
else
endif
if ydul_1>=676 and ydul_1<729 then
return 27
else
endif
if ydul_1>=729 and ydul_1<784 then
return 28
else
endif
if ydul_1>=784 and ydul_1<841 then
return 29
else
endif
if ydul_1>=841 and ydul_1<900 then
return 30
else
endif
if ydul_1>=900 and ydul_1<961 then
return 31
else
endif
if ydul_1>=961 and ydul_1<1024 then
return 32
else
endif
if ydul_1>=1024 and ydul_1<1089 then
return 33
else
endif
if ydul_1>=1089 and ydul_1<1156 then
return 34
else
endif
if ydul_1>=1156 and ydul_1<1225 then
return 35
else
endif
if ydul_1>=1225 and ydul_1<1296 then
return 36
else
endif
if ydul_1>=1296 and ydul_1<1369 then
return 37
else
endif
if ydul_1>=1369 and ydul_1<1444 then
return 38
else
endif
if ydul_1>=1444 and ydul_1<1521 then
return 39
else
endif
if ydul_1>=1521 and ydul_1<1600 then
return 40
else
endif
if ydul_1>=1600 and ydul_1<1681 then
return 41
else
endif
if ydul_1>=1681 and ydul_1<1764 then
return 42
else
endif
if ydul_1>=1764 and ydul_1<1849 then
return 43
else
endif
if ydul_1>=1849 and ydul_1<1936 then
return 44
else
endif
if ydul_1>=1936 and ydul_1<2025 then
return 45
else
endif
if ydul_1>=2025 and ydul_1<2116 then
return 46
else
endif
if ydul_1>=2116 and ydul_1<2209 then
return 47
else
endif
if ydul_1>=2209 and ydul_1<2304 then
return 48
else
endif
if ydul_1>=2304 and ydul_1<2400 then
return 49
else
endif
if ydul_1>=2400 then
return 50
else
return 1
endif
endfunction
function PercentageLV takes player whichPlayer returns nothing
local real aaa=0.
local integer Lvd=DzAPI_Map_GetMapLevel(whichPlayer)
local real Exd=GetPlayerExperience(whichPlayer)/3600
if GetPlayerController(whichPlayer)==MAP_CONTROL_USER and GetPlayerSlotState(whichPlayer)==PLAYER_SLOT_STATE_PLAYING then
if Lvd==50 then
set aaa=100
else
set aaa=(Exd-(Lvd-1)*(Lvd-1))/(2*Lvd-1)*100
endif
call DisplayTimedTextToPlayer(whichPlayer,0.,0.,10.,"当前地图等级升级进度"+R2S(aaa)+"%")
call MySetValue(whichPlayer,"SJJD",I2S(R2I(aaa)))
endif
endfunction
function MyTrigTime001 takes nothing returns nothing
if MyTime==0 then
set MyTime=300
call YDWERPGSetKey(GetLocalPlayer(),"DJ",DzAPI_Map_GetMapLevel(GetLocalPlayer()))
endif
call AddExperienceToPlayer(GetLocalPlayer())
call PercentageLV(GetLocalPlayer())
endfunction
function MyInitTimeTrig001 takes nothing returns nothing
set MyTime_trg001=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(MyTime_trg001,100)
call TriggerAddAction(MyTime_trg001,function MyTrigTime001)
endfunction
function YDWERPGBilling__ToLetter takes integer i returns string
return SubString("ABCDEFGHIJKLMNOPQRSTUVWXYZ",i,i+1)
endfunction
function YDWERPGBilling__GetTable takes integer playerid returns gamecache
if YDWERPGBilling__m_table[playerid]==null then
set YDWERPGBilling__m_table[playerid]=InitGameCache("11billing@"+YDWERPGBilling__ToLetter(playerid))
endif
return YDWERPGBilling__m_table[playerid]
endfunction
function YDWERPGBillingGetItem takes player p,string key returns integer
return GetStoredInteger(YDWERPGBilling__GetTable(GetPlayerId(p)),"道具",key)
endfunction
function YDWERPGBillingHasStatus takes player p,string key returns boolean
return HaveStoredInteger(YDWERPGBilling__GetTable(GetPlayerId(p)),"状态",key)
endfunction
function DzAPI_Map_HasMallItem takes player whichPlayer,string key returns boolean
if YDWERPGBillingGetItem(whichPlayer,"3161707")>=1 then
return true
endif
return YDWERPGBillingHasStatus(whichPlayer,key)==true
endfunction
function DzAPI_Map_GetGuildName takes player whichPlayer returns string
return "0"
endfunction
function sg__MemoryLeakHelper__LocationLeakData_get takes integer i returns location
if i<8191 then
return s__MemoryLeakHelper__LocationLeakData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__LocationLeakData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__LocationLeakData[i-16382]
else
return s__4MemoryLeakHelper__LocationLeakData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__LocationLeakData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__LocationLeakData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__LocationLeakData[i-49146]
else
return s__8MemoryLeakHelper__LocationLeakData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__LocationLeakData_set takes integer i,location v returns nothing
if i<8191 then
set s__MemoryLeakHelper__LocationLeakData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__LocationLeakData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__LocationLeakData[i-16382]=v
else
set s__4MemoryLeakHelper__LocationLeakData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__LocationLeakData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__LocationLeakData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__LocationLeakData[i-49146]=v
else
set s__8MemoryLeakHelper__LocationLeakData[i-57337]=v
endif
endfunction
function sg__MemoryLeakHelper__LocationDestroyData_get takes integer i returns location
if i<8191 then
return s__MemoryLeakHelper__LocationDestroyData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__LocationDestroyData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__LocationDestroyData[i-16382]
else
return s__4MemoryLeakHelper__LocationDestroyData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__LocationDestroyData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__LocationDestroyData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__LocationDestroyData[i-49146]
else
return s__8MemoryLeakHelper__LocationDestroyData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__LocationDestroyData_set takes integer i,location v returns nothing
if i<8191 then
set s__MemoryLeakHelper__LocationDestroyData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__LocationDestroyData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__LocationDestroyData[i-16382]=v
else
set s__4MemoryLeakHelper__LocationDestroyData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__LocationDestroyData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__LocationDestroyData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__LocationDestroyData[i-49146]=v
else
set s__8MemoryLeakHelper__LocationDestroyData[i-57337]=v
endif
endfunction
function sg__MemoryLeakHelper__EffectLeakData_get takes integer i returns effect
if i<8191 then
return s__MemoryLeakHelper__EffectLeakData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__EffectLeakData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__EffectLeakData[i-16382]
else
return s__4MemoryLeakHelper__EffectLeakData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__EffectLeakData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__EffectLeakData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__EffectLeakData[i-49146]
else
return s__8MemoryLeakHelper__EffectLeakData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__EffectLeakData_set takes integer i,effect v returns nothing
if i<8191 then
set s__MemoryLeakHelper__EffectLeakData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__EffectLeakData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__EffectLeakData[i-16382]=v
else
set s__4MemoryLeakHelper__EffectLeakData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__EffectLeakData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__EffectLeakData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__EffectLeakData[i-49146]=v
else
set s__8MemoryLeakHelper__EffectLeakData[i-57337]=v
endif
endfunction
function sg__MemoryLeakHelper__EffectDestroyData_get takes integer i returns effect
if i<8191 then
return s__MemoryLeakHelper__EffectDestroyData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__EffectDestroyData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__EffectDestroyData[i-16382]
else
return s__4MemoryLeakHelper__EffectDestroyData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__EffectDestroyData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__EffectDestroyData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__EffectDestroyData[i-49146]
else
return s__8MemoryLeakHelper__EffectDestroyData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__EffectDestroyData_set takes integer i,effect v returns nothing
if i<8191 then
set s__MemoryLeakHelper__EffectDestroyData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__EffectDestroyData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__EffectDestroyData[i-16382]=v
else
set s__4MemoryLeakHelper__EffectDestroyData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__EffectDestroyData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__EffectDestroyData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__EffectDestroyData[i-49146]=v
else
set s__8MemoryLeakHelper__EffectDestroyData[i-57337]=v
endif
endfunction
function sg__MemoryLeakHelper__GroupLeakData_get takes integer i returns group
if i<8191 then
return s__MemoryLeakHelper__GroupLeakData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__GroupLeakData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__GroupLeakData[i-16382]
else
return s__4MemoryLeakHelper__GroupLeakData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__GroupLeakData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__GroupLeakData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__GroupLeakData[i-49146]
else
return s__8MemoryLeakHelper__GroupLeakData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__GroupLeakData_set takes integer i,group v returns nothing
if i<8191 then
set s__MemoryLeakHelper__GroupLeakData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__GroupLeakData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__GroupLeakData[i-16382]=v
else
set s__4MemoryLeakHelper__GroupLeakData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__GroupLeakData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__GroupLeakData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__GroupLeakData[i-49146]=v
else
set s__8MemoryLeakHelper__GroupLeakData[i-57337]=v
endif
endfunction
function sg__MemoryLeakHelper__GroupDestroyData_get takes integer i returns group
if i<8191 then
return s__MemoryLeakHelper__GroupDestroyData[i]
elseif i<32764 then
if i<16382 then
return s__2MemoryLeakHelper__GroupDestroyData[i-8191]
elseif i<24573 then
return s__3MemoryLeakHelper__GroupDestroyData[i-16382]
else
return s__4MemoryLeakHelper__GroupDestroyData[i-24573]
endif
elseif i<40955 then
return s__5MemoryLeakHelper__GroupDestroyData[i-32764]
elseif i<49146 then
return s__6MemoryLeakHelper__GroupDestroyData[i-40955]
elseif i<57337 then
return s__7MemoryLeakHelper__GroupDestroyData[i-49146]
else
return s__8MemoryLeakHelper__GroupDestroyData[i-57337]
endif
endfunction
function sg__MemoryLeakHelper__GroupDestroyData_set takes integer i,group v returns nothing
if i<8191 then
set s__MemoryLeakHelper__GroupDestroyData[i]=v
elseif i<32764 then
if i<16382 then
set s__2MemoryLeakHelper__GroupDestroyData[i-8191]=v
elseif i<24573 then
set s__3MemoryLeakHelper__GroupDestroyData[i-16382]=v
else
set s__4MemoryLeakHelper__GroupDestroyData[i-24573]=v
endif
elseif i<40955 then
set s__5MemoryLeakHelper__GroupDestroyData[i-32764]=v
elseif i<49146 then
set s__6MemoryLeakHelper__GroupDestroyData[i-40955]=v
elseif i<57337 then
set s__7MemoryLeakHelper__GroupDestroyData[i-49146]=v
else
set s__8MemoryLeakHelper__GroupDestroyData[i-57337]=v
endif
endfunction
function s__MemoryLeakHelper__GTable__allocate takes nothing returns integer
local integer this=si__MemoryLeakHelper__GTable_F
if this!=0 then
set si__MemoryLeakHelper__GTable_F=si__MemoryLeakHelper__GTable_V[this]
else
set si__MemoryLeakHelper__GTable_I=si__MemoryLeakHelper__GTable_I+1
set this=si__MemoryLeakHelper__GTable_I
endif
if this>8100 then
return 0
endif
set si__MemoryLeakHelper__GTable_type[this]=2
set si__MemoryLeakHelper__GTable_V[this]=-1
return this
endfunction
function s__MemoryLeakHelper__HandleTable__allocate takes nothing returns integer
local integer this=s__MemoryLeakHelper__GTable__allocate()
local integer kthis
if this==0 then
return 0
endif
set si__MemoryLeakHelper__GTable_type[this]=3
set kthis=this
return this
endfunction
function s__YDWEStringFormula__Inventory__allocate takes nothing returns integer
local integer this=si__YDWEStringFormula__Inventory_F
if this!=0 then
set si__YDWEStringFormula__Inventory_F=si__YDWEStringFormula__Inventory_V[this]
else
set si__YDWEStringFormula__Inventory_I=si__YDWEStringFormula__Inventory_I+1
set this=si__YDWEStringFormula__Inventory_I
endif
if this>8190 then
return 0
endif
set si__YDWEStringFormula__Inventory_type[this]=4
set si__YDWEStringFormula__Inventory_V[this]=-1
return this
endfunction
function s__YDWETimerPattern__Thread__allocate takes nothing returns integer
local integer this=si__YDWETimerPattern__Thread_F
if this!=0 then
set si__YDWETimerPattern__Thread_F=si__YDWETimerPattern__Thread_V[this]
else
set si__YDWETimerPattern__Thread_I=si__YDWETimerPattern__Thread_I+1
set this=si__YDWETimerPattern__Thread_I
endif
if this>8190 then
return 0
endif
set si__YDWETimerPattern__Thread_type[this]=12
set si__YDWETimerPattern__Thread_V[this]=-1
return this
endfunction
function sc__YDWETimerPattern__Thread_deallocate takes integer this returns nothing
if this==null then
return
elseif si__YDWETimerPattern__Thread_V[this]!=-1 then
return
endif
set f__arg_this=this
call TriggerEvaluate(st__YDWETimerPattern__Thread_onDestroy[si__YDWETimerPattern__Thread_type[this]])
set si__YDWETimerPattern__Thread_V[this]=si__YDWETimerPattern__Thread_F
set si__YDWETimerPattern__Thread_F=this
endfunction
function s__YDWETimerPattern__YDVector3__allocate takes nothing returns integer
local integer this=si__YDWETimerPattern__YDVector3_F
if this!=0 then
set si__YDWETimerPattern__YDVector3_F=si__YDWETimerPattern__YDVector3_V[this]
else
set si__YDWETimerPattern__YDVector3_I=si__YDWETimerPattern__YDVector3_I+1
set this=si__YDWETimerPattern__YDVector3_I
endif
if this>8190 then
return 0
endif
set si__YDWETimerPattern__YDVector3_V[this]=-1
return this
endfunction
function s__YDWETimerPattern__YDVector3_deallocate takes integer this returns nothing
if this==null then
return
elseif si__YDWETimerPattern__YDVector3_V[this]!=-1 then
return
endif
set si__YDWETimerPattern__YDVector3_V[this]=si__YDWETimerPattern__YDVector3_F
set si__YDWETimerPattern__YDVector3_F=this
endfunction
function s__YDWEStringFormula__Sorting__allocate takes nothing returns integer
local integer this=si__YDWEStringFormula__Sorting_F
if this!=0 then
set si__YDWEStringFormula__Sorting_F=si__YDWEStringFormula__Sorting_V[this]
else
set si__YDWEStringFormula__Sorting_I=si__YDWEStringFormula__Sorting_I+1
set this=si__YDWEStringFormula__Sorting_I
endif
if this>1022 then
return 0
endif
set s__YDWEStringFormula__Sorting_stack[this]=(this-1)*8
set s__YDWEStringFormula__Sorting_count[this]=(this-1)*8
set s__YDWEStringFormula__Sorting_total[this]=7
set si__YDWEStringFormula__Sorting_V[this]=-1
return this
endfunction
function s__YDWEStringFormula__StringTable__allocate takes nothing returns integer
local integer this=s__YDWEStringFormula__Inventory__allocate()
local integer kthis
if this==0 then
return 0
endif
set si__YDWEStringFormula__Inventory_type[this]=5
set kthis=this
return this
endfunction
function s__YDWETimerPattern__Deceleration__allocate takes nothing returns integer
local integer this=s__YDWETimerPattern__Thread__allocate()
local integer kthis
if this==0 then
return 0
endif
set si__YDWETimerPattern__Thread_type[this]=15
set kthis=this
return this
endfunction
function sc___prototype218_evaluate takes integer i,location a1 returns nothing
set f__arg_location1=a1
call TriggerEvaluate(st___prototype218[i])
endfunction
function sc___prototype219_evaluate takes integer i,group a1 returns nothing
set f__arg_group1=a1
call TriggerEvaluate(st___prototype219[i])
endfunction
function sc___prototype220_evaluate takes integer i,effect a1 returns nothing
set f__arg_effect1=a1
call TriggerEvaluate(st___prototype220[i])
endfunction
function sc___prototype221_evaluate takes integer i,location a1,real a2,real a3 returns nothing
set f__arg_location1=a1
set f__arg_real1=a2
set f__arg_real2=a3
call TriggerEvaluate(st___prototype221[i])
endfunction
function sc___prototype222_evaluate takes integer i,integer a1,integer a2,player a3,location a4,real a5 returns nothing
set f__arg_integer1=a1
set f__arg_integer2=a2
set f__arg_player1=a3
set f__arg_location1=a4
set f__arg_real1=a5
call TriggerEvaluate(st___prototype222[i])
endfunction
function sc___prototype224_evaluate takes integer i,unit a1,location a2 returns nothing
set f__arg_unit1=a1
set f__arg_location1=a2
call TriggerEvaluate(st___prototype224[i])
endfunction
function sc___prototype228_evaluate takes integer i,group a1,code a2 returns nothing
set f__arg_group1=a1
set f__arg_code1=a2
call TriggerEvaluate(st___prototype228[i])
endfunction
function h__PolarProjectionBJ takes location a0,real a1,real a2 returns location
call sc___prototype221_evaluate(1,a0,a1,a2)
return PolarProjectionBJ(a0,a1,a2)
endfunction
function h__CreateNUnitsAtLoc takes integer a0,integer a1,player a2,location a3,real a4 returns group
call sc___prototype222_evaluate(1,a0,a1,a2,a3,a4)
return CreateNUnitsAtLoc(a0,a1,a2,a3,a4)
endfunction
function h__SetUnitPositionLoc takes unit a0,location a1 returns nothing
call sc___prototype224_evaluate(1,a0,a1)
call SetUnitPositionLoc(a0,a1)
endfunction
function h__RemoveLocation takes location a0 returns nothing
call sc___prototype218_evaluate(1,a0)
call RemoveLocation(a0)
endfunction
function h__ForGroupBJ takes group a0,code a1 returns nothing
call sc___prototype228_evaluate(1,a0,a1)
call ForGroupBJ(a0,a1)
endfunction
function h__CountUnitsInGroup takes group a0 returns integer
call sc___prototype219_evaluate(1,a0)
return CountUnitsInGroup(a0)
endfunction
function h__DestroyGroup takes group a0 returns nothing
call sc___prototype219_evaluate(2,a0)
call DestroyGroup(a0)
endfunction
function h__DestroyEffect takes effect a0 returns nothing
call sc___prototype220_evaluate(1,a0)
call DestroyEffect(a0)
endfunction
function cj_true_a497bnsor7 takes nothing returns boolean
return true
endfunction
function cjLibw560nbs9b8nse46703948___init takes nothing returns nothing
set cj_true_bool_4896bnao87=Condition(function cj_true_a497bnsor7)
endfunction
function DzTriggerRegisterKeyEventTrg takes trigger trg,integer status,integer btn returns nothing
if trg==null then
return
endif
call DzTriggerRegisterKeyEvent(trg,btn,status,true,null)
endfunction
function EnumDesInCircleDYC takes real radius,real x,real y,code actionFunc returns nothing
local rect r=Rect(x-radius,y-radius,x+radius,y+radius)
local location loc=Location(x,y)
if radius>=0 then
set bj_enumDestructableCenter=loc
set bj_enumDestructableRadius=radius
call EnumDestructablesInRect(r,filterEnumDestructablesInCircleBJ,actionFunc)
call RemoveRect(r)
call h__RemoveLocation(loc)
endif
endfunction
function DYCbase__SysDYCPlayerSelection takes nothing returns nothing
set dyc_LastSelectedUnit[GetPlayerId(GetTriggerPlayer())]=GetTriggerUnit()
endfunction
function DYCbase__DYCbaseini takes nothing returns nothing
local trigger tri
local integer i
set tri=CreateTrigger()
call TriggerAddAction(tri,function DYCbase__SysDYCPlayerSelection)
set i=0
loop
exitwhen i>15
set dyc_LastSelectedUnit[i]=null
call TriggerRegisterPlayerSelectionEventBJ(tri,Player(i),true)
set i=i+1
endloop
set tri=null
endfunction
function DzAPI_Map_StoreInteger takes player whichPlayer,string key,integer value returns nothing
call DzAPI_Map_SaveServerValue(whichPlayer,key,I2S(value))
set key=null
set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredInteger takes player whichPlayer,string key returns integer
local integer value
set value=S2I(DzAPI_Map_GetServerValue(whichPlayer,key))
set key=null
set whichPlayer=null
return value
endfunction
function DzAPI_Map_StoreReal takes player whichPlayer,string key,real value returns nothing
call DzAPI_Map_SaveServerValue(whichPlayer,key,R2S(value))
set key=null
set whichPlayer=null
endfunction
function DzAPI_Map_GetStoredReal takes player whichPlayer,string key returns real
local real value
set value=S2R(DzAPI_Map_GetServerValue(whichPlayer,key))
set key=null
set whichPlayer=null
return value
endfunction
function HCSpeedLimit__Timer_Act takes nothing returns nothing
local integer key=GetHandleId(GetExpiredTimer())
local unit u=LoadUnitHandle(HCSpeedLimit__htb,key,1)
local integer hd=GetHandleId(u)
local real ms=LoadReal(HCSpeedLimit__htb,hd,-1)
local real x0=LoadReal(HCSpeedLimit__htb,key,2)
local real y0=LoadReal(HCSpeedLimit__htb,key,3)
local real x1=LoadReal(HCSpeedLimit__htb,key,4)
local real y1=LoadReal(HCSpeedLimit__htb,key,5)
local real n=LoadReal(HCSpeedLimit__htb,key,6)
local real n2=LoadReal(HCSpeedLimit__htb,key,7)
local real intj=LoadReal(HCSpeedLimit__htb,key,8)
local real x00=LoadReal(HCSpeedLimit__htb,key,9)
local real y00=LoadReal(HCSpeedLimit__htb,key,10)
local real cd=LoadReal(HCSpeedLimit__htb,key,11)
local real a
local real a2
local real d
local real tempd
local real ms0=GetUnitMoveSpeed(u)
set n=n+.01
set n2=n2+.01
if n2>=intj then
set n2=0
set x00=x0
set y00=y0
set x0=x1
set y0=y1
set x1=GetUnitX(u)
set y1=GetUnitY(u)
set d=SquareRoot(Pow(x0-x1,2)+Pow(y0-y1,2))
set a=Atan2(y1-y0,x1-x0)
set a2=Deg2Rad(GetUnitFacing(u))
if Cos(a-a2)<.9 and d>ms0*.8*intj then
set cd=cd+1*intj
endif
if cd<=0 or ms<ms0 then
set cd=0
if d<=550*intj and d>ms0*.8*intj then
set tempd=ms*intj-d
set x1=x1+tempd*Cos(a)
set y1=y1+tempd*Sin(a)
if RectContainsCoords(bj_mapInitialPlayableArea,x1,y1) then
call SetUnitX(u,x1)
call SetUnitY(u,y1)
endif
endif
else
set cd=cd-intj
endif
endif
call SaveUnitHandle(HCSpeedLimit__htb,key,1,u)
call SaveReal(HCSpeedLimit__htb,key,2,x0)
call SaveReal(HCSpeedLimit__htb,key,3,y0)
call SaveReal(HCSpeedLimit__htb,key,4,x1)
call SaveReal(HCSpeedLimit__htb,key,5,y1)
call SaveReal(HCSpeedLimit__htb,key,6,n)
call SaveReal(HCSpeedLimit__htb,key,7,n2)
call SaveReal(HCSpeedLimit__htb,key,8,intj)
call SaveReal(HCSpeedLimit__htb,key,9,GetUnitX(u))
call SaveReal(HCSpeedLimit__htb,key,10,GetUnitY(u))
call SaveReal(HCSpeedLimit__htb,key,11,cd)
set u=null
endfunction
function XG_SpeedLimit_Set takes unit u,real value returns nothing
local timer t=LoadTimerHandle(HCSpeedLimit__htb,GetHandleId(u),-3)
local integer key
local integer hd=GetHandleId(u)
call SaveReal(HCSpeedLimit__htb,hd,-1,value)
if t==null then
set t=CreateTimer()
else
set t=null
return
endif
set key=GetHandleId(t)
if value<0 then
set value=0
endif
call SaveUnitHandle(HCSpeedLimit__htb,key,1,u)
call SaveReal(HCSpeedLimit__htb,key,2,GetUnitX(u))
call SaveReal(HCSpeedLimit__htb,key,3,GetUnitY(u))
call SaveReal(HCSpeedLimit__htb,key,4,GetUnitX(u))
call SaveReal(HCSpeedLimit__htb,key,5,GetUnitY(u))
call SaveReal(HCSpeedLimit__htb,key,6,0)
call SaveReal(HCSpeedLimit__htb,key,7,0)
call SaveReal(HCSpeedLimit__htb,key,8,.02)
call SaveReal(HCSpeedLimit__htb,key,9,GetUnitX(u))
call SaveReal(HCSpeedLimit__htb,key,10,GetUnitY(u))
call SaveReal(HCSpeedLimit__htb,key,11,0)
call SaveTimerHandle(HCSpeedLimit__htb,GetHandleId(u),-3,t)
call TimerStart(t,.01,true,function HCSpeedLimit__Timer_Act)
set t=null
endfunction
function HcAutoMergeItem__MergeItem_Act takes nothing returns nothing
local item it=GetManipulatedItem()
local unit u=GetManipulatingUnit()
local item soltIt
local integer i=0
local integer a=GetItemCharges(it)
local integer j=0
local integer max
local integer num
local itemtype itp=GetItemType(it)
set max=LoadInteger(Xg_htb,$43A0904E,GetItemTypeId(it))
if itp==HcAutoMergeItem__ItemType or itp==ITEM_TYPE_ANY or max>0 and a>0 then
loop
set soltIt=UnitItemInSlot(u,i)
if GetItemTypeId(it)==GetItemTypeId(soltIt) and it!=soltIt then
set num=GetItemCharges(soltIt)
if max==0 then
call SetItemCharges(soltIt,num+a)
call RemoveItem(it)
else
set j=max-num
if j>0 then
if a>j then
call SetItemCharges(soltIt,num+j)
call SetItemCharges(it,a-j)
else
call SetItemCharges(soltIt,num+a)
call RemoveItem(it)
endif
endif
endif
endif
set i=i+1
exitwhen i>5
endloop
endif
set itp=null
set it=null
set soltIt=null
set u=null
endfunction
function HC_AutoMergeItem takes itemtype itp returns nothing
local integer i=0
if HcAutoMergeItem__trg!=null then
call DestroyTrigger(HcAutoMergeItem__trg)
endif
set HcAutoMergeItem__trg=CreateTrigger()
call TriggerAddAction(HcAutoMergeItem__trg,function HcAutoMergeItem__MergeItem_Act)
loop
call TriggerRegisterPlayerUnitEvent(HcAutoMergeItem__trg,Player(i),EVENT_PLAYER_UNIT_PICKUP_ITEM,null)
set i=i+1
exitwhen i>=15
endloop
set HcAutoMergeItem__ItemType=itp
endfunction
function Xg_StrColor takes nothing returns string
local string str=""
local string s="0123456789abcdef"
local integer i=1
local integer a
loop
exitwhen i>6
set a=GetRandomInt(1,16)
set str=str+SubString(s,a-1,a)
set i=i+1
endloop
return "|cff"+str
endfunction
function NFTSBrushCreeps__NFTSStartBrushCreeps_Effect takes nothing returns nothing
local timer t=GetExpiredTimer()
call h__DestroyEffect(LoadEffectHandle(NFTSBrushCreeps__ht,GetHandleId(t),0))
call FlushChildHashtable(NFTSBrushCreeps__ht,GetHandleId(t))
call PauseTimer(t)
call DestroyTimer(t)
set t=null
endfunction
function NFTSBrushCreeps__NFTSStartBrushCreeps_True takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=LoadInteger(NFTSBrushCreeps__ht,GetHandleId(t),0)
local integer A=0
local integer End=LoadInteger(NFTSBrushCreeps__ht,h,0)
local unit u
local timer et
loop
set A=A+1
set u=CreateUnit(LoadPlayerHandle(NFTSBrushCreeps__ht,h,0),LoadInteger(NFTSBrushCreeps__ht,h,10+A),LoadReal(NFTSBrushCreeps__ht,h,100000+A),LoadReal(NFTSBrushCreeps__ht,h,200000+A),LoadReal(NFTSBrushCreeps__ht,h,300000+A))
if LoadStr(NFTSBrushCreeps__ht,h,A)!="" then
set et=CreateTimer()
call SaveEffectHandle(NFTSBrushCreeps__ht,GetHandleId(et),0,AddSpecialEffect(LoadStr(NFTSBrushCreeps__ht,h,A),GetUnitX(u),GetUnitY(u)))
call TimerStart(et,2,false,function NFTSBrushCreeps__NFTSStartBrushCreeps_Effect)
endif
call SaveBoolean(NFTSBrushCreeps__ht,GetHandleId(u),0,true)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(u),0,h)
exitwhen A==End
endloop
call FlushChildHashtable(NFTSBrushCreeps__ht,GetHandleId(t))
call SaveInteger(NFTSBrushCreeps__ht,h,1,0)
call PauseTimer(t)
call DestroyTimer(t)
set t=null
set u=null
set et=null
endfunction
function NFTSFixUnitBrushCreepsTime takes unit u,real s,boolean b returns nothing
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(u),100000,s)
call SaveBoolean(NFTSBrushCreeps__ht,GetHandleId(u),100000,b)
endfunction
function NFTSBrushCreeps__NFTSStartBrushCreeps_Flase takes nothing returns nothing
local timer t=GetExpiredTimer()
local integer h=GetHandleId(t)
local unit u=CreateUnit(LoadPlayerHandle(NFTSBrushCreeps__ht,h,0),LoadInteger(NFTSBrushCreeps__ht,h,0),LoadReal(NFTSBrushCreeps__ht,h,1),LoadReal(NFTSBrushCreeps__ht,h,2),LoadReal(NFTSBrushCreeps__ht,h,3))
local timer et
if LoadStr(NFTSBrushCreeps__ht,h,0)!="" then
set et=CreateTimer()
call SaveEffectHandle(NFTSBrushCreeps__ht,GetHandleId(et),0,AddSpecialEffect(LoadStr(NFTSBrushCreeps__ht,h,0),GetUnitX(u),GetUnitY(u)))
call TimerStart(et,2,false,function NFTSBrushCreeps__NFTSStartBrushCreeps_Effect)
endif
call SaveBoolean(NFTSBrushCreeps__ht,GetHandleId(u),0,false)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(u),0,LoadInteger(NFTSBrushCreeps__ht,h,4))
call SaveStr(NFTSBrushCreeps__ht,GetHandleId(u),0,LoadStr(NFTSBrushCreeps__ht,h,0))
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(u),1,LoadInteger(NFTSBrushCreeps__ht,h,5))
if HaveSavedReal(NFTSBrushCreeps__ht,h,100000) then
call NFTSFixUnitBrushCreepsTime(u,LoadReal(NFTSBrushCreeps__ht,h,100000),true)
endif
call PauseTimer(t)
call DestroyTimer(t)
call FlushChildHashtable(NFTSBrushCreeps__ht,h)
set t=null
set u=null
set et=null
endfunction
function NFTSBrushCreeps__NFTSStartBrushCreeps_Action takes nothing returns nothing
local integer h=GetHandleId(GetTriggerUnit())
local timer t
if HaveSavedBoolean(NFTSBrushCreeps__ht,h,0)==false then
return
endif
if HaveSavedReal(NFTSBrushCreeps__ht,LoadInteger(NFTSBrushCreeps__ht,h,0),0)==false then
return
endif
if LoadBoolean(NFTSBrushCreeps__ht,h,0) then
set h=LoadInteger(NFTSBrushCreeps__ht,h,0)
call SaveInteger(NFTSBrushCreeps__ht,h,1,LoadInteger(NFTSBrushCreeps__ht,h,1)+1)
if LoadInteger(NFTSBrushCreeps__ht,h,0)==LoadInteger(NFTSBrushCreeps__ht,h,1) then
set t=CreateTimer()
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(t),0,h)
call TimerStart(t,LoadReal(NFTSBrushCreeps__ht,h,0),false,function NFTSBrushCreeps__NFTSStartBrushCreeps_True)
endif
else
set t=CreateTimer()
set h=LoadInteger(NFTSBrushCreeps__ht,h,0)
call SavePlayerHandle(NFTSBrushCreeps__ht,GetHandleId(t),0,LoadPlayerHandle(NFTSBrushCreeps__ht,h,0))
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(t),0,LoadInteger(NFTSBrushCreeps__ht,h,10+LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1)))
call SaveStr(NFTSBrushCreeps__ht,GetHandleId(t),0,LoadStr(NFTSBrushCreeps__ht,h,LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1)))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(t),1,LoadReal(NFTSBrushCreeps__ht,h,100000+LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1)))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(t),2,LoadReal(NFTSBrushCreeps__ht,h,200000+LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1)))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(t),3,LoadReal(NFTSBrushCreeps__ht,h,300000+LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1)))
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(t),4,h)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(t),5,LoadInteger(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),1))
if HaveSavedReal(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),100000) then
if LoadBoolean(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),100000) then
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(t),100000,LoadReal(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),100000))
endif
call TimerStart(t,LoadReal(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()),100000),false,function NFTSBrushCreeps__NFTSStartBrushCreeps_Flase)
else
call TimerStart(t,LoadReal(NFTSBrushCreeps__ht,h,0),false,function NFTSBrushCreeps__NFTSStartBrushCreeps_Flase)
endif
endif
call FlushChildHashtable(NFTSBrushCreeps__ht,GetHandleId(GetTriggerUnit()))
set t=null
endfunction
function NFTSStartBrushCreeps takes rect r,player p,real cd,string s,boolean b,string name returns nothing
local group g=CreateGroup()
local unit u
local integer i=0
local trigger t
set bj_groupEnumOwningPlayer=p
call GroupEnumUnitsInRect(g,r,filterGetUnitsInRectOfPlayer)
if NFTSBrushCreeps__P[GetPlayerId(p)]==false then
set NFTSBrushCreeps__P[GetPlayerId(p)]=true
set t=CreateTrigger()
call TriggerRegisterPlayerUnitEvent(t,p,EVENT_PLAYER_UNIT_DEATH,null)
call TriggerAddAction(t,function NFTSBrushCreeps__NFTSStartBrushCreeps_Action)
endif
loop
set u=FirstOfGroup(g)
if u==null then
exitwhen true
endif
set i=i+1
call GroupRemoveUnit(g,u)
call SaveBoolean(NFTSBrushCreeps__ht,GetHandleId(u),0,b)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(r),10+i,GetUnitTypeId(u))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(r),100000+i,GetUnitX(u))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(r),200000+i,GetUnitY(u))
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(r),300000+i,GetUnitFacing(u))
call SaveStr(NFTSBrushCreeps__ht,GetHandleId(r),i,s)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(u),0,GetHandleId(r))
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(u),1,i)
endloop
if b then
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(r),0,i)
call SaveInteger(NFTSBrushCreeps__ht,GetHandleId(r),1,0)
endif
call SaveReal(NFTSBrushCreeps__ht,GetHandleId(r),0,cd)
call SavePlayerHandle(NFTSBrushCreeps__ht,GetHandleId(r),0,p)
call SaveInteger(NFTSBrushCreeps__ht,StringHash(name),0,GetHandleId(r))
call h__DestroyGroup(g)
set g=null
set u=null
set t=null
endfunction
function SJWEBase__InitRect takes nothing returns nothing
call DestroyTimer(GetExpiredTimer())
set SJWEMinX=GetRectMinX(bj_mapInitialPlayableArea)
set SJWEMaxX=GetRectMaxX(bj_mapInitialPlayableArea)
set SJWEMinY=GetRectMinY(bj_mapInitialPlayableArea)
set SJWEMaxY=GetRectMaxY(bj_mapInitialPlayableArea)
endfunction
function UnitEnterEventTriggerListExecute takes unit EnterUnit returns nothing
local integer index=0
set index=SJWEBase__TNextIndex[0]
loop
exitwhen index==0
exitwhen index>SJWEBase__TListEnd
if IsTriggerEnabled(SJWEBase__TTriggerList[index]) and TriggerEvaluate(SJWEBase__TTriggerList[index]) then
call SaveUnitHandle(DATA,GetHandleId(SJWEBase__TTriggerList[index]),StringHash("EnterUnit"),EnterUnit)
call TriggerExecute(SJWEBase__TTriggerList[index])
endif
set index=SJWEBase__TNextIndex[index]
endloop
endfunction
function AnyUnitEnterRegionActionA takes nothing returns nothing
local group g=CreateGroup()
local unit pick
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,null)
loop
set pick=FirstOfGroup(g)
exitwhen pick==null
call GroupRemoveUnit(g,pick)
call UnitEnterEventTriggerListExecute(pick)
endloop
call h__DestroyGroup(g)
set g=null
set pick=null
endfunction
function AnyUnitEnterRegionActionB takes nothing returns nothing
call UnitEnterEventTriggerListExecute(GetTriggerUnit())
endfunction
function AnyUnitEnterRegion takes nothing returns nothing
local region rectRegion=CreateRegion()
local trigger tr1=CreateTrigger()
local trigger tr2=CreateTrigger()
call TriggerRegisterTimerEvent(tr1,0.,false)
call TriggerAddAction(tr1,function AnyUnitEnterRegionActionA)
call RegionAddRect(rectRegion,bj_mapInitialPlayableArea)
call TriggerRegisterEnterRegion(tr2,rectRegion,null)
call TriggerAddAction(tr2,function AnyUnitEnterRegionActionB)
set tr1=null
set tr2=null
set rectRegion=null
endfunction
function InitializeSJWE takes nothing returns nothing
call TimerStart(CreateTimer(),0,false,function SJWEBase__InitRect)
call AnyUnitEnterRegion()
endfunction
function XG_AngelBetweenUnit takes unit us,unit ue returns real
local real r=bj_RADTODEG*Atan2(GetUnitY(ue)-GetUnitY(us),GetUnitX(ue)-GetUnitX(us))
if r<=0 then
set r=r+360.
endif
return r
endfunction
function Show_WE_Info takes nothing returns nothing
call DisplayTextToPlayer(GetLocalPlayer(),0,0,"=====祝大家游戏愉快！======")
call DestroyTimer(GetExpiredTimer())
endfunction
function InitXG takes nothing returns nothing
call TimerStart(CreateTimer(),30.,false,function Show_WE_Info)
set XG_Map_Loc[1]=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)
set XG_Map_Loc[2]=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)
set XG_Map_Loc[3]=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)
set XG_Map_Loc[4]=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)
endfunction
function YDTriggerSaveLoadSystem___Init takes nothing returns nothing
set YDHT=InitHashtable()
set YDLOC=InitHashtable()
endfunction
function YDWEDistanceBetweenUnits takes unit a,unit b returns real
return SquareRoot((GetUnitX(a)-GetUnitX(b))*(GetUnitX(a)-GetUnitX(b))+(GetUnitY(a)-GetUnitY(b))*(GetUnitY(a)-GetUnitY(b)))
endfunction
function YDWEAngleBetweenUnits takes unit fromUnit,unit toUnit returns real
return bj_RADTODEG*Atan2(GetUnitY(toUnit)-GetUnitY(fromUnit),GetUnitX(toUnit)-GetUnitX(fromUnit))
endfunction
function YDWEFlyEnable takes unit u returns nothing
call UnitAddAbility(u,$416D7266)
call UnitRemoveAbility(u,$416D7266)
endfunction
function YDWESyStemAbilityCastingOverTriggerAction takes unit hero,integer index returns nothing
local integer i=0
loop
exitwhen i>=YDWEBase__AbilityCastingOverEventNumber
if YDWEBase__AbilityCastingOverEventType[i]==index then
set bj_lastAbilityCastingUnit=hero
if YDWEBase__AbilityCastingOverEventQueue[i]!=null and TriggerEvaluate(YDWEBase__AbilityCastingOverEventQueue[i]) and IsTriggerEnabled(YDWEBase__AbilityCastingOverEventQueue[i]) then
call TriggerExecute(YDWEBase__AbilityCastingOverEventQueue[i])
endif
endif
set i=i+1
endloop
endfunction
function YDWEGetPlayerColorString takes player p,string s returns string
return YDWEBase__yd_PlayerColor[GetHandleId(GetPlayerColor(p))]+s+"|r"
endfunction
function YDWEVersion_Display takes nothing returns boolean
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,"|cFF1E90FF当前编辑器版本为： |r|cFF00FF00YDWE 1.31.8.1850")
return false
endfunction
function YDWEVersion_Init takes nothing returns nothing
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i==12
call TriggerRegisterPlayerChatEvent(t,Player(i),"YDWE Version",true)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function YDWEVersion_Display))
set t=null
endfunction
function InitializeYD takes nothing returns nothing
set YDHT=InitHashtable()
set yd_MapMinX=GetCameraBoundMinX()-GetCameraMargin(CAMERA_MARGIN_LEFT)
set yd_MapMinY=GetCameraBoundMinY()-GetCameraMargin(CAMERA_MARGIN_BOTTOM)
set yd_MapMaxX=GetCameraBoundMaxX()+GetCameraMargin(CAMERA_MARGIN_RIGHT)
set yd_MapMaxY=GetCameraBoundMaxY()+GetCameraMargin(CAMERA_MARGIN_TOP)
set YDWEBase__yd_PlayerColor[0]="|cFFFF0303"
set YDWEBase__yd_PlayerColor[1]="|cFF0042FF"
set YDWEBase__yd_PlayerColor[2]="|cFF1CE6B9"
set YDWEBase__yd_PlayerColor[3]="|cFF540081"
set YDWEBase__yd_PlayerColor[4]="|cFFFFFC01"
set YDWEBase__yd_PlayerColor[5]="|cFFFE8A0E"
set YDWEBase__yd_PlayerColor[6]="|cFF20C000"
set YDWEBase__yd_PlayerColor[7]="|cFFE55BB0"
set YDWEBase__yd_PlayerColor[8]="|cFF959697"
set YDWEBase__yd_PlayerColor[9]="|cFF7EBFF1"
set YDWEBase__yd_PlayerColor[10]="|cFF106246"
set YDWEBase__yd_PlayerColor[11]="|cFF4E2A04"
set YDWEBase__yd_PlayerColor[12]="|cFF282828"
set YDWEBase__yd_PlayerColor[13]="|cFF282828"
set YDWEBase__yd_PlayerColor[14]="|cFF282828"
set YDWEBase__yd_PlayerColor[15]="|cFF282828"
call YDWEVersion_Init()
endfunction
function YDWEGetCurrentCameraSetupNull takes nothing returns camerasetup
local camerasetup theCam=CreateCameraSetup()
local real duration=0
call CameraSetupSetField(theCam,CAMERA_FIELD_TARGET_DISTANCE,GetCameraField(CAMERA_FIELD_TARGET_DISTANCE),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_FARZ,GetCameraField(CAMERA_FIELD_FARZ),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_ZOFFSET,GetCameraField(CAMERA_FIELD_ZOFFSET),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_ANGLE_OF_ATTACK,bj_RADTODEG*GetCameraField(CAMERA_FIELD_ANGLE_OF_ATTACK),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_FIELD_OF_VIEW,bj_RADTODEG*GetCameraField(CAMERA_FIELD_FIELD_OF_VIEW),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_ROLL,bj_RADTODEG*GetCameraField(CAMERA_FIELD_ROLL),duration)
call CameraSetupSetField(theCam,CAMERA_FIELD_ROTATION,bj_RADTODEG*GetCameraField(CAMERA_FIELD_ROTATION),duration)
call CameraSetupSetDestPosition(theCam,GetCameraTargetPositionX(),GetCameraTargetPositionY(),duration)
set yd_NullTempCam=theCam
set theCam=null
return yd_NullTempCam
endfunction
function YDWEGetForceOfPlayerNull takes player whichPlayer returns force
local force f=CreateForce()
call ForceAddPlayer(f,whichPlayer)
set yd_NullTempForce=f
set f=null
return yd_NullTempForce
endfunction
function YDWEGetItemOfTypeFromUnitBJNull takes unit whichUnit,integer itemId returns item
local integer index=0
loop
set yd_NullTempItem=UnitItemInSlot(whichUnit,index)
if GetItemTypeId(yd_NullTempItem)==itemId then
return yd_NullTempItem
endif
set index=index+1
exitwhen index>=bj_MAX_INVENTORY
endloop
return null
endfunction
function YDWEGetUnitsInRangeOfLocMatchingNull takes real radius,location whichLocation,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRangeOfLoc(g,whichLocation,radius,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsInRectMatchingNull takes rect r,boolexpr filter returns group
local group g=CreateGroup()
call GroupEnumUnitsInRect(g,r,filter)
call DestroyBoolExpr(filter)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsInRectOfPlayerNull takes rect r,player whichPlayer returns group
local group g=CreateGroup()
set bj_groupEnumOwningPlayer=whichPlayer
call GroupEnumUnitsInRect(g,r,filterGetUnitsInRectOfPlayer)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEGetUnitsSelectedAllNull takes player whichPlayer returns group
local group g=CreateGroup()
call SyncSelections()
call GroupEnumUnitsSelected(g,whichPlayer,null)
set yd_NullTempGroup=g
set g=null
return yd_NullTempGroup
endfunction
function YDWEMultiboardSetItemWidthBJNull takes multiboard mb,integer col,integer row,real width returns nothing
local integer curRow=0
local integer curCol=0
local integer numRows=MultiboardGetRowCount(mb)
local integer numCols=MultiboardGetColumnCount(mb)
local multiboarditem mbitem=null
loop
set curRow=curRow+1
exitwhen curRow>numRows
if row==0 or row==curRow then
set curCol=0
loop
set curCol=curCol+1
exitwhen curCol>numCols
if col==0 or col==curCol then
set mbitem=MultiboardGetItem(mb,curRow-1,curCol-1)
call MultiboardSetItemWidth(mbitem,width/100.)
call MultiboardReleaseItem(mbitem)
endif
endloop
endif
endloop
set mbitem=null
endfunction
function YDWEPolledWaitNull takes real duration returns nothing
local timer t
local real timeRemaining
if duration>0 then
set t=CreateTimer()
call TimerStart(t,duration,false,null)
loop
set timeRemaining=TimerGetRemaining(t)
exitwhen timeRemaining<=0
if timeRemaining>bj_POLLED_WAIT_SKIP_THRESHOLD then
call TriggerSleepAction(.1*timeRemaining)
else
call TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)
endif
endloop
call DestroyTimer(t)
endif
set t=null
endfunction
function YDWESetPlayerColorBJNull takes player whichPlayer,playercolor color,boolean changeExisting returns nothing
local group g
call SetPlayerColor(whichPlayer,color)
if changeExisting then
set bj_setPlayerTargetColor=color
set g=CreateGroup()
call GroupEnumUnitsOfPlayer(g,whichPlayer,null)
call ForGroup(g,function SetPlayerColorBJEnum)
call h__DestroyGroup(g)
endif
set g=null
endfunction
function YDWEAnyUnitDamagedTriggerAction takes nothing returns nothing
local integer i=0
loop
exitwhen i>=YDWETriggerEvent__DamageEventNumber
if YDWETriggerEvent__DamageEventQueue[i]!=null and IsTriggerEnabled(YDWETriggerEvent__DamageEventQueue[i]) and TriggerEvaluate(YDWETriggerEvent__DamageEventQueue[i]) then
call TriggerExecute(YDWETriggerEvent__DamageEventQueue[i])
endif
set i=i+1
endloop
endfunction
function YDWEAnyUnitDamagedFilter takes nothing returns boolean
if GetUnitAbilityLevel(GetFilterUnit(),$416C6F63)<=0 then
call TriggerRegisterUnitEvent(yd_DamageEventTrigger,GetFilterUnit(),EVENT_UNIT_DAMAGED)
endif
return false
endfunction
function YDWEAnyUnitDamagedEnumUnit takes nothing returns nothing
local group g=CreateGroup()
local integer i=0
loop
call GroupEnumUnitsOfPlayer(g,Player(i),Condition(function YDWEAnyUnitDamagedFilter))
set i=i+1
exitwhen i>=bj_MAX_PLAYER_SLOTS
endloop
call h__DestroyGroup(g)
set g=null
endfunction
function YDWEAnyUnitDamagedRegistTriggerUnitEnter takes nothing returns nothing
local trigger t=CreateTrigger()
local region r=CreateRegion()
local rect world=GetWorldBounds()
call RegionAddRect(r,world)
call TriggerRegisterEnterRegion(t,r,Condition(function YDWEAnyUnitDamagedFilter))
call RemoveRect(world)
set t=null
set r=null
set world=null
endfunction
function YDWESyStemAnyUnitDamagedSwap takes nothing returns nothing
local boolean isEnabled=IsTriggerEnabled(yd_DamageEventTrigger)
local group g=CreateGroup()
call DisableTrigger(yd_DamageEventTrigger)
if YDWETriggerEvent__yd_DamageEventTriggerToDestory!=null then
call DestroyTrigger(YDWETriggerEvent__yd_DamageEventTriggerToDestory)
endif
set YDWETriggerEvent__yd_DamageEventTriggerToDestory=yd_DamageEventTrigger
set yd_DamageEventTrigger=CreateTrigger()
if not isEnabled then
call DisableTrigger(yd_DamageEventTrigger)
endif
call TriggerAddAction(yd_DamageEventTrigger,function YDWEAnyUnitDamagedTriggerAction)
call YDWEAnyUnitDamagedEnumUnit()
endfunction
function YDWESyStemAnyUnitDamagedRegistTrigger takes trigger trg returns nothing
if trg==null then
return
endif
if YDWETriggerEvent__DamageEventNumber==0 then
set yd_DamageEventTrigger=CreateTrigger()
call TriggerAddAction(yd_DamageEventTrigger,function YDWEAnyUnitDamagedTriggerAction)
call YDWEAnyUnitDamagedEnumUnit()
call YDWEAnyUnitDamagedRegistTriggerUnitEnter()
if YDWETriggerEvent__DAMAGE_EVENT_SWAP_ENABLE then
call TimerStart(CreateTimer(),YDWETriggerEvent__DAMAGE_EVENT_SWAP_TIMEOUT,true,function YDWESyStemAnyUnitDamagedSwap)
endif
endif
set YDWETriggerEvent__DamageEventQueue[YDWETriggerEvent__DamageEventNumber]=trg
set YDWETriggerEvent__DamageEventNumber=YDWETriggerEvent__DamageEventNumber+1
endfunction
function YDWETriggerRegisterEnterRectSimpleNull takes trigger trig,rect r returns event
local region rectRegion=CreateRegion()
call RegionAddRect(rectRegion,r)
set yd_NullTempRegion=rectRegion
set rectRegion=null
return TriggerRegisterEnterRegion(trig,yd_NullTempRegion,null)
endfunction
function YDWETriggerRegisterLeaveRectSimpleNull takes trigger trig,rect r returns event
local region rectRegion=CreateRegion()
call RegionAddRect(rectRegion,r)
set yd_NullTempRegion=rectRegion
set rectRegion=null
return TriggerRegisterLeaveRegion(trig,yd_NullTempRegion,null)
endfunction
function SysLeapKT takes nothing returns nothing
if GetDestructableTypeId(GetEnumDestructable())==$4C546C74 or GetDestructableTypeId(GetEnumDestructable())==$41547463 or GetDestructableTypeId(GetEnumDestructable())==$41547472 or GetDestructableTypeId(GetEnumDestructable())==$4F547477 or GetDestructableTypeId(GetEnumDestructable())==$49547477 or GetDestructableTypeId(GetEnumDestructable())==$49547463 or GetDestructableTypeId(GetEnumDestructable())==$59547774 or GetDestructableTypeId(GetEnumDestructable())==$59547374 or GetDestructableTypeId(GetEnumDestructable())==$4A546374 or GetDestructableTypeId(GetEnumDestructable())==$59546674 or GetDestructableTypeId(GetEnumDestructable())==$59546374 or GetDestructableTypeId(GetEnumDestructable())==$56546C74 or GetDestructableTypeId(GetEnumDestructable())==$4A547477 or GetDestructableTypeId(GetEnumDestructable())==$47547368 or GetDestructableTypeId(GetEnumDestructable())==$44547368 or GetDestructableTypeId(GetEnumDestructable())==$57547477 or GetDestructableTypeId(GetEnumDestructable())==$43547463 or GetDestructableTypeId(GetEnumDestructable())==$43547472 or GetDestructableTypeId(GetEnumDestructable())==$4B547477 or GetDestructableTypeId(GetEnumDestructable())==$42547477 or GetDestructableTypeId(GetEnumDestructable())==$57547374 or GetDestructableTypeId(GetEnumDestructable())==$4E547463 or GetDestructableTypeId(GetEnumDestructable())==$4E547477 or GetDestructableTypeId(GetEnumDestructable())==$42547463 or GetDestructableTypeId(GetEnumDestructable())==$46547477 or GetDestructableTypeId(GetEnumDestructable())==$5A547463 or GetDestructableTypeId(GetEnumDestructable())==$5A547477 then
call KillDestructable(GetEnumDestructable())
endif
endfunction
function SysLeapTimer takes nothing returns nothing
local integer hd=GetHandleId(GetExpiredTimer())
local unit u=LoadUnitHandle(UDGht,hd,1)
local integer hd2=GetHandleId(u)
local real h=LoadReal(UDGht,hd,2)
local real t=LoadReal(UDGht,hd,3)
local real d=LoadReal(UDGht,hd,4)
local real angle=LoadReal(UDGht,hd,5)
local integer ab=LoadInteger(UDGht,hd,6)
local integer kt=LoadInteger(UDGht,hd,7)
local real n=LoadReal(UDGht,hd,8)
local real v=LoadReal(UDGht,hd,9)
local real v2=LoadReal(UDGht,hd,10)
local real mode=LoadReal(UDGht,hd,11)
local real a=LoadReal(UDGht,hd,12)
local real h2=LoadReal(UDGht,hd,13)
local real x
local real y
local real dd=0
local real dh=GetUnitDefaultFlyHeight(u)
local integer leappausec=LoadInteger(UDGht,hd2,StringHash("systemleappause"))
local integer upausec=LoadInteger(UDGht,hd2,StringHash("systemupausec"))
local integer upauseac=LoadInteger(UDGht,hd2,StringHash("systemupauseac"))
local integer leapend=LoadInteger(UDGht,hd2,StringHash("systemleapend"+I2S(hd)))
if leappausec==0 and upausec==0 or upauseac==0 and leapend!=1 then
set n=n+.02
call SaveReal(UDGht,hd,8,n)
set a=-8*h/(t*t)
call SaveReal(UDGht,hd,12,a)
set v=v+a*.02
call SaveReal(UDGht,hd,9,v)
set h2=GetUnitFlyHeight(u)+v*.02
call SaveReal(UDGht,hd,13,h2)
call SetUnitFlyHeight(u,h2,9999.)
if d!=0 then
set dd=v2*n
set x=GetUnitX(u)+v2*.02*CosBJ(angle)
set y=GetUnitY(u)+v2*.02*SinBJ(angle)
if x>=GetRectMinX(bj_mapInitialPlayableArea) and y>=GetRectMinY(bj_mapInitialPlayableArea) and x<=GetRectMaxX(bj_mapInitialPlayableArea) and y<=GetRectMaxY(bj_mapInitialPlayableArea) then
if mode==1 then
call SetUnitX(u,x)
call SetUnitY(u,y)
else
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)==false then
call SetUnitX(u,x)
call SetUnitY(u,y)
endif
endif
else
call SaveInteger(UDGht,hd,StringHash("SystemLeapOut"),1)
endif
endif
endif
if (h2<=dh and dd>=d and d!=0) or (h2<=dh and d==0) or leapend==1 then
call SaveInteger(UDGht,hd2,StringHash("SysULeaping"),LoadInteger(UDGht,hd2,StringHash("SysULeaping"))-1)
if LoadInteger(UDGht,hd2,StringHash("SysULeaping"))<=0 then
call SetUnitFlyHeight(u,dh,9999.)
endif
if kt!=0 then
call EnumDesInCircleDYC(175,GetUnitX(u),GetUnitY(u),function SysLeapKT)
endif
call SaveInteger(UDGht,hd,StringHash("SystemTimerOver"),1)
call DestroyTimer(GetExpiredTimer())
endif
set u=null
endfunction
function DYCleap takes unit u,real h,real d,real t,real angle,boolean bab,boolean bkt returns integer
local timer timer0=CreateTimer()
local integer hd=GetHandleId(timer0)
local real x
local real y
local real mode=1
local real dh=GetUnitDefaultFlyHeight(u)
local real v
local real v2=0
local integer ab
local integer kt
call SaveInteger(UDGht,GetHandleId(u),StringHash("SysULeaping"),LoadInteger(UDGht,GetHandleId(u),StringHash("SysULeaping"))+1)
if bab==true then
set ab=1
else
set ab=0
endif
if bkt==true then
set kt=1
else
set kt=0
endif
if h<=1 then
set h=1
endif
if t<=0 then
set t=.6
endif
if d<0 then
set d=0
endif
call UnitAddAbility(u,$41726176)
call UnitRemoveAbility(u,$41726176)
if d!=0 then
set x=GetUnitX(u)+d*CosBJ(angle)
set y=GetUnitY(u)+d*SinBJ(angle)
set v2=d/t
if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)==false then
set mode=1
else
set mode=2
endif
endif
if ab==0 then
set mode=1
endif
set v=4*h/t
call SaveUnitHandle(UDGht,hd,1,u)
call SaveReal(UDGht,hd,2,h)
call SaveReal(UDGht,hd,3,t)
call SaveReal(UDGht,hd,4,d)
call SaveReal(UDGht,hd,5,angle)
call SaveInteger(UDGht,hd,6,ab)
call SaveInteger(UDGht,hd,7,kt)
call SaveReal(UDGht,hd,8,0)
call SaveReal(UDGht,hd,9,v)
call SaveReal(UDGht,hd,10,v2)
call SaveReal(UDGht,hd,11,mode)
call TimerStart(timer0,.02,true,function SysLeapTimer)
set u=null
set timer0=null
call SaveInteger(UDGht,hd,StringHash("SystemTimerOver"),0)
call SaveInteger(UDGht,hd,StringHash("SystemLeapOut"),0)
return hd
endfunction
function MemoryLeakHelper__UpdateGameTime takes nothing returns nothing
set MemoryLeakHelper__GameTime=MemoryLeakHelper__GameTime+MemoryLeakHelper__GAMETIME_TIMER_INTERVAL
endfunction
function s__MemoryLeakHelper__GTable_reset takes integer this returns nothing
call FlushChildHashtable(YDHT,0)
call FlushChildHashtable(YDHT,this)
endfunction
function YDWEMemoryLeakHelperDisplayLeaks takes nothing returns nothing
local location loc=null
if MemoryLeakHelper__IsDisplayMemoryLeakHelper==false then
call h__CreateNUnitsAtLoc(1,$68666F6F,Player(15),GetRectCenter(GetPlayableMapRect()),bj_UNIT_FACING)
call RemoveUnit(bj_lastCreatedUnit)
set loc=GetRectCenter(GetPlayableMapRect())
call h__CreateNUnitsAtLoc(1,$68666F6F,Player(15),loc,bj_UNIT_FACING)
call RemoveUnit(bj_lastCreatedUnit)
call h__RemoveLocation(loc)
set loc=null
set MemoryLeakHelper__IsDisplayMemoryLeakHelper=true
endif
call ClearTextMessages()
call BJDebugMsg("======= 自动排泄系统 =======")
call BJDebugMsg("排除的泄漏"+I2S(MemoryLeakHelper__DestroyedLeaks))
call BJDebugMsg("用户手动排除的泄漏"+I2S(MemoryLeakHelper__DestroyedLeaksUser))
call BJDebugMsg("系统排泄比例: "+R2S(I2R(MemoryLeakHelper__DestroyedLeaks)/I2R(MemoryLeakHelper__DestroyedLeaks+MemoryLeakHelper__DestroyedLeaksUser)*100.)+"%")
call BJDebugMsg("作者排泄比例"+R2S(I2R(MemoryLeakHelper__DestroyedLeaksUser)/I2R(MemoryLeakHelper__DestroyedLeaks+MemoryLeakHelper__DestroyedLeaksUser)*100.)+"%")
call BJDebugMsg("下次排除的泄漏"+I2S(MemoryLeakHelper__MIN_LEAK_NUMBER-MemoryLeakHelper__CaughtLeaks))
call BJDebugMsg(" === 待排除的泄漏 === ")
call BJDebugMsg("   单位组泄漏"+I2S(MemoryLeakHelper__GroupDestroyCount))
call BJDebugMsg("   点泄漏"+I2S(MemoryLeakHelper__LocationDestroyCount))
call BJDebugMsg("   特效泄漏: "+I2S(MemoryLeakHelper__EffectDestroyCount))
call BJDebugMsg(" === 还未排除的泄漏=== ")
call BJDebugMsg("   单位组泄漏"+I2S(MemoryLeakHelper__CaughtGroupLeaks))
call BJDebugMsg("   点泄漏"+I2S(MemoryLeakHelper__CaughtLocationLeaks))
call BJDebugMsg("   特效泄漏: "+I2S(MemoryLeakHelper__CaughtEffectLeaks))
call BJDebugMsg("下次排泄时间: "+I2S(R2I(TimerGetRemaining(MemoryLeakHelper__PassTimer)+.5))+" seconds.")
call BJDebugMsg("======= 自动排泄系统 =======")
call BJDebugMsg("排除泄漏"+I2S(MemoryLeakHelper__DestroyedLeaks))
call BJDebugMsg("自动排泄系统释放的总内存为 "+R2S(MemoryLeakHelper__SavedMemory)+" kb.")
call BJDebugMsg("================================")
endfunction
function MemoryLeakHelper__CatchLocation takes location l returns nothing
set MemoryLeakHelper__LastCaught=l
if MemoryLeakHelper__Disabled then
return
elseif MemoryLeakHelper__CaughtLocationLeaks==MemoryLeakHelper__MAX_LEAK_INSTANCES then
return
endif
if HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))==false then
set MemoryLeakHelper__CaughtLocationLeaks=MemoryLeakHelper__CaughtLocationLeaks+1
call sg__MemoryLeakHelper__LocationLeakData_set(MemoryLeakHelper__CaughtLocationLeaks,l)
call SaveInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l),MemoryLeakHelper__CaughtLocationLeaks)
endif
endfunction
function MemoryLeakHelper__ReleaseLocation takes location l returns nothing
local integer index
if MemoryLeakHelper__IsDestroying==false and HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l)) then
set index=LoadInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
if index>0 then
call sg__MemoryLeakHelper__LocationLeakData_set(index,sg__MemoryLeakHelper__LocationLeakData_get(MemoryLeakHelper__CaughtLocationLeaks))
set MemoryLeakHelper__CaughtLocationLeaks=MemoryLeakHelper__CaughtLocationLeaks-1
else
set index=index*-1
call sg__MemoryLeakHelper__LocationDestroyData_set(index,sg__MemoryLeakHelper__LocationDestroyData_get(MemoryLeakHelper__LocationDestroyCount))
set MemoryLeakHelper__LocationDestroyCount=MemoryLeakHelper__LocationDestroyCount-1
endif
call RemoveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
set MemoryLeakHelper__DestroyedLeaksUser=MemoryLeakHelper__DestroyedLeaksUser+1
endif
endfunction
function MemoryLeakHelper__CatchGroup takes group l returns nothing
set MemoryLeakHelper__LastCaught=l
if MemoryLeakHelper__Disabled then
return
elseif MemoryLeakHelper__CaughtGroupLeaks==MemoryLeakHelper__MAX_LEAK_INSTANCES then
return
endif
if HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))==false then
set MemoryLeakHelper__CaughtGroupLeaks=MemoryLeakHelper__CaughtGroupLeaks+1
call sg__MemoryLeakHelper__GroupLeakData_set(MemoryLeakHelper__CaughtGroupLeaks,l)
call SaveInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l),MemoryLeakHelper__CaughtGroupLeaks)
endif
endfunction
function MemoryLeakHelper__ReleaseGroup takes group l returns nothing
local integer index
if MemoryLeakHelper__IsDestroying==false and HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l)) then
set index=LoadInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
if index>0 then
call sg__MemoryLeakHelper__GroupLeakData_set(index,sg__MemoryLeakHelper__GroupLeakData_get(MemoryLeakHelper__CaughtGroupLeaks))
set MemoryLeakHelper__CaughtGroupLeaks=MemoryLeakHelper__CaughtGroupLeaks-1
else
set index=index*-1
call sg__MemoryLeakHelper__GroupDestroyData_set(index,sg__MemoryLeakHelper__GroupDestroyData_get(MemoryLeakHelper__GroupDestroyCount))
set MemoryLeakHelper__GroupDestroyCount=MemoryLeakHelper__GroupDestroyCount-1
endif
call RemoveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
set MemoryLeakHelper__DestroyedLeaksUser=MemoryLeakHelper__DestroyedLeaksUser+1
endif
endfunction
function MemoryLeakHelper__CatchEffect takes effect l returns nothing
set MemoryLeakHelper__LastCaught=l
if MemoryLeakHelper__Disabled then
return
elseif MemoryLeakHelper__CaughtEffectLeaks==MemoryLeakHelper__MAX_LEAK_INSTANCES then
return
endif
if HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))==false then
set MemoryLeakHelper__CaughtEffectLeaks=MemoryLeakHelper__CaughtEffectLeaks+1
call sg__MemoryLeakHelper__EffectLeakData_set(MemoryLeakHelper__CaughtEffectLeaks,l)
call SaveInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l),MemoryLeakHelper__CaughtEffectLeaks)
endif
endfunction
function MemoryLeakHelper__ReleaseEffect takes effect l returns nothing
local integer index
if MemoryLeakHelper__IsDestroying==false and HaveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l)) then
set index=LoadInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
if index>0 then
call sg__MemoryLeakHelper__EffectLeakData_set(index,sg__MemoryLeakHelper__EffectLeakData_get(MemoryLeakHelper__CaughtEffectLeaks))
set MemoryLeakHelper__CaughtEffectLeaks=MemoryLeakHelper__CaughtEffectLeaks-1
else
set index=index*-1
call sg__MemoryLeakHelper__EffectDestroyData_set(index,sg__MemoryLeakHelper__EffectDestroyData_get(MemoryLeakHelper__EffectDestroyCount))
set MemoryLeakHelper__EffectDestroyCount=MemoryLeakHelper__EffectDestroyCount-1
endif
call RemoveSavedInteger(YDHT,MemoryLeakHelper__IndexData,GetHandleId(l))
set MemoryLeakHelper__DestroyedLeaksUser=MemoryLeakHelper__DestroyedLeaksUser+1
endif
endfunction
function MemoryLeakHelper__PP takes location source,real dist,real angle returns nothing
call MemoryLeakHelper__CatchLocation(source)
endfunction
function MemoryLeakHelper__CU takes integer count,integer unitId,player p,location l,real face returns nothing
call MemoryLeakHelper__CatchLocation(l)
endfunction
function MemoryLeakHelper__IPO takes unit k,string order,location l returns nothing
call MemoryLeakHelper__CatchLocation(l)
endfunction
function MemoryLeakHelper__SUP takes unit who,location l returns nothing
call MemoryLeakHelper__CatchLocation(l)
endfunction
function MemoryLeakHelper__SUF takes unit who,location l,real dur returns nothing
call MemoryLeakHelper__CatchLocation(l)
endfunction
function MemoryLeakHelper__GUR takes real radius,location l,boolexpr filter returns nothing
call MemoryLeakHelper__CatchLocation(l)
endfunction
function MemoryLeakHelper__CUF takes integer count,integer unitId,player whichPlayer,location loc,location lookAt returns nothing
call MemoryLeakHelper__CatchLocation(loc)
call MemoryLeakHelper__CatchLocation(lookAt)
endfunction
function MemoryLeakHelper__FG takes group g,code callback returns nothing
call MemoryLeakHelper__CatchGroup(g)
endfunction
function MemoryLeakHelper__ASETU takes string bla,widget d,string blu returns nothing
call MemoryLeakHelper__CatchEffect(GetLastCreatedEffectBJ())
endfunction
function MemoryLeakHelper__ASE takes location where,string modelName returns nothing
call MemoryLeakHelper__CatchLocation(where)
call MemoryLeakHelper__CatchEffect(GetLastCreatedEffectBJ())
endfunction
function MemoryLeakHelper__Init takes nothing returns nothing
set MemoryLeakHelper__IndexData=s__MemoryLeakHelper__HandleTable__allocate()
set MemoryLeakHelper__IsSaved=s__MemoryLeakHelper__HandleTable__allocate()
call TimerStart(MemoryLeakHelper__GameTimeTimer,MemoryLeakHelper__GAMETIME_TIMER_INTERVAL,true,function MemoryLeakHelper__UpdateGameTime)
endfunction
function SpellSystemAI___DistanceBetweenUnits takes unit u1,unit u2 returns real
return SquareRoot((GetUnitX(u1)-GetUnitX(u2))*(GetUnitX(u1)-GetUnitX(u2))+(GetUnitY(u1)-GetUnitY(u2))*(GetUnitY(u1)-GetUnitY(u2)))
endfunction
function SpellSystemAI___IsPlayerUseAI takes player p returns boolean
if IsPlayerInForce(p,SpellSystemAI___AIusers) and GetPlayerController(p)!=MAP_CONTROL_USER or SpellSystemAI___OnlyComputer==false then
return true
endif
return false
endfunction
function SpellSystemAI___IsUnitUseAI takes unit u returns boolean
if IsUnitType(u,UNIT_TYPE_HERO) or SpellSystemAI___OnlyHero==false then
return true
endif
return false
endfunction
function SpellSystemAI___IsUnitVisibleToEnemy takes unit u returns boolean
local integer i=0
loop
if IsUnitVisible(u,Player(i)) and IsUnitEnemy(u,Player(i)) then
return true
endif
set i=i+1
exitwhen i>15
endloop
return false
endfunction
function SpellSystemAI___IsUnitCanBeDamaged takes unit u returns boolean
if GetUnitAbilityLevel(u,$4176756C)>0 then
return false
endif
return true
endfunction
function SpellSystemAI___GetHeroId takes unit u returns integer
local integer i=1
loop
exitwhen i>SpellSystemAI___Top
if u==SpellSystemAI___Hero[i] then
return i
endif
set i=i+1
endloop
return 0
endfunction
function SpellSystemAI___GetTimerId takes timer t returns integer
local integer i=1
loop
exitwhen i>SpellSystemAI___Top
if t==SpellSystemAI___HT[i] then
return i
endif
set i=i+1
endloop
return 0
endfunction
function SpellSystemAI___IsFree takes integer OI returns boolean
if OI==0 or OI==851972 or OI==851983 or OI==852128 then
return true
endif
return false
endfunction
function SpellSystemAI___IS takes unit AU returns boolean
local integer OI=GetUnitCurrentOrder(AU)
if OI==0 or OI==851972 or OI==851993 or OI==851983 or OI==851984 or OI==851988 or OI==851990 or OI==851983 or OI==851985 or OI==851986 or OI==851988 or OI==851990 or OI==999999 then
return true
endif
return false
endfunction
function SpellSystemAI___IC takes unit u,integer i returns boolean
if SpellSystemAI___AB==false and GetUnitCurrentOrder(u)!=i and i!=SpellSystemAI___LastOI[SpellSystemAI___GetHeroId(u)] then
return true
endif
return false
endfunction
function SpellSystemAI___SD takes unit u,integer i returns nothing
local integer id=SpellSystemAI___GetHeroId(u)
set SpellSystemAI___AB=true
set SpellSystemAI___LastOI[id]=i
set SpellSystemAI___OT[id]=5
endfunction
function SpellSystemAI___IO takes unit AU,integer AI returns nothing
if SpellSystemAI___IC(AU,AI) then
if IssueImmediateOrderById(AU,AI) then
call SpellSystemAI___SD(AU,AI)
endif
endif
endfunction
function SpellSystemAI___IL takes unit AU,integer AI,real x,real y returns nothing
if SpellSystemAI___IC(AU,AI) then
if IssuePointOrderById(AU,AI,x,y) then
call SpellSystemAI___SD(AU,AI)
endif
endif
endfunction
function SpellSystemAI___IU takes unit AU,integer AI,unit AT returns nothing
if SpellSystemAI___IC(AU,AI) then
if IssueTargetOrderById(AU,AI,AT) then
call SpellSystemAI___SD(AU,AI)
endif
endif
endfunction
function SpellSystemAI___SO1 takes unit AU,real R returns nothing
local real H=GetUnitLifePercent(AU)
call SpellSystemAI___IO(AU,852129)
if R<=800*SpellSystemAI___Ratio then
call SpellSystemAI___IO(AU,852097)
call SpellSystemAI___IO(AU,852489)
call SpellSystemAI___IO(AU,852126)
call SpellSystemAI___IO(AU,852503)
call SpellSystemAI___IO(AU,852100)
call SpellSystemAI___IO(AU,852528)
call SpellSystemAI___IO(AU,852184)
call SpellSystemAI___IO(AU,852164)
call SpellSystemAI___IO(AU,852180)
call SpellSystemAI___IO(AU,852554)
call SpellSystemAI___IO(AU,852200)
call SpellSystemAI___IO(AU,852594)
call SpellSystemAI___IO(AU,852595)
call SpellSystemAI___IO(AU,852596)
call SpellSystemAI___IO(AU,852667)
call SpellSystemAI___IO(AU,852663)
call SpellSystemAI___IO(AU,852598)
call SpellSystemAI___IO(AU,852599)
call SpellSystemAI___IO(AU,852600)
if H<=50. then
call SpellSystemAI___IO(AU,852586)
endif
endif
if R<=400*SpellSystemAI___Ratio then
call SpellSystemAI___IO(AU,852096)
call SpellSystemAI___IO(AU,852086)
call SpellSystemAI___IO(AU,852090)
call SpellSystemAI___IO(AU,852094)
call SpellSystemAI___IO(AU,852127)
call SpellSystemAI___IO(AU,852128)
call SpellSystemAI___IO(AU,852526)
call SpellSystemAI___IO(AU,852181)
call SpellSystemAI___IO(AU,852183)
call SpellSystemAI___IO(AU,852556)
call SpellSystemAI___IO(AU,852217)
call SpellSystemAI___IO(AU,852588)
call SpellSystemAI___IO(AU,852253)
call SpellSystemAI___IO(AU,852246)
endif
if R<=100*SpellSystemAI___Ratio then
call SpellSystemAI___IO(AU,852123)
endif
call SpellSystemAI___IO(AU,852174)
call SpellSystemAI___IO(AU,852552)
call SpellSystemAI___IO(AU,852458)
call SpellSystemAI___IO(AU,852656)
call SpellSystemAI___IO(AU,852589)
call SpellSystemAI___IO(AU,852244)
call SpellSystemAI___IO(AU,852578)
call SpellSystemAI___IO(AU,852671)
call SpellSystemAI___IO(AU,852244)
call SpellSystemAI___IO(AU,852602)
call SpellSystemAI___IO(AU,852212)
call SpellSystemAI___IO(AU,852522)
call SpellSystemAI___IO(AU,852150)
call SpellSystemAI___IO(AU,852133)
call SpellSystemAI___IO(AU,852102)
call SpellSystemAI___IO(AU,852249)
if R<=200*SpellSystemAI___Ratio then
call SpellSystemAI___IO(AU,852177)
endif
endfunction
function SpellSystemAI___SO2 takes unit AU,real x,real y,real R returns nothing
if R>1200 then
call SpellSystemAI___IL(AU,852093,x,y)
endif
call SpellSystemAI___IL(AU,852089,x,y)
call SpellSystemAI___IL(AU,852488,x,y)
call SpellSystemAI___IL(AU,852121,x,y)
call SpellSystemAI___IL(AU,852504,x,y)
call SpellSystemAI___IL(AU,852125,x,y)
call SpellSystemAI___IL(AU,852555,x,y)
call SpellSystemAI___IL(AU,852218,x,y)
call SpellSystemAI___IL(AU,852224,x,y)
call SpellSystemAI___IL(AU,852221,x,y)
call SpellSystemAI___IL(AU,852593,x,y)
call SpellSystemAI___IL(AU,852592,x,y)
call SpellSystemAI___IL(AU,852597,x,y)
call SpellSystemAI___IL(AU,852580,x,y)
call SpellSystemAI___IL(AU,852238,x,y)
call SpellSystemAI___IL(AU,852652,x,y)
call SpellSystemAI___IL(AU,852658,x,y)
call SpellSystemAI___IL(AU,852669,x,y)
call SpellSystemAI___IL(AU,852229,x,y)
call SpellSystemAI___IL(AU,852237,x,y)
call SpellSystemAI___IL(AU,852560,x,y)
call SpellSystemAI___IL(AU,852591,x,y)
call SpellSystemAI___IL(AU,852238,x,y)
if R>800 then
call SpellSystemAI___IL(AU,852122,x,y)
endif
if R>400 then
call SpellSystemAI___IL(AU,852525,x,y)
endif
if R<200*SpellSystemAI___Ratio then
call SpellSystemAI___IL(AU,852664,x,y)
endif
call SpellSystemAI___IL(AU,852600,x,y)
endfunction
function SpellSystemAI___SO3 takes unit AU,unit AT,boolean Ally returns nothing
call SpellSystemAI___IU(AU,852095,AT)
call SpellSystemAI___IU(AU,852119,AT)
call SpellSystemAI___IU(AU,852502,AT)
call SpellSystemAI___IU(AU,852179,AT)
call SpellSystemAI___IU(AU,852171,AT)
call SpellSystemAI___IU(AU,852527,AT)
call SpellSystemAI___IU(AU,852555,AT)
call SpellSystemAI___IU(AU,852227,AT)
call SpellSystemAI___IU(AU,852226,AT)
call SpellSystemAI___IU(AU,852587,AT)
call SpellSystemAI___IU(AU,852585,AT)
call SpellSystemAI___IU(AU,852583,AT)
call SpellSystemAI___IU(AU,852662,AT)
call SpellSystemAI___IU(AU,852665,AT)
call SpellSystemAI___IU(AU,852668,AT)
call SpellSystemAI___IU(AU,852670,AT)
call SpellSystemAI___IU(AU,852230,AT)
call SpellSystemAI___IU(AU,852480,AT)
call SpellSystemAI___IU(AU,852106,AT)
call SpellSystemAI___IU(AU,852487,AT)
call SpellSystemAI___IU(AU,852487,AT)
call SpellSystemAI___IU(AU,852243,AT)
call SpellSystemAI___IU(AU,852560,AT)
call SpellSystemAI___IU(AU,852231,AT)
call SpellSystemAI___IU(AU,852252,AT)
call SpellSystemAI___IU(AU,852501,AT)
call SpellSystemAI___IU(AU,852225,AT)
call SpellSystemAI___IU(AU,852092,AT)
call SpellSystemAI___IU(AU,852222,AT)
call SpellSystemAI___IU(AU,852274,AT)
call SpellSystemAI___IU(AU,852600,AT)
endfunction
function SpellSystemAI___HeroSpell takes integer id returns nothing
local unit hero=SpellSystemAI___Hero[id]
local real r=SpellSystemAI___DistanceBetweenUnits(hero,SpellSystemAI___Htu[id])
if SpellSystemAI___IS(hero) and SpellSystemAI___IsUnitVisibleToEnemy(hero) then
set SpellSystemAI___AB=false
if SpellSystemAI___TYPE[id]==1 then
call SpellSystemAI___SO3(hero,SpellSystemAI___Htu[id],false)
elseif SpellSystemAI___TYPE[id]==2 then
call SpellSystemAI___SO2(hero,SpellSystemAI___Htx[id],SpellSystemAI___Hty[id],r)
elseif SpellSystemAI___TYPE[id]==3 then
call SpellSystemAI___SO1(hero,r)
endif
endif
set hero=null
endfunction
function SpellSystemAI___GetTargetHero takes integer id returns nothing
local unit u=null
local unit WT=null
local unit hero=SpellSystemAI___Hero[id]
local real HPmin=10000000000.
local real Dismin=10000000000.
local real HP=0.
local real Dis=0.
local real x=GetUnitX(hero)
local real y=GetUnitY(hero)
local group G=CreateGroup()
local player p=GetOwningPlayer(hero)
local integer OI=GetUnitCurrentOrder(hero)
call GroupEnumUnitsInRange(G,x,y,SpellSystemAI___Range,null)
loop
set u=FirstOfGroup(G)
if SpellSystemAI___IsUnitUseAI(u) then
set HP=GetUnitState(u,UNIT_STATE_LIFE)
if HP>0. and SpellSystemAI___IsUnitCanBeDamaged(u) and IsUnitEnemy(u,p) then
if SpellSystemAI___Lock==false then
set Dis=SpellSystemAI___DistanceBetweenUnits(hero,u)
if Dis<Dismin then
set Dismin=Dis
set WT=u
endif
else
if HP<HPmin then
set HPmin=HP
set WT=u
endif
endif
endif
endif
call GroupRemoveUnit(G,u)
exitwhen u==null
endloop
call GroupClear(G)
call h__DestroyGroup(G)
if WT!=null then
set SpellSystemAI___Htu[id]=WT
set SpellSystemAI___Htx[id]=GetUnitX(WT)
set SpellSystemAI___Hty[id]=GetUnitY(WT)
if SpellSystemAI___IsFree(OI) then
if not IssueTargetOrderById(hero,851983,WT) or SpellSystemAI___TYPE[id]!=1 then
call IssuePointOrderById(hero,851983,SpellSystemAI___Htx[id],SpellSystemAI___Hty[id])
endif
endif
call SpellSystemAI___HeroSpell(id)
endif
set u=null
set WT=null
set hero=null
set p=null
set G=null
endfunction
function SpellSystemAI___SetGuardPosition takes integer id returns nothing
if SpellSystemAI___IsUnitVisibleToEnemy(SpellSystemAI___Hero[id]) then
if SpellSystemAI___GUARD[id]==false then
call RecycleGuardPosition(SpellSystemAI___Hero[id])
endif
set SpellSystemAI___GUARD[id]=true
else
if SpellSystemAI___GUARD[id]==true then
call RemoveGuardPosition(SpellSystemAI___Hero[id])
endif
set SpellSystemAI___GUARD[id]=false
endif
endfunction
function SpellSystemAI___Remove takes integer id returns nothing
call DestroyTimer(SpellSystemAI___HT[id])
call GroupRemoveUnit(SpellSystemAI___AG,SpellSystemAI___Hero[id])
set SpellSystemAI___Hero[id]=SpellSystemAI___Hero[SpellSystemAI___Top]
set SpellSystemAI___HT[id]=SpellSystemAI___HT[SpellSystemAI___Top]
set SpellSystemAI___OT[id]=SpellSystemAI___OT[SpellSystemAI___Top]
set SpellSystemAI___TYPE[id]=SpellSystemAI___TYPE[SpellSystemAI___Top]
set SpellSystemAI___GUARD[id]=SpellSystemAI___GUARD[SpellSystemAI___Top]
set SpellSystemAI___Hero[SpellSystemAI___Top]=null
set SpellSystemAI___Top=SpellSystemAI___Top-1
endfunction
function SpellSystemAI___TimerLoop takes nothing returns nothing
local integer id=SpellSystemAI___GetTimerId(GetExpiredTimer())
if IsUnitType(SpellSystemAI___Hero[id],UNIT_TYPE_HERO)==false and GetUnitState(SpellSystemAI___Hero[id],UNIT_STATE_LIFE)<=0 then
call SpellSystemAI___Remove(id)
else
if SpellSystemAI___OT[id]>0 then
set SpellSystemAI___OT[id]=SpellSystemAI___OT[id]-1
else
set SpellSystemAI___LastOI[id]=0
endif
set SpellSystemAI___TYPE[id]=SpellSystemAI___TYPE[id]+1
if SpellSystemAI___TYPE[id]>3 then
set SpellSystemAI___TYPE[id]=0
endif
call SpellSystemAI___SetGuardPosition(id)
call SpellSystemAI___GetTargetHero(id)
endif
endfunction
function SpellSystemAI___HC takes unit u returns boolean
if SpellSystemAI___IsUnitUseAI(u) and IsUnitIllusion(u)==false and IsUnitInGroup(u,SpellSystemAI___AG)==false and GetUnitAbilityLevel(u,$416C6F63)==0 and IsUnitType(u,UNIT_TYPE_PEON)==false and IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and SpellSystemAI___IsPlayerUseAI(GetOwningPlayer(u)) then
call GroupAddUnit(SpellSystemAI___AG,u)
return true
endif
return false
endfunction
function SpellSystemAI___Reg takes unit u returns nothing
set SpellSystemAI___Top=SpellSystemAI___Top+1
set SpellSystemAI___Hero[SpellSystemAI___Top]=u
set SpellSystemAI___HT[SpellSystemAI___Top]=CreateTimer()
set SpellSystemAI___OT[SpellSystemAI___Top]=0
set SpellSystemAI___TYPE[SpellSystemAI___Top]=0
set SpellSystemAI___GUARD[SpellSystemAI___Top]=true
call TimerStart(SpellSystemAI___HT[SpellSystemAI___Top],1.11,true,function SpellSystemAI___TimerLoop)
endfunction
function SpellSystemAI___Trg01 takes nothing returns nothing
local unit u=GetTriggerUnit()
if SpellSystemAI___HC(u) then
call SpellSystemAI___Reg(u)
endif
set u=null
endfunction
function SpellSystemAI___Trg02 takes nothing returns nothing
local unit u=GetTriggerUnit()
if IsUnitInGroup(u,SpellSystemAI___AG)==true then
call SpellSystemAI___Remove(SpellSystemAI___GetHeroId(u))
endif
if SpellSystemAI___HC(u) then
call SpellSystemAI___Reg(u)
endif
set u=null
endfunction
function SpellSystemAI_Start takes real r,real o,boolean h,boolean c,boolean l returns nothing
local unit u=null
local group g=CreateGroup()
set SpellSystemAI___Range=r
set SpellSystemAI___Ratio=o
set SpellSystemAI___OnlyHero=h
set SpellSystemAI___OnlyComputer=c
set SpellSystemAI___Lock=l
set SpellSystemAI___AG=CreateGroup()
set SpellSystemAI___TE=CreateTrigger()
set SpellSystemAI___TC=CreateTrigger()
set SpellSystemAI___RR=CreateRegion()
call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,null)
loop
set u=FirstOfGroup(g)
if SpellSystemAI___HC(u) then
call SpellSystemAI___Reg(u)
endif
call GroupRemoveUnit(g,u)
exitwhen u==null
endloop
call GroupClear(g)
call h__DestroyGroup(g)
call RegionAddRect(SpellSystemAI___RR,GetWorldBounds())
call TriggerAddAction(SpellSystemAI___TE,function SpellSystemAI___Trg01)
call TriggerAddAction(SpellSystemAI___TC,function SpellSystemAI___Trg02)
call TriggerRegisterEnterRegion(SpellSystemAI___TE,SpellSystemAI___RR,null)
call TriggerRegisterAnyUnitEventBJ(SpellSystemAI___TC,EVENT_PLAYER_UNIT_CHANGE_OWNER)
set u=null
set g=null
endfunction
function SpellSystemAI_AddPlayer takes player p returns nothing
if GetPlayerId(p)<0 then
set p=Player(0)
elseif GetPlayerId(p)>15 then
set p=Player(15)
endif
call ForceAddPlayer(SpellSystemAI___AIusers,p)
endfunction
function SpellSystemAI___Init takes nothing returns nothing
endfunction
function XG_Task_GetState takes integer t,integer s returns boolean
local integer i=LoadInteger(XGTask__db_t,t,-5)
if s==0 then
return t==0
endif
return i==s
endfunction
function XG_Task_SetState takes integer t,integer s returns nothing
if t>0 then
call SaveInteger(XGTask__db_t,t,-5,s)
endif
endfunction
function XG_Task_Logout takes integer t returns nothing
local integer key=LoadInteger(XGTask__db_t,t,-6)
local integer id=LoadInteger(XGTask__db_t,t,-3)
call FlushChildHashtable(XGTask__db_t,t)
call FlushChildHashtable(XGTask__db_d,t)
call RemoveSavedBoolean(XGTask__db_u,key,id)
call RemoveSavedInteger(XGTask__db_u,key,id)
endfunction
function XG_ReleaseTask_Player takes integer id,player ue,string s returns nothing
local integer key=GetHandleId(ue)
local integer i=LoadInteger(XGTask__db_u,key,id)
if LoadBoolean(XGTask__db_u,key,id) then
return
endif
set XGTask__TID=XGTask__TID+1
call SaveInteger(XGTask__db_u,key,id,XGTask__TID)
call SaveBoolean(XGTask__db_u,key,id,true)
call SaveStr(XGTask__db_t,XGTask__TID,-1,s)
call SaveInteger(XGTask__db_t,XGTask__TID,-3,id)
call SaveInteger(XGTask__db_t,XGTask__TID,-6,key)
call SaveInteger(XGTask__db_t,XGTask__TID,-5,1)
endfunction
function YDWEJumpTimerLoop takes nothing returns nothing
local timer t=GetExpiredTimer()
local unit hero=LoadUnitHandle(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Hero"))
local real angle=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Angle"))
local integer steeps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("steeps"))
local integer steepsMax=LoadInteger(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("steepsMax"))
local real heightMax=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("heightMax"))
local real dist=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("dist"))
local real dheig=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("dheig"))
local real OriginHeight=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("OriginHeight"))
local real x=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("X"))
local real y=LoadReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Y"))
local real x1=0
local real y1=0
local real height=0
local integer lvJumpTimer=MoveMoreLevel_JumpTimer
local integer lvUnitMove=LoadInteger(YDHT,StringHash(I2S(GetHandleId(hero))),StringHash("lvUnitMove"))
if steeps<steepsMax and lvJumpTimer>=lvUnitMove then
set x1=x+steeps*dist*Cos(angle*3.14159/180.)
set y1=y+steeps*dist*Sin(angle*3.14159/180.)
set x1=RMinBJ(RMaxBJ(x1*1.,yd_MapMinX),yd_MapMaxX)
set y1=RMinBJ(RMaxBJ(y1*1.,yd_MapMinY),yd_MapMaxY)
call SetUnitX(hero,x1)
call SetUnitY(hero,y1)
set steeps=steeps+1
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("steeps"),steeps)
set height=(-(2*I2R(steeps)*dheig-1)*(2*I2R(steeps)*dheig-1)+1)*heightMax+OriginHeight
call SetUnitFlyHeight(hero,height,99999)
call SetUnitFacing(hero,angle)
else
call SetUnitFlyHeight(hero,OriginHeight,99999)
call SetUnitPathing(hero,true)
call DestroyTimer(t)
call FlushChildHashtable(YDHT,StringHash(I2S(GetHandleId(t))))
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(hero))),StringHash("lvUnitMove"),0)
call YDWESyStemAbilityCastingOverTriggerAction(hero,2)
endif
set t=null
set hero=null
endfunction
function YDWEJumpTimer takes unit hero,real angle,real distance,real lasttime,real timeout,real heightMax returns nothing
local timer t=null
local real x=GetUnitX(hero)
local real y=GetUnitY(hero)
local integer steepsMax=R2I(lasttime/timeout)
local integer steeps=0
local real dist=distance/steepsMax
local real dheig=1./steepsMax
local real OriginHeight=GetUnitFlyHeight(hero)
local integer lvUnitMove=LoadInteger(YDHT,StringHash(I2S(GetHandleId(hero))),StringHash("lvUnitMove"))
if MoveMoreLevel_JumpTimer<=lvUnitMove then
return
endif
set t=CreateTimer()
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(hero))),StringHash("lvUnitMove"),MoveMoreLevel_JumpTimer)
call YDWEFlyEnable(hero)
call SetUnitPathing(hero,false)
call SaveUnitHandle(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Hero"),hero)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("OriginHeight"),OriginHeight*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Angle"),angle*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("dist"),dist*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("heightMax"),heightMax*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("dheig"),dheig*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("X"),x*1.)
call SaveReal(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("Y"),y*1.)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("steeps"),steeps)
call SaveInteger(YDHT,StringHash(I2S(GetHandleId(t))),StringHash("steepsMax"),steepsMax)
call TimerStart(t,timeout,true,function YDWEJumpTimerLoop)
set t=null
endfunction
function YDWELocalVariableEnd takes nothing returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call FlushChildHashtable(YDHT,StringHash(dir))
endfunction
function YDWESetLocalVariableInteger takes string s,integer i returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveInteger(YDHT,StringHash(dir),StringHash(s),i)
endfunction
function YDWEGetLocalVariableInteger takes string s returns integer
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadInteger(YDHT,StringHash(dir),StringHash(s))
endfunction
function YDWESetLocalVariableIntegerArray takes string s,integer index,integer i returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveInteger(YDHT,StringHash(dir),StringHash(s+I2S(index)),i)
endfunction
function YDWEGetLocalVariableIntegerArray takes string s,integer index returns integer
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadInteger(YDHT,StringHash(dir),StringHash(s+I2S(index)))
endfunction
function YDWESetLocalVariableReal takes string s,real R returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveReal(YDHT,StringHash(dir),StringHash(s),R*1.)
endfunction
function YDWEGetLocalVariableReal takes string s returns real
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadReal(YDHT,StringHash(dir),StringHash(s))
endfunction
function YDWESetLocalVariableBoolean takes string s,boolean bl returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveBoolean(YDHT,StringHash(dir),StringHash(s),bl)
endfunction
function YDWEGetLocalVariableBoolean takes string s returns boolean
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadBoolean(YDHT,StringHash(dir),StringHash(s))
endfunction
function YDWESetLocalVariableAbilityID takes string s,integer abid returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveInteger(YDHT,StringHash(dir),StringHash(s),abid)
endfunction
function YDWEGetLocalVariableAbilityID takes string s returns integer
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadInteger(YDHT,StringHash(dir),StringHash(s))
endfunction
function YDWESetLocalVariableAbilityIDArray takes string s,integer index,integer abid returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveInteger(YDHT,StringHash(dir),StringHash(s+I2S(index)),abid)
endfunction
function YDWEGetLocalVariableAbilityIDArray takes string s,integer index returns integer
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadInteger(YDHT,StringHash(dir),StringHash(s+I2S(index)))
endfunction
function YDWESetLocalVariableLocationArray takes string s,integer index,location point returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveLocationHandle(YDHT,StringHash(dir),StringHash(s+I2S(index)),point)
endfunction
function YDWEGetLocalVariableLocationArray takes string s,integer index returns location
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadLocationHandle(YDHT,StringHash(dir),StringHash(s+I2S(index)))
endfunction
function YDWESetLocalVariableGroupArray takes string s,integer index,group g returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveGroupHandle(YDHT,StringHash(dir),StringHash(s+I2S(index)),g)
endfunction
function YDWEGetLocalVariableGroupArray takes string s,integer index returns group
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadGroupHandle(YDHT,StringHash(dir),StringHash(s+I2S(index)))
endfunction
function YDWESetLocalVariableRect takes string s,rect rt returns nothing
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
call SaveRectHandle(YDHT,StringHash(dir),StringHash(s),rt)
endfunction
function YDWEGetLocalVariableRect takes string s returns rect
local integer TriggerRunSteps=LoadInteger(YDHT,StringHash(I2S(GetHandleId(GetTriggeringTrigger()))),StringHash("TriggerRunSteps"))
local string dir=I2S(GetHandleId(GetTriggeringTrigger()))+I2S(TriggerRunSteps)
return LoadRectHandle(YDHT,StringHash(dir),StringHash(s))
endfunction
function YDWESyStemItemCombineTriggerAction takes nothing returns nothing
local integer i=0
loop
exitwhen i>=YDWEStringFormula__ItemCombineEventNumber
if YDWEStringFormula__ItemCombineEventQueue[i]!=null and TriggerEvaluate(YDWEStringFormula__ItemCombineEventQueue[i]) and IsTriggerEnabled(YDWEStringFormula__ItemCombineEventQueue[i]) then
call TriggerExecute(YDWEStringFormula__ItemCombineEventQueue[i])
endif
set i=i+1
endloop
endfunction
function YDWESyStemItemCombineRegistTrigger takes trigger trg returns nothing
set YDWEStringFormula__ItemCombineEventQueue[YDWEStringFormula__ItemCombineEventNumber]=trg
set YDWEStringFormula__ItemCombineEventNumber=YDWEStringFormula__ItemCombineEventNumber+1
endfunction
function YDWEStringFormula__Convert takes integer value,integer length returns string
local string Char=I2S(value)
local integer slen=StringLength(Char)
loop
exitwhen slen>=length
set Char="0"+Char
set slen=slen+1
endloop
return Char
endfunction
function s__YDWEStringFormula__ItemIdMatrix_sub takes integer this,integer segment returns integer
local integer start=s__YDWEStringFormula__ItemIdMatrix_keyLen[this]*segment+1
return S2I(SubString(s__YDWEStringFormula__ItemIdMatrix_keyStr[this],start,start+s__YDWEStringFormula__ItemIdMatrix_keyLen[this]))
endfunction
function s__YDWEStringFormula__ItemIdMatrix_assigns takes integer id returns integer
local integer this=0
if id==null or id==0 then
return 0
endif
set this=LoadInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__ItemIdMatrix_Data)),StringHash(I2S(id)))
if this>0 then
return this
endif
set this=s__YDWEStringFormula__ItemIdMatrix_Total
set s__YDWEStringFormula__ItemIdMatrix_itemId[this]=id
set s__YDWEStringFormula__ItemIdMatrix_keyStr[this]=I2S(YDWEStringFormula__SEGMENT_LENGTH)
set s__YDWEStringFormula__ItemIdMatrix_keyLen[this]=YDWEStringFormula__SEGMENT_LENGTH
call SaveInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__ItemIdMatrix_Data)),StringHash(I2S(id)),this)
set s__YDWEStringFormula__ItemIdMatrix_Total=s__YDWEStringFormula__ItemIdMatrix_Total+1
return this
endfunction
function s__YDWEStringFormula__ItemIdMatrix_memory takes integer this,string key returns nothing
set s__YDWEStringFormula__ItemIdMatrix_keyStr[this]=s__YDWEStringFormula__ItemIdMatrix_keyStr[this]+key
endfunction
function s__YDWEStringFormula__ItemIdMatrix_onInit takes nothing returns nothing
set s__YDWEStringFormula__ItemIdMatrix_Data=s__YDWEStringFormula__StringTable__allocate()
endfunction
function s__YDWEStringFormula__FormulaMatrix_sub takes integer this,integer segment returns integer
local integer start=s__YDWEStringFormula__FormulaMatrix_segmLen[this]*segment+1
return S2I(SubString(s__YDWEStringFormula__FormulaMatrix_formula[this],start,start+s__YDWEStringFormula__FormulaMatrix_segmLen[this]))
endfunction
function s__YDWEStringFormula__FormulaMatrix_memory takes integer lingth,string formStr,integer eventually returns integer
local integer this=0
if HaveSavedInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__FormulaMatrix_Data)),StringHash(formStr)) then
return 0
endif
set this=s__YDWEStringFormula__FormulaMatrix_Total
set s__YDWEStringFormula__FormulaMatrix_formula[this]=formStr+YDWEStringFormula__Convert(eventually,YDWEStringFormula__SEGMENT_LENGTH)
set s__YDWEStringFormula__FormulaMatrix_segmLen[this]=lingth
set s__YDWEStringFormula__FormulaMatrix_model[this]=null
set s__YDWEStringFormula__FormulaMatrix_message[this]=null
set s__YDWEStringFormula__FormulaMatrix_chance[this]=100
set s__YDWEStringFormula__FormulaMatrix_delete[this]=false
call SaveInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__FormulaMatrix_Data)),StringHash(formStr),this)
set s__YDWEStringFormula__FormulaMatrix_Total=s__YDWEStringFormula__FormulaMatrix_Total+1
return this
endfunction
function s__YDWEStringFormula__FormulaMatrix_onInit takes nothing returns nothing
set s__YDWEStringFormula__FormulaMatrix_Data=s__YDWEStringFormula__StringTable__allocate()
endfunction
function s__YDWEStringFormula__Sorting_onDestroy takes integer this returns nothing
local integer i=0
loop
exitwhen i==s___YDWEStringFormula__Sorting_stack_size
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]=0
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]=0
set i=i+1
endloop
set s__YDWEStringFormula__Sorting_char[this]=""
endfunction
function s__YDWEStringFormula__Sorting_deallocate takes integer this returns nothing
if this==null then
return
elseif si__YDWEStringFormula__Sorting_V[this]!=-1 then
return
endif
call s__YDWEStringFormula__Sorting_onDestroy(this)
set si__YDWEStringFormula__Sorting_V[this]=si__YDWEStringFormula__Sorting_F
set si__YDWEStringFormula__Sorting_F=this
endfunction
function s__YDWEStringFormula__Sorting_create takes integer type1,integer n1,integer type2,integer n2,integer type3,integer n3,integer type4,integer n4,integer type5,integer n5,integer type6,integer n6,integer type7,integer n7 returns integer
local integer this=s__YDWEStringFormula__Sorting__allocate()
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+1]=s__YDWEStringFormula__ItemIdMatrix_assigns(type1)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+2]=s__YDWEStringFormula__ItemIdMatrix_assigns(type2)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+3]=s__YDWEStringFormula__ItemIdMatrix_assigns(type3)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+4]=s__YDWEStringFormula__ItemIdMatrix_assigns(type4)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+5]=s__YDWEStringFormula__ItemIdMatrix_assigns(type5)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+6]=s__YDWEStringFormula__ItemIdMatrix_assigns(type6)
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+7]=s__YDWEStringFormula__ItemIdMatrix_assigns(type7)
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+1]=n1
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+2]=n2
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+3]=n3
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+4]=n4
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+5]=n5
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+6]=n6
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+7]=n7
return this
endfunction
function s__YDWEStringFormula__Sorting_convert takes integer this returns string
local integer i=1
local integer j
local integer k
set s__YDWEStringFormula__Sorting_char[this]=""
loop
exitwhen i>s__YDWEStringFormula__Sorting_total[this]
if s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]==0 or s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]==0 then
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]=s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+s__YDWEStringFormula__Sorting_total[this]]
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+s__YDWEStringFormula__Sorting_total[this]]
set s__YDWEStringFormula__Sorting_total[this]=s__YDWEStringFormula__Sorting_total[this]-1
set i=i-1
else
set j=i+1
loop
exitwhen j>s__YDWEStringFormula__Sorting_total[this]
if s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j]==0 or s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+j]==0 then
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j]=s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+s__YDWEStringFormula__Sorting_total[this]]
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+j]=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+s__YDWEStringFormula__Sorting_total[this]]
set s__YDWEStringFormula__Sorting_total[this]=s__YDWEStringFormula__Sorting_total[this]-1
set j=j-1
elseif s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]>s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j] then
set k=s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]=s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j]
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j]=k
set k=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+j]
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+j]=k
elseif s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]==s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j] then
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]+s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+j]
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+j]=0
set j=j-1
endif
set j=j+1
endloop
set j=s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]
loop
exitwhen j==0
set s__YDWEStringFormula__Sorting_char[this]=s__YDWEStringFormula__Sorting_char[this]+YDWEStringFormula__Convert(s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i],YDWEStringFormula__SEGMENT_LENGTH)
set j=j-1
endloop
endif
set i=i+1
endloop
return s__YDWEStringFormula__Sorting_char[this]
endfunction
function YDWEStringFormula__Adaptation takes nothing returns boolean
return true
endfunction
function YDWEStringFormula__verify takes nothing returns boolean
return HaveSavedInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__ItemIdMatrix_Data)),StringHash(I2S(GetItemTypeId(GetManipulatedItem()))))
endfunction
function YDWEStringFormula__GetCharges takes item it returns integer
local integer charges=GetItemCharges(it)
if charges==0 then
set charges=1
endif
return charges
endfunction
function YDWEStringFormula__CraftItem takes nothing returns nothing
local integer forx=0
local integer itmx=LoadInteger(YDHT,StringHash("YDWEStringFormula."+I2S(s__YDWEStringFormula__ItemIdMatrix_Data)),StringHash(I2S(GetItemTypeId(GetManipulatedItem()))))
local integer size=StringLength(s__YDWEStringFormula__ItemIdMatrix_keyStr[itmx])/s__YDWEStringFormula__ItemIdMatrix_keyLen[itmx]
local integer inst=0
local integer numb=0
local integer sum=0
local integer tmpid=0
local integer i=0
local integer j=0
local boolean b=false
local item it=null
local item article=GetManipulatedItem()
local unit caster=GetTriggerUnit()
local item array items
local integer array typeid
local integer array amount
local integer array surplus
set i=0
loop
exitwhen i==6
set it=UnitItemInSlot(caster,i)
if it!=null then
set items[sum]=it
set typeid[sum]=GetItemTypeId(it)
set amount[sum]=YDWEStringFormula__GetCharges(it)
if it==article then
set b=true
endif
set sum=sum+1
endif
set i=i+1
set it=null
endloop
if b==false then
set items[sum]=article
set typeid[sum]=GetItemTypeId(article)
set amount[sum]=1
set sum=sum+1
endif
loop
exitwhen inst==size
set forx=s__YDWEStringFormula__ItemIdMatrix_sub(itmx,inst)
set numb=StringLength(s__YDWEStringFormula__FormulaMatrix_formula[forx])/s__YDWEStringFormula__FormulaMatrix_segmLen[forx]-1
set i=0
loop
exitwhen i==sum
set surplus[i]=amount[i]
set i=i+1
endloop
set i=0
loop
set tmpid=s__YDWEStringFormula__ItemIdMatrix_itemId[s__YDWEStringFormula__FormulaMatrix_sub(forx,i)]
exitwhen i==numb
set j=0
loop
exitwhen j==sum
if typeid[j]==tmpid and surplus[j]>0 then
set surplus[j]=surplus[j]-1
exitwhen true
endif
set j=j+1
endloop
exitwhen j==sum
set i=i+1
endloop
if i==numb then
if GetRandomInt(0,99)<s__YDWEStringFormula__FormulaMatrix_chance[forx] then
if s__YDWEStringFormula__FormulaMatrix_model[forx]!=null then
call h__DestroyEffect(AddSpecialEffectTarget(s__YDWEStringFormula__FormulaMatrix_model[forx],caster,"origin"))
endif
if s__YDWEStringFormula__FormulaMatrix_message[forx]!=null then
call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,30,s__YDWEStringFormula__FormulaMatrix_message[forx])
endif
set i=0
loop
exitwhen i==sum
if surplus[i]>0 and GetItemCharges(items[i])>0 then
call SetItemCharges(items[i],surplus[i])
elseif surplus[i]==0 then
call RemoveItem(items[i])
endif
set i=i+1
endloop
set it=CreateItem(tmpid,GetUnitX(caster),GetUnitY(caster))
if GetItemCharges(it)>0 then
call SetItemCharges(it,1)
set i=0
loop
exitwhen i==sum
if typeid[i]==tmpid then
call RemoveItem(items[i])
call SetItemCharges(it,surplus[i]+1)
endif
set i=i+1
endloop
endif
call UnitAddItem(caster,it)
set bj_lastCombinedItem=it
call YDWESyStemItemCombineTriggerAction()
elseif s__YDWEStringFormula__FormulaMatrix_delete[forx] then
set i=0
loop
exitwhen i==sum
if surplus[i]>0 and GetItemCharges(items[i])>0 then
call SetItemCharges(items[i],surplus[i])
elseif surplus[i]==0 then
call RemoveItem(items[i])
endif
set i=i+1
endloop
endif
set it=null
exitwhen true
endif
set inst=inst+1
endloop
if b==false then
call RemoveItem(article)
endif
set i=0
loop
exitwhen i==sum
set items[i]=null
set i=i+1
endloop
set article=null
set caster=null
set it=null
endfunction
function YDWEStringFormula__Init takes nothing returns nothing
local filterfunc f=Filter(function YDWEStringFormula__Adaptation)
local trigger t=CreateTrigger()
local integer i=0
loop
exitwhen i>15
call TriggerRegisterPlayerUnitEvent(t,Player(i),EVENT_PLAYER_UNIT_PICKUP_ITEM,f)
set i=i+1
endloop
call TriggerAddCondition(t,Condition(function YDWEStringFormula__verify))
call TriggerAddAction(t,function YDWEStringFormula__CraftItem)
call DestroyFilter(f)
set f=null
set t=null
endfunction
function YDWENewItemsFormula takes integer type1,integer n1,integer type2,integer n2,integer type3,integer n3,integer type4,integer n4,integer type5,integer n5,integer type6,integer n6,integer eventually returns nothing
local integer sort=s__YDWEStringFormula__Sorting_create(type1,n1,type2,n2,type3,n3,type4,n4,type5,n5,type6,n6,0,0)
local integer itmx=s__YDWEStringFormula__ItemIdMatrix_assigns(eventually)
local string f=I2S(YDWEStringFormula__SEGMENT_LENGTH)+s__YDWEStringFormula__Sorting_convert(sort)
local string s=""
local integer i=0
set YDWEStringFormula__FormulaData=s__YDWEStringFormula__FormulaMatrix_memory(YDWEStringFormula__SEGMENT_LENGTH,f,itmx)
if YDWEStringFormula__FormulaData>0 then
set s=YDWEStringFormula__Convert(YDWEStringFormula__FormulaData,YDWEStringFormula__SEGMENT_LENGTH)
set i=0
loop
exitwhen i>s__YDWEStringFormula__Sorting_total[sort]
call s__YDWEStringFormula__ItemIdMatrix_memory(s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[sort]+i],s)
set i=i+1
endloop
call s__YDWEStringFormula__ItemIdMatrix_memory(itmx,s)
endif
call s__YDWEStringFormula__Sorting_deallocate(sort)
set f=""
set s=""
endfunction
function YDWETimerPattern__SingleMagic takes unit sour,unit targ,real x,real y,real h,integer uid,integer aid,integer lv,integer order returns nothing
local unit dummy=CreateUnit(GetOwningPlayer(sour),uid,x,y,GetUnitFacing(sour))
call UnitApplyTimedLife(dummy,$42487765,1.)
call UnitAddAbility(dummy,aid)
call SetUnitAbilityLevel(dummy,aid,lv)
call SetUnitFlyHeight(dummy,h,0.)
call IssueTargetOrderById(dummy,order,targ)
set dummy=null
endfunction
function YDWETimerPattern__EnemyFilter takes unit u,unit caster returns boolean
return IsUnitType(u,UNIT_TYPE_MAGIC_IMMUNE)==false and IsUnitType(u,UNIT_TYPE_RESISTANT)==false and IsUnitType(u,UNIT_TYPE_SLEEPING)==false and GetUnitState(u,UNIT_STATE_LIFE)>.405 and IsUnitType(u,UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(u)==false and IsUnitHidden(u)==false and IsUnitEnemy(u,GetOwningPlayer(caster)) and IsUnitVisible(u,GetOwningPlayer(caster))
endfunction
function YDWETimerPattern__TreeFilter takes nothing returns boolean
local integer id=GetDestructableTypeId(GetFilterDestructable())
return id==$4C546C74 or id==$41547472 or id==$42547477 or id==$4B547477 or id==$59546674 or id==$4A546374 or id==$59547374 or id==$59546374 or id==$59547774 or id==$4A547477 or id==$44547368 or id==$46547477 or id==$43547472 or id==$49547477 or id==$4E547477 or id==$4F547477 or id==$5A547477 or id==$57547374 or id==$47547368 or id==$56546C74 or id==$57547477 or id==$41547463 or id==$42547463 or id==$43547463 or id==$49547463 or id==$4E547463 or id==$5A547463
endfunction
function YDWETimerPattern__DamageFilter takes nothing returns boolean
local unit u=GetFilterUnit()
local integer d=YDWETimerPattern__tmp_data
if not IsUnitInGroup(u,s__YDWETimerPattern__Thread_g[d]) and s__YDWETimerPattern__Thread_switch[d]!=0 and YDWETimerPattern__EnemyFilter(u,s__YDWETimerPattern__Thread_caster[d]) then
call UnitDamageTarget(s__YDWETimerPattern__Thread_caster[d],u,s__YDWETimerPattern__Thread_amount[d],false,false,bj_lastSetAttackType,bj_lastSetDamageType,bj_lastSetWeaponType)
call h__DestroyEffect(AddSpecialEffectTarget(s__YDWETimerPattern__Thread_dsfx[d],u,s__YDWETimerPattern__Thread_part[d]))
if s__YDWETimerPattern__Thread_skills[d]>$30303030 and s__YDWETimerPattern__Thread_skills[d]!=null and s__YDWETimerPattern__Thread_order[d]>0 and s__YDWETimerPattern__Thread_order[d]!=null then
call YDWETimerPattern__SingleMagic(s__YDWETimerPattern__Thread_caster[d],u,s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[d]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[d]],GetUnitFlyHeight(s__YDWETimerPattern__Thread_obj[d]),s__YDWETimerPattern__Thread_unitid[d],s__YDWETimerPattern__Thread_skills[d],s__YDWETimerPattern__Thread_level[d],s__YDWETimerPattern__Thread_order[d])
endif
if not s__YDWETimerPattern__Thread_recycle[d] then
set s__YDWETimerPattern__Thread_switch[d]=0
endif
set s__YDWETimerPattern__Thread_target[d]=u
set u=null
return true
endif
set u=null
return false
endfunction
function YDWETimerPattern__TreeKill takes nothing returns nothing
local destructable d=GetEnumDestructable()
if GetWidgetLife(d)>.405 then
call KillDestructable(d)
endif
set d=null
endfunction
function s__YDWETimerPattern__Thread__set_x takes integer this,real value returns nothing
set s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]]=value
call SetUnitX(s__YDWETimerPattern__Thread_obj[this],value)
endfunction
function s__YDWETimerPattern__Thread__set_y takes integer this,real value returns nothing
set s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]]=value
call SetUnitY(s__YDWETimerPattern__Thread_obj[this],value)
endfunction
function s__YDWETimerPattern__Deceleration_move takes nothing returns nothing
local integer this=LoadInteger(YDHT,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(GetExpiredTimer()))))
local real xp=GetUnitX(s__YDWETimerPattern__Thread_obj[this])+s__YDWETimerPattern__Thread_dist[this]*s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_vel[this]]
local real yp=GetUnitY(s__YDWETimerPattern__Thread_obj[this])+s__YDWETimerPattern__Thread_dist[this]*s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_vel[this]]
if s__YDWETimerPattern__Thread_volume[this]==false then
if IsTerrainPathable(xp,yp,PATHING_TYPE_WALKABILITY) then
set s__YDWETimerPattern__Thread_switch[this]=0
else
call s__YDWETimerPattern__Thread__set_x(this,xp)
call s__YDWETimerPattern__Thread__set_y(this,yp)
endif
else
call s__YDWETimerPattern__Thread__set_x(this,xp)
call s__YDWETimerPattern__Thread__set_y(this,yp)
endif
if s__YDWETimerPattern__Thread_follow[this]==0 then
if GetUnitFlyHeight(s__YDWETimerPattern__Thread_obj[this])<5. then
if IsTerrainPathable(s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]],PATHING_TYPE_FLOATABILITY) then
call h__DestroyEffect(AddSpecialEffect(s__YDWETimerPattern__Thread_gsfx[this],s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]]))
else
call h__DestroyEffect(AddSpecialEffect(s__YDWETimerPattern__Thread_wsfx[this],s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]]))
endif
endif
endif
set s__YDWETimerPattern__Thread_follow[this]=s__YDWETimerPattern__Thread_follow[this]+1
if s__YDWETimerPattern__Thread_follow[this]==2 then
set s__YDWETimerPattern__Thread_follow[this]=0
endif
if s__YDWETimerPattern__Thread_killdest[this] then
call MoveRectTo(YDWETimerPattern__Area,s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]])
call EnumDestructablesInRect(YDWETimerPattern__Area,YDWETimerPattern__Bexpr,function YDWETimerPattern__TreeKill)
endif
if s__YDWETimerPattern__Thread_amount[this]>0. then
set YDWETimerPattern__tmp_data=this
call GroupEnumUnitsInRange(s__YDWETimerPattern__Thread_g[this],s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]],s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]],120.,Condition(function YDWETimerPattern__DamageFilter))
endif
set s__YDWETimerPattern__Thread_dist[this]=s__YDWETimerPattern__Thread_dist[this]-s__YDWETimerPattern__Thread_step[this]
if s__YDWETimerPattern__Thread_dist[this]<=0. or RMinBJ(RMaxBJ(s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]]*1.,yd_MapMinX),yd_MapMaxX)!=s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]] or RMinBJ(RMaxBJ(s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]]*1.,yd_MapMinY),yd_MapMaxY)!=s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]] then
set s__YDWETimerPattern__Thread_switch[this]=0
endif
if s__YDWETimerPattern__Thread_switch[this]==0 then
call SetUnitFlyHeight(s__YDWETimerPattern__Thread_obj[this],GetUnitDefaultFlyHeight(s__YDWETimerPattern__Thread_obj[this]),200.)
call SetUnitTimeScale(s__YDWETimerPattern__Thread_obj[this],1)
call YDWESyStemAbilityCastingOverTriggerAction(s__YDWETimerPattern__Thread_obj[this],6)
call sc__YDWETimerPattern__Thread_deallocate(this)
endif
endfunction
function s__YDWETimerPattern__Deceleration_create takes unit source,unit object,real angle,real distance,real time,real interval,real damage,boolean killtrees,boolean cycle,boolean path,string part,string geff,string weff returns integer
local integer this=s__YDWETimerPattern__Deceleration__allocate()
set s__YDWETimerPattern__Thread_des[this]=s__YDWETimerPattern__YDVector3__allocate()
set s__YDWETimerPattern__Thread_pos[this]=s__YDWETimerPattern__YDVector3__allocate()
set s__YDWETimerPattern__Thread_vel[this]=s__YDWETimerPattern__YDVector3__allocate()
set s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_vel[this]]=Cos(angle)
set s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_vel[this]]=Sin(angle)
set s__YDWETimerPattern__Thread_dist[this]=2*distance*interval/time
set s__YDWETimerPattern__Thread_step[this]=s__YDWETimerPattern__Thread_dist[this]*interval/time
set s__YDWETimerPattern__YDVector3_x[s__YDWETimerPattern__Thread_pos[this]]=GetUnitX(object)
set s__YDWETimerPattern__YDVector3_y[s__YDWETimerPattern__Thread_pos[this]]=GetUnitY(object)
set s__YDWETimerPattern__Thread_caster[this]=source
set s__YDWETimerPattern__Thread_obj[this]=object
set s__YDWETimerPattern__Thread_amount[this]=damage
set s__YDWETimerPattern__Thread_killdest[this]=killtrees
set s__YDWETimerPattern__Thread_recycle[this]=cycle
set s__YDWETimerPattern__Thread_volume[this]=path
set s__YDWETimerPattern__Thread_gsfx[this]=geff
set s__YDWETimerPattern__Thread_wsfx[this]=weff
set s__YDWETimerPattern__Thread_switch[this]=1
set s__YDWETimerPattern__Thread_follow[this]=0
set s__YDWETimerPattern__Thread_g[this]=CreateGroup()
set s__YDWETimerPattern__Thread_t[this]=CreateTimer()
call TimerStart(s__YDWETimerPattern__Thread_t[this],interval,true,function s__YDWETimerPattern__Deceleration_move)
call SaveInteger(YDHT,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(s__YDWETimerPattern__Thread_t[this]))),this)
return this
endfunction
function YDWETimerPatternRushSlide takes unit u,real face,real dis,real lasttime,real timeout,real damage,boolean killtrees,boolean cycle,boolean path,string part,string gsfx,string wsfx returns nothing
if u==null then
return
endif
call s__YDWETimerPattern__Deceleration_create(u,u,Deg2Rad(face),RMaxBJ(dis,0),RMaxBJ(lasttime,0),RMaxBJ(timeout,0),damage,killtrees,cycle,path,part,gsfx,wsfx)
endfunction
function YDWETimerPattern__Init takes nothing returns nothing
set YDWETimerPattern__Area=Rect(-120.,-120.,120.,120.)
set YDWETimerPattern__Bexpr=Filter(function YDWETimerPattern__TreeFilter)
endfunction
function YDWETimerSystem__NewTaskIndex takes nothing returns integer
local integer h=YDWETimerSystem__TaskListIdleHead
if YDWETimerSystem__TaskListIdleHead<0 then
if YDWETimerSystem__TaskListIdleMax>=8000 then
return 8100
else
set YDWETimerSystem__TaskListIdleMax=YDWETimerSystem__TaskListIdleMax+1
return YDWETimerSystem__TaskListIdleMax
endif
endif
set YDWETimerSystem__TaskListIdleHead=YDWETimerSystem__TaskListIdle[h]
return h
endfunction
function YDWETimerSystem__DeleteTaskIndex takes integer index returns nothing
set YDWETimerSystem__TaskListIdle[index]=YDWETimerSystem__TaskListIdleHead
set YDWETimerSystem__TaskListIdleHead=index
endfunction
function YDWETimerSystem__NewTask takes real time,trigger proc returns integer
local integer index=YDWETimerSystem__NewTaskIndex()
local integer h=YDWETimerSystem__TaskListHead
local integer t=R2I(100.*time)+YDWETimerSystem__CurrentTime
local integer p
set YDWETimerSystem__TaskListProc[index]=proc
set YDWETimerSystem__TaskListTime[index]=t
loop
set p=YDWETimerSystem__TaskListNext[h]
if p<0 or YDWETimerSystem__TaskListTime[p]>=t then
set YDWETimerSystem__TaskListNext[h]=index
set YDWETimerSystem__TaskListNext[index]=p
return index
endif
set h=p
endloop
return index
endfunction
function YDWETimerSystem__RemoveUnit_CallBack takes nothing returns nothing
call RemoveUnit(LoadUnitHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerRemoveUnit takes real time,unit u returns nothing
call SaveUnitHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__NewTask(time,YDWETimerSystem__fnRemoveUnit),u)
endfunction
function YDWETimerSystem__DestroyTimer_CallBack takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerSystem__RemoveItem_CallBack takes nothing returns nothing
call RemoveItem(LoadItemHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerRemoveItem takes real time,item it returns nothing
call SaveItemHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__NewTask(time,YDWETimerSystem__fnRemoveItem),it)
endfunction
function YDWETimerSystem__DestroyEffect_CallBack takes nothing returns nothing
call h__DestroyEffect(LoadEffectHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerDestroyEffect takes real time,effect e returns nothing
call SaveEffectHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__NewTask(time,YDWETimerSystem__fnDestroyEffect),e)
endfunction
function YDWETimerSystem__DestroyLightning_CallBack takes nothing returns nothing
call DestroyLightning(LoadLightningHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerSystem__RunTrigger_CallBack takes nothing returns nothing
call TriggerExecute(LoadTriggerHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex))
call RemoveSavedHandle(YDHT,YDWETimerSystem__TimerHandle,YDWETimerSystem__CurrentIndex)
endfunction
function YDWETimerDestroyTextTag takes real time,texttag tt returns nothing
if time<=0 then
set time=.01
endif
call SetTextTagPermanent(tt,false)
call SetTextTagLifespan(tt,time)
call SetTextTagFadepoint(tt,time)
endfunction
function YDWETimerSystem__Main takes nothing returns nothing
local integer h=YDWETimerSystem__TaskListHead
loop
set YDWETimerSystem__CurrentIndex=YDWETimerSystem__TaskListNext[h]
exitwhen YDWETimerSystem__CurrentIndex<0 or YDWETimerSystem__CurrentTime<YDWETimerSystem__TaskListTime[YDWETimerSystem__CurrentIndex]
call TriggerEvaluate(YDWETimerSystem__TaskListProc[YDWETimerSystem__CurrentIndex])
call YDWETimerSystem__DeleteTaskIndex(YDWETimerSystem__CurrentIndex)
set YDWETimerSystem__TaskListNext[h]=YDWETimerSystem__TaskListNext[YDWETimerSystem__CurrentIndex]
endloop
set YDWETimerSystem__CurrentTime=YDWETimerSystem__CurrentTime+1
endfunction
function YDWETimerSystem__Init takes nothing returns nothing
set YDWETimerSystem__Timer=CreateTimer()
set YDWETimerSystem__TimerHandle=GetHandleId(YDWETimerSystem__Timer)
set YDWETimerSystem__CurrentTime=0
set YDWETimerSystem__TaskListHead=0
set YDWETimerSystem__TaskListNext[0]=-1
set YDWETimerSystem__TaskListIdleHead=1
set YDWETimerSystem__TaskListIdleMax=1
set YDWETimerSystem__TaskListIdle[1]=-1
set YDWETimerSystem__fnRemoveUnit=CreateTrigger()
set YDWETimerSystem__fnDestroyTimer=CreateTrigger()
set YDWETimerSystem__fnRemoveItem=CreateTrigger()
set YDWETimerSystem__fnDestroyEffect=CreateTrigger()
set YDWETimerSystem__fnDestroyLightning=CreateTrigger()
set YDWETimerSystem__fnRunTrigger=CreateTrigger()
call TriggerAddCondition(YDWETimerSystem__fnRemoveUnit,Condition(function YDWETimerSystem__RemoveUnit_CallBack))
call TriggerAddCondition(YDWETimerSystem__fnDestroyTimer,Condition(function YDWETimerSystem__DestroyTimer_CallBack))
call TriggerAddCondition(YDWETimerSystem__fnRemoveItem,Condition(function YDWETimerSystem__RemoveItem_CallBack))
call TriggerAddCondition(YDWETimerSystem__fnDestroyEffect,Condition(function YDWETimerSystem__DestroyEffect_CallBack))
call TriggerAddCondition(YDWETimerSystem__fnDestroyLightning,Condition(function YDWETimerSystem__DestroyLightning_CallBack))
call TriggerAddCondition(YDWETimerSystem__fnRunTrigger,Condition(function YDWETimerSystem__RunTrigger_CallBack))
call TimerStart(YDWETimerSystem__Timer,.01,true,function YDWETimerSystem__Main)
endfunction
function InitGlobals takes nothing returns nothing
local integer i=0
set udg_JSQ=CreateTimer()
set udg_BS=0
set xgdg_zAA=DialogCreate()
set udg_NDXS=0
set i=0
loop
exitwhen i>1
set udg_SDS[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>5
set udg_FHSJ[i]=0
set i=i+1
endloop
set udg_ZZJSQ=CreateTimer()
set i=0
loop
exitwhen i>1
set udg_SHzf[i]=1.
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_BL[i]=0
set i=i+1
endloop
set udg_WJS=0
set xgdg_vAA=DialogCreate()
set i=0
loop
exitwhen i>1
set udg_XXZFC[i]=""
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_WLXX[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SHjm[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDqsx[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDsmz[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDgjl[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDhj[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDmc[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDjb[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_LGSL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXFH[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_OAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_lAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_PAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_kAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_QAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_jAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_RAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_iAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_SAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_hAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_TAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_gAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_UAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_fAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_VAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_eAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_WAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_dAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_XAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_cAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_YAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_bAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_ZAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_aAA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_zzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_TGJF[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_yzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_CzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_xzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_DzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_wzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_EzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_vzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_FzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_uzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_GzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_JYshouyi[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_WLBJJL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_WLBJSH[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_WLSHZF[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_FSSHZF[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_GDJL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_FSBJJL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_FSBJSH[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SDSZF[i]=0
set i=i+1
endloop
set udg_SJ=140.
set i=0
loop
exitwhen i>1
set udg_FSXX[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_MzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_nzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_NzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_mzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_OzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_lzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_PzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_kzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_QzA[i]=0
set i=i+1
endloop
set udg_TX=false
set i=0
loop
exitwhen i>1
set udg_ZGZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXbadao[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXguishi[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXzhanfa[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXtianqiang[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXyinjian[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXzhongzhuang[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXlinggong[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXlizhua[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_HDZ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_JXSD[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_ZJSP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXpojun[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_jzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_RzA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_izA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_WJJF[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_SzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_hzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_TzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_gzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_UzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_fzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_VzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_FKZR[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_ZBSSQ[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_HDZJL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_HDZMC[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_ezA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_WzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_dzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_XzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_czA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_YzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_bzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_ZzA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_azA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_zBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_BBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_YXyingci[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_yBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_CBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_xBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_DBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_wBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_EBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_vBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_FBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_uBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_GBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_tBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_HBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_SYTC[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_sBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_IBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_rBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_JBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_HCDS[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_qBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_KBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_pBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_LBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_CDSDJMC[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_oBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_MBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_nBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_HDBP[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_NBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_mBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set udg_JYBSL[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_OBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_lBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_PBA[i]=false
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_kBA[i]=0
set i=i+1
endloop
set i=0
loop
exitwhen i>1
set xgdg_QBA[i]=0
set i=i+1
endloop
set i=1
loop
exitwhen i>15
set udg_ChangESKillENum[i]=0
set i=i+1
endloop
endfunction
function CreateAllDestructables takes nothing returns nothing
set gg_dest_B002_5225=CreateDestructable($42303032,9344.,-17088.,176.,1.,0)
set gg_dest_B002_5214=CreateDestructable($42303032,-12800.,-3840.,176.,1.,0)
set gg_dest_B002_5216=CreateDestructable($42303032,10624.,5888.,176.,1.,0)
set gg_dest_B002_5224=CreateDestructable($42303032,5568.,-16320.,176.,1.,0)
set gg_dest_B002_5223=CreateDestructable($42303032,3712.,-16896.,176.,1.,0)
set gg_dest_B002_5222=CreateDestructable($42303032,832.,-17024.,176.,1.,0)
set gg_dest_B002_5221=CreateDestructable($42303032,-1856.,-17024.,176.,1.,0)
set gg_dest_B002_5220=CreateDestructable($42303032,-4992.,-17088.,176.,1.,0)
set gg_dest_B002_5219=CreateDestructable($42303032,2240.,6912.,176.,1.,0)
set gg_dest_B002_5218=CreateDestructable($42303032,-7360.,15040.,176.,1.,0)
set gg_dest_B002_5217=CreateDestructable($42303032,5056.,-2752.,176.,1.,0)
set gg_dest_B002_5213=CreateDestructable($42303032,-12416.,-11264.,176.,1.,0)
set gg_dest_B002_5226=CreateDestructable($42303032,12096.,-17088.,176.,1.,0)
set gg_dest_B002_5215=CreateDestructable($42303032,-5056.,-3584.,176.,1.,0)
set gg_dest_B002_5227=CreateDestructable($42303032,-12160.,-17024.,289.74,1.,0)
set gg_dest_B002_5210=CreateDestructable($42303032,8896.,-2624.,176.,1.,0)
set gg_dest_B002_5211=CreateDestructable($42303032,10496.,-6784.,176.,1.,0)
set gg_dest_B002_5212=CreateDestructable($42303032,12544.,-13184.,176.,1.,0)
set gg_dest_B002_5209=CreateDestructable($42303032,11008.,2048.,176.,1.,0)
set gg_dest_B002_0090=CreateDestructable($42303032,-2880.,11776.,205.405,1.,0)
set gg_dest_B002_0091=CreateDestructable($42303032,-5504.,4544.,176.,1.,0)
set gg_dest_B002_0092=CreateDestructable($42303032,-1216.,11392.,176.,1.,0)
set gg_dest_B002_0093=CreateDestructable($42303032,6720.,13760.,176.,1.,0)
set gg_dest_B002_0094=CreateDestructable($42303032,5568.,5248.,176.,1.,0)
set gg_dest_B002_0095=CreateDestructable($42303032,-448.,2688.,176.,1.,0)
set gg_dest_B002_0096=CreateDestructable($42303032,5312.,3840.,176.,1.,0)
endfunction
function CreateAllItems takes nothing returns nothing
call CreateItem($49303448,-4602.4,-11462.1)
call CreateItem($49303448,2478.5,-11663.1)
call CreateItem($49303448,-3870.2,-12456.6)
call CreateItem($49303448,994.5,-12812.4)
endfunction
function CreateUnitsForPlayer0 takes nothing returns nothing
local player p=Player(0)
set gg_unit_n00G_0010=CreateUnit(p,$6E303047,-11966.3,10816.7,280.01)
call SetUnitColor(gg_unit_n00G_0010,ConvertPlayerColor(12))
set gg_unit_hpea_0184=CreateUnit(p,$68706561,-1148.,-9970.2,76.265)
endfunction
function CreateUnitsForPlayer1 takes nothing returns nothing
local player p=Player(1)
set gg_unit_n00G_0153=CreateUnit(p,$6E303047,-9150.4,10806.7,280.01)
call SetUnitColor(gg_unit_n00G_0153,ConvertPlayerColor(12))
set gg_unit_hpea_0186=CreateUnit(p,$68706561,-388.7,-9982.6,110.005)
endfunction
function CreateUnitsForPlayer2 takes nothing returns nothing
local player p=Player(2)
set gg_unit_hpea_0236=CreateUnit(p,$68706561,1285.9,-9972.5,92.416)
set gg_unit_n00G_0242=CreateUnit(p,$6E303047,-11971.3,7743.1,280.01)
call SetUnitColor(gg_unit_n00G_0242,ConvertPlayerColor(12))
endfunction
function CreateUnitsForPlayer3 takes nothing returns nothing
local player p=Player(3)
set gg_unit_hpea_0237=CreateUnit(p,$68706561,2001.7,-10008.9,108.421)
set gg_unit_n00G_0243=CreateUnit(p,$6E303047,-9149.2,7735.2,280.01)
call SetUnitColor(gg_unit_n00G_0243,ConvertPlayerColor(12))
endfunction
function CreateUnitsForPlayer4 takes nothing returns nothing
local player p=Player(4)
local unit u
set u=CreateUnit(p,$6E303337,-1493.7,-7440.,58.954)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304C,-9341.9,12544.,336.242)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304C,-12159.5,9474.5,299.046)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304C,-9345.5,9469.9,343.531)
call SetUnitColor(u,ConvertPlayerColor(12))
set gg_unit_Hpal_0030=CreateUnit(p,$4870616C,385.9,-8442.9,87.546)
set u=CreateUnit(p,$6E303152,2481.,-6635.7,172.206)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303159,-1491.8,-6665.7,227.49)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303030,2482.1,-7742.9,15.744)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304F,-1490.9,-7053.5,139.278)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304A,2469.7,-7207.9,307.33)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30304C,-12158.9,12545.7,299.046)
call SetUnitColor(u,ConvertPlayerColor(12))
endfunction
function CreateUnitsForPlayer5 takes nothing returns nothing
local player p=Player(5)
set gg_unit_n00D_0152=CreateUnit(p,$6E303044,11252.9,12618.2,155.592)
endfunction
function CreateNeutralHostile takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_AGGRESSIVE)
local unit u
set u=CreateUnit(p,$6E303236,1808.1,2002.8,359.945)
set u=CreateUnit(p,$4F303032,-4834.,-15239.4,267.757)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30314A,8455.2,6801.6,0.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303150,12601.3,4940.6,193.303)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303149,12789.1,6792.,180.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303239,-5044.7,13582.9,64.338)
set u=CreateUnit(p,$6E303239,-4721.8,13806.,25.302)
set u=CreateUnit(p,$6E303239,-4022.7,13684.9,104.637)
set u=CreateUnit(p,$6E303239,-5230.8,12953.,324.458)
set u=CreateUnit(p,$6E303239,-4838.,13121.1,66.129)
set u=CreateUnit(p,$6E303239,-3928.2,13306.6,67.909)
set u=CreateUnit(p,$6E303239,-3618.4,13534.,77.643)
set u=CreateUnit(p,$6E303239,-4432.4,13393.8,160.669)
set u=CreateUnit(p,$6E303239,-4262.6,13851.6,80.642)
set u=CreateUnit(p,$6E303239,-4894.1,12819.4,96.65)
set u=CreateUnit(p,$6E303239,-4402.5,12860.1,317.657)
set u=CreateUnit(p,$6E303239,-3596.4,13066.1,53.077)
set u=CreateUnit(p,$6E303239,-4032.1,12856.3,328.161)
set u=CreateUnit(p,$6E303052,-4013.9,-6876.4,85.059)
set u=CreateUnit(p,$6E303052,-4233.8,-6527.,256.194)
set u=CreateUnit(p,$6E303052,-3081.5,-7049.4,68.648)
set u=CreateUnit(p,$6E303052,-3693.3,-7192.3,205.549)
set u=CreateUnit(p,$4F303033,-1926.5,-15200.2,264.638)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303052,-3491.5,-6520.3,301.935)
set u=CreateUnit(p,$6E303052,-3867.9,-6279.7,158.955)
set u=CreateUnit(p,$6E303052,-3381.3,-6989.3,117.382)
set u=CreateUnit(p,$4F303039,811.3,-15108.4,272.833)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303052,-3153.3,-6641.3,347.761)
set u=CreateUnit(p,$6E303052,-3693.9,-6813.4,301.271)
set u=CreateUnit(p,$6E303056,3804.2,-9742.6,265.987)
set u=CreateUnit(p,$6E303056,3597.5,-9889.4,173.095)
set u=CreateUnit(p,$6E303056,3598.,-10138.5,169.381)
set u=CreateUnit(p,$6E303056,3870.1,-10394.4,264.01)
set u=CreateUnit(p,$6E303052,-3855.5,-6563.,238.597)
set u=CreateUnit(p,$6E303056,4343.2,-10364.5,51.275)
set u=CreateUnit(p,$6E303056,4254.4,-10067.8,209.12)
set u=CreateUnit(p,$6E303056,4284.1,-9762.6,196.101)
set u=CreateUnit(p,$6E303056,3944.8,-10160.9,270.019)
set u=CreateUnit(p,$6E30314C,-3349.2,-9483.1,300.859)
set u=CreateUnit(p,$6E303056,3466.5,-10472.4,328.413)
set u=CreateUnit(p,$6E303056,4638.,-10200.3,34.85)
set u=CreateUnit(p,$6E30314C,-3120.4,-9434.6,306.704)
set u=CreateUnit(p,$6E30314C,-2806.6,-9504.7,198.738)
set u=CreateUnit(p,$6E30314C,-2741.7,-9882.1,120.161)
set u=CreateUnit(p,$6E30314C,-3519.8,-9782.6,34.18)
set u=CreateUnit(p,$6E30314C,-3318.1,-10055.7,48.946)
set u=CreateUnit(p,$6E30314C,-3133.9,-9824.8,101.923)
set u=CreateUnit(p,$6E30314C,-2946.5,-10163.3,45.737)
set u=CreateUnit(p,$6E303036,210.6,-13154.2,115.129)
set u=CreateUnit(p,$6E30314C,-3737.8,-9632.5,314.186)
set u=CreateUnit(p,$6E30314C,-2929.8,-9792.8,122.402)
set u=CreateUnit(p,$6E303035,1505.9,-11516.1,123.512)
set u=CreateUnit(p,$4F666172,6236.3,-890.7,223.437)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303057,-5496.9,-12458.,35.179)
set u=CreateUnit(p,$6E303135,-483.2,14681.2,1.296)
set u=CreateUnit(p,$6E303135,-924.2,10639.5,90.695)
set u=CreateUnit(p,$6E303135,-646.6,10750.4,330.028)
set u=CreateUnit(p,$6E303135,-598.9,14109.5,100.034)
set u=CreateUnit(p,$6E303135,-920.,14480.3,65.195)
set u=CreateUnit(p,$6E303135,-974.7,11046.3,233.39)
set u=CreateUnit(p,$4F746368,2291.8,14568.2,215.94)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303141,-10539.9,15731.6,213.042)
set u=CreateUnit(p,$6E303141,-10007.,15688.6,264.075)
set u=CreateUnit(p,$6E303141,-10891.1,15281.1,271.755)
set u=CreateUnit(p,$6E303141,-10508.7,14745.3,154.209)
set u=CreateUnit(p,$6E303141,-10247.3,15220.2,356.594)
set u=CreateUnit(p,$6E303141,-9813.2,15249.,37.53)
set u=CreateUnit(p,$6E303141,-9932.6,14693.4,206.879)
set u=CreateUnit(p,$6E303141,-10920.,14864.7,192.717)
set u=CreateUnit(p,$6E303141,-10550.3,15156.3,319.349)
set u=CreateUnit(p,$55647468,-12529.9,16321.6,352.168)
set u=CreateUnit(p,$6E303033,5647.6,10989.,284.686)
set u=CreateUnit(p,$6E303033,6404.,10894.1,145.485)
set u=CreateUnit(p,$6E303033,4950.1,10797.6,142.794)
set u=CreateUnit(p,$6E303033,6650.5,10773.8,196.409)
set u=CreateUnit(p,$6E303033,5601.,10536.2,321.481)
set u=CreateUnit(p,$6E303033,6108.7,10553.3,175.545)
set u=CreateUnit(p,$6E303033,5164.9,10222.9,352.408)
set u=CreateUnit(p,$6E303033,5842.,9804.,123.182)
set u=CreateUnit(p,$6E303033,5928.9,9820.7,278.578)
set u=CreateUnit(p,$6E303033,6900.6,10418.2,86.377)
set u=CreateUnit(p,$6E303033,6398.9,9942.5,328.325)
set u=CreateUnit(p,$4F736864,6744.6,15483.8,251.86)
set u=CreateUnit(p,$6E303038,2982.8,-12889.7,188.857)
set u=CreateUnit(p,$6E303142,76.1,7404.3,225.699)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,907.4,7182.,45.694)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,-166.4,6321.2,68.458)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,476.5,6597.9,38.563)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,38.1,6863.5,274.743)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,973.6,6626.8,97.1)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,535.3,6161.3,45.836)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,1647.2,6920.3,252.594)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,-441.8,7012.2,179.665)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303142,-723.4,6164.7,242.113)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-515.1,5134.9,49.077)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-456.,4539.3,306.034)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,423.8,5311.4,127.819)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,678.7,4995.9,161.647)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,265.9,4431.7,357.583)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-70.7,4683.1,49.121)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-1542.7,5005.3,287.752)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-1007.3,5109.4,9.064)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,-924.9,4702.4,133.114)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303136,1121.1,4758.3,244.75)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4F303035,3571.7,-15216.,268.908)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4F303036,7360.3,-16281.9,181.495)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4F303034,9268.7,-15242.7,260.293)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4F303037,12010.7,-15337.,252.629)
call SetUnitState(u,UNIT_STATE_MANA,0)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4F303038,-12197.5,-15535.5,268.526)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303035,1716.9,-11299.8,215.108)
set u=CreateUnit(p,$4F677268,-5669.1,9820.8,50.994)
set u=CreateUnit(p,$6E303132,4108.6,7225.2,60.504)
set u=CreateUnit(p,$6E303132,4649.9,7239.2,172.611)
set u=CreateUnit(p,$4F746872,-4242.3,7106.1,269.212)
set u=CreateUnit(p,$6E303132,4376.1,6415.6,56.043)
set u=CreateUnit(p,$6E303132,5770.,6740.4,333.258)
set u=CreateUnit(p,$6E303132,4781.3,6797.9,349.629)
set u=CreateUnit(p,$6E303132,5075.1,7747.4,243.124)
set u=CreateUnit(p,$6E303132,4533.5,7823.4,96.056)
set u=CreateUnit(p,$6E303132,5163.1,7282.4,171.524)
set u=CreateUnit(p,$6E30314E,-5547.7,2931.,216.338)
set u=CreateUnit(p,$6E30314E,-5234.7,2898.,22.347)
set u=CreateUnit(p,$6E30314E,-5002.6,2767.7,351.771)
set u=CreateUnit(p,$6E30314E,-5603.7,2570.4,61.613)
set u=CreateUnit(p,$6E30314E,-5330.,2576.6,43.837)
set u=CreateUnit(p,$6E30314E,-5173.4,2298.3,162.02)
set u=CreateUnit(p,$6E30314E,-4629.9,2669.6,330.753)
set u=CreateUnit(p,$6E30314E,-4671.9,2351.8,169.195)
set u=CreateUnit(p,$6E30314E,-4941.7,2548.8,324.074)
set u=CreateUnit(p,$6E30314E,-5521.7,2245.5,320.668)
set u=CreateUnit(p,$6E30314E,-5108.9,2077.5,206.253)
set u=CreateUnit(p,$6E303236,-1107.,2944.9,182.972)
set u=CreateUnit(p,$6E303236,2291.9,2177.8,115.14)
set u=CreateUnit(p,$6E303236,-1186.6,1688.7,217.36)
set u=CreateUnit(p,$6E303236,1699.,1548.1,204.341)
set u=CreateUnit(p,$6E303236,-1615.,1726.5,105.626)
set u=CreateUnit(p,$6E303236,1274.7,2062.6,179.28)
set u=CreateUnit(p,$6E303236,-2056.3,2259.7,352.925)
set u=CreateUnit(p,$6E303236,-1160.4,2302.2,42.474)
set u=CreateUnit(p,$6E303236,2198.8,1498.,133.18)
set u=CreateUnit(p,$6E303236,1475.1,2561.7,285.543)
set u=CreateUnit(p,$6E303236,-1559.7,2607.6,279.292)
set u=CreateUnit(p,$6E303035,1980.1,-11388.7,274.886)
set u=CreateUnit(p,$6E303059,5124.3,2609.6,168.59)
set u=CreateUnit(p,$6E303059,5732.4,3370.7,270.404)
set u=CreateUnit(p,$6E303059,4684.3,3112.5,65.535)
set u=CreateUnit(p,$6E303059,5999.2,3046.2,282.643)
set u=CreateUnit(p,$6E303059,5025.1,1958.7,326.26)
set u=CreateUnit(p,$6E303059,4330.7,2292.3,308.78)
set u=CreateUnit(p,$6E303059,4492.9,2493.4,71.71)
set u=CreateUnit(p,$6E303059,5649.,2176.8,312.746)
set u=CreateUnit(p,$6E303059,5714.4,2653.,132.433)
set u=CreateUnit(p,$6E303035,1463.6,-11161.8,132.862)
set u=CreateUnit(p,$6E303059,5061.,3012.6,325.469)
set u=CreateUnit(p,$6E303059,5268.1,2201.7,20.051)
set u=CreateUnit(p,$6E303059,4540.6,2123.1,333.588)
set u=CreateUnit(p,$6E303135,-1083.5,14029.2,285.346)
set u=CreateUnit(p,$6E303135,-417.8,14262.,49.737)
set u=CreateUnit(p,$6E303135,-655.8,11093.,53.56)
set u=CreateUnit(p,$6E303135,-457.8,10913.5,8.405)
set u=CreateUnit(p,$6E303035,1237.3,-11406.8,296.113)
set u=CreateUnit(p,$6E303035,1756.8,-11584.8,282.17)
set u=CreateUnit(p,$6E303135,-603.6,10457.7,228.896)
set u=CreateUnit(p,$6E303035,1432.1,-11642.6,301.111)
set u=CreateUnit(p,$6E303035,1591.3,-11749.6,204.209)
set u=CreateUnit(p,$6E303035,1837.8,-11730.7,216.492)
set u=CreateUnit(p,$6E303035,1255.8,-11230.3,338.455)
set u=CreateUnit(p,$6E303036,131.,-12594.3,144.244)
set u=CreateUnit(p,$6E303036,310.8,-12917.2,269.875)
set u=CreateUnit(p,$6E303036,-503.3,-13092.8,165.075)
set u=CreateUnit(p,$6E303036,-524.8,-12768.,311.505)
set u=CreateUnit(p,$6E303036,-292.4,-12551.1,321.711)
set u=CreateUnit(p,$6E303036,-93.4,-12865.8,182.247)
set u=CreateUnit(p,$6E303036,-73.3,-13129.9,324.282)
set u=CreateUnit(p,$6E303135,-806.7,13654.5,279.226)
set u=CreateUnit(p,$6E303135,-367.3,10558.2,40.936)
set u=CreateUnit(p,$6E303236,-1562.4,2166.1,124.699)
set u=CreateUnit(p,$6E303236,1983.1,2569.,128.017)
set u=CreateUnit(p,$55303133,-2414.3,16305.6,180.779)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303134,2282.4,9422.,133.248)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303055,670.9,-769.4,95.565)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303056,6560.2,-4342.2,125.38)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303057,2480.5,5715.3,163.73)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303136,9154.7,3207.2,311.413)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303151,9354.2,1511.4,29.624)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303152,12633.5,2182.,184.951)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303153,12541.8,-2705.3,143.189)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303154,9661.3,-515.6,307.74)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303155,12583.6,-310.1,232.787)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303156,9222.,-5991.6,342.369)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303157,11840.5,-5838.4,229.322)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303158,11156.4,-8128.,112.815)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303159,9041.,-12976.6,51.121)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$5530315A,8733.2,-10065.7,312.27)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303230,12497.8,-10644.7,212.927)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303231,-9533.9,-12692.5,182.734)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303232,-9687.,-10555.9,186.662)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303233,-11761.8,-9375.5,269.447)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303234,-10901.6,-2229.1,200.245)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303235,-11557.9,-7097.1,82.543)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303236,-11618.2,59.3,265.692)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303237,-3022.1,-1413.6,227.994)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303238,-7970.3,-1314.5,308.007)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$55303239,-7789.3,-5465.4,33.055)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303059,5542.5,3043.2,85.432)
set u=CreateUnit(p,$6E303059,6102.2,2523.3,326.26)
set u=CreateUnit(p,$6E303132,5642.5,7608.2,312.406)
set u=CreateUnit(p,$6E303132,5244.,6737.2,265.855)
set u=CreateUnit(p,$6E303239,-5354.7,13379.8,206.121)
set u=CreateUnit(p,$6E303239,-5707.6,12582.7,184.532)
set u=CreateUnit(p,$6E303141,-10274.2,14504.3,153.319)
set u=CreateUnit(p,$6E303033,6138.3,11231.8,254.583)
set u=CreateUnit(p,$6E303033,5276.8,11246.6,233.796)
set u=CreateUnit(p,$6E303033,6897.3,11295.6,134.653)
set u=CreateUnit(p,$6E303033,6133.5,11810.6,315.943)
set u=CreateUnit(p,$4E626263,6524.3,7606.6,256.86)
set u=CreateUnit(p,$6E303148,5840.5,-12219.,260.307)
set u=CreateUnit(p,$6E303148,6711.9,-12207.5,343.355)
set u=CreateUnit(p,$6E303148,6607.2,-12509.5,49.55)
set u=CreateUnit(p,$6E303148,6489.4,-12186.3,179.544)
set u=CreateUnit(p,$6E303148,6255.4,-12392.4,169.272)
set u=CreateUnit(p,$6E303148,5993.1,-12646.4,77.335)
set u=CreateUnit(p,$6E303148,6398.4,-11943.2,286.642)
set u=CreateUnit(p,$6E303148,6854.8,-12445.6,280.292)
set u=CreateUnit(p,$6E303148,6680.4,-11767.6,67.996)
set u=CreateUnit(p,$6E303148,6109.1,-12056.4,87.168)
set u=CreateUnit(p,$6E303158,-7205.2,-9112.4,64.854)
set u=CreateUnit(p,$6E303158,-8040.6,-9465.4,114.569)
set u=CreateUnit(p,$6E303158,-7800.1,-9763.8,124.721)
set u=CreateUnit(p,$6E303158,-7588.5,-9485.1,288.773)
set u=CreateUnit(p,$6E303158,-8116.6,-8965.2,122.556)
set u=CreateUnit(p,$6E303158,-7326.2,-8542.6,41.112)
set u=CreateUnit(p,$6E303158,-7792.4,-8490.6,339.532)
set u=CreateUnit(p,$6E303158,-8131.2,-8498.4,184.686)
set u=CreateUnit(p,$6E303158,-8260.7,-9284.6,140.607)
set u=CreateUnit(p,$6E303158,-7603.1,-8982.1,284.39)
set u=CreateUnit(p,$6E303036,-104.3,-12552.2,139.706)
set u=CreateUnit(p,$6E303036,475.4,-13090.3,156.791)
endfunction
function CreateNeutralPassive takes nothing returns nothing
local player p=Player(PLAYER_NEUTRAL_PASSIVE)
local unit u
set u=CreateUnit(p,$6E303134,-11264.7,11709.7,38.64)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303034,5049.,3700.6,269.894)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303134,-8445.,11716.5,38.64)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303134,-11263.3,8640.8,38.64)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4E303146,12148.4,12272.,240.36)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4E30315A,11168.4,12225.,280.249)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4E303231,11537.3,12220.6,269.23)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4E303230,11876.5,12234.3,286.46)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4E303235,11699.9,12508.8,271.1)
set u=CreateUnit(p,$6E303237,-1497.5,-9634.6,33.6)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4E303241,11936.6,12490.4,300.82)
set u=CreateUnit(p,$6E303242,-1050.4,-6635.7,284.1)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4E303245,11362.9,12531.6,289.)
set u=CreateUnit(p,$6E303134,-8446.6,8642.1,38.64)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4E303246,11534.2,12511.1,271.69)
set u=CreateUnit(p,$6E303247,1743.4,-6832.1,266.35)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303050,-5276.5,4907.4,275.491)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303037,-51.7,2695.1,290.943)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30305A,-12355.3,10807.4,262.26)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303048,6370.4,13803.8,300.29)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303058,-3032.6,11451.9,184.32)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303042,5249.8,5282.3,84.9)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30305A,-12355.6,7741.8,262.26)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E30305A,-9540.5,7741.5,262.26)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$48303032,11708.3,11532.7,279.677)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E30305A,-9539.2,10804.7,262.26)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4E303244,11711.1,11895.3,270.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4530304B,12084.3,11543.1,272.789)
set u=CreateUnit(p,$4E303243,12101.6,11210.7,270.)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$5530314B,11311.4,11546.3,269.61)
set u=CreateUnit(p,$5530314F,11334.5,11173.4,260.938)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$4E303330,11707.5,10824.7,260.938)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E30304D,-953.9,11828.1,317.59)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303039,-13060.3,11839.7,200.14)
call SetUnitColor(u,ConvertPlayerColor(12))
set gg_unit_n017_0235=CreateUnit(p,$6E303137,2517.4,-8336.8,180.003)
call SetUnitColor(gg_unit_n017_0235,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303039,-10241.,11844.2,144.09)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303039,-13057.6,8767.6,314.328)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303039,-10240.3,8769.2,292.937)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303238,-1497.5,-8925.6,356.799)
call SetUnitColor(u,ConvertPlayerColor(12))
set gg_unit_Nmag_0246=CreateUnit(p,$4E6D6167,6924.1,-6705.8,199.7)
call SetUnitState(gg_unit_Nmag_0246,UNIT_STATE_MANA,160)
set u=CreateUnit(p,$6E303151,2522.3,-9363.,172.723)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303031,-13039.9,11578.,354.915)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303232,-1496.4,-9257.9,22.187)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303031,-10233.1,11573.3,354.915)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303031,-13045.8,8516.6,354.915)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303031,-10236.6,8496.7,354.915)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$48303031,12050.5,11884.3,264.258)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303145,4174.3,-1890.,304.498)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$4F303044,11707.5,11178.5,269.65)
set u=CreateUnit(p,$4F303030,11327.8,11873.9,266.947)
call SetUnitState(u,UNIT_STATE_MANA,0)
set u=CreateUnit(p,$6E303133,-7711.9,14756.,107.61)
call SetUnitColor(u,ConvertPlayerColor(12))
set u=CreateUnit(p,$6E303157,2167.5,7211.6,274.297)
call SetUnitColor(u,ConvertPlayerColor(12))
endfunction
function CreatePlayerBuildings takes nothing returns nothing
endfunction
function CreatePlayerUnits takes nothing returns nothing
call CreateUnitsForPlayer0()
call CreateUnitsForPlayer1()
call CreateUnitsForPlayer2()
call CreateUnitsForPlayer3()
call CreateUnitsForPlayer4()
call CreateUnitsForPlayer5()
endfunction
function CreateAllUnits takes nothing returns nothing
call CreatePlayerBuildings()
call CreateNeutralHostile()
call CreateNeutralPassive()
call CreatePlayerUnits()
endfunction
function CreateRegions takes nothing returns nothing
set gg_rct______________004=Rect(-12160.,10624.,-12032.,10752.)
set gg_rct______________005=Rect(-9344.,10624.,-9216.,10752.)
set gg_rct______________006=Rect(-12160.,7552.,-12032.,7680.)
set gg_rct______________007=Rect(-9344.,7552.,-9216.,7680.)
set gg_rct______________008=Rect(-12800.,11008.,-11520.,12416.)
set gg_rct______________009=Rect(-9984.,11008.,-8704.,12416.)
set gg_rct______________010=Rect(-12800.,7936.,-11520.,9344.)
set gg_rct______________011=Rect(-9984.,7936.,-8704.,9344.)
set gg_rct______________012=Rect(-12224.,11840.,-12096.,11968.)
set gg_rct______________013=Rect(-9408.,11840.,-9280.,11968.)
set gg_rct______________014=Rect(-12224.,8768.,-12096.,8896.)
set gg_rct______________015=Rect(-9408.,8768.,-9280.,8896.)
set gg_rct______________035=Rect(0.,-3584.,768.,-3072.)
set gg_rct______________036=Rect(-1408.,-3584.,-768.,-3072.)
set gg_rct______________037=Rect(1536.,-3584.,2048.,-3072.)
set gg_rct______________039=Rect(256.,-8576.,512.,-8320.)
set gg_rct______________040=Rect(256.,-8320.,512.,-8064.)
set gg_rct______________041=Rect(-5888.,9664.,-5536.,9952.)
set gg_rct______________052=Rect(2464.,-13024.,2752.,-12704.)
set gg_rct______________053=Rect(4448.,4928.,4768.,5184.)
set gg_rct______________054=Rect(4672.,3904.,5088.,4192.)
set gg_rct______________055=Rect(-288.,928.,0.,1248.)
set gg_rct______________056=Rect(2528.,4576.,2816.,4832.)
set gg_rct______________057=Rect(-7776.,14624.,-7520.,14880.)
set gg_rct______________059=Rect(-1600.,10688.,-1312.,10976.)
set gg_rct______________060=Rect(7200.,11936.,7520.,12224.)
set gg_rct______________061=Rect(-11936.,-9504.,-11648.,-9216.)
set gg_rct______________062=Rect(-11680.,-6944.,-11360.,-6656.)
set gg_rct______________063=Rect(-13184.,1696.,-8256.,6400.)
set gg_rct______________064=Rect(8384.,-10048.,8736.,-9696.)
set gg_rct______________065=Rect(8032.,-6752.,8352.,-6464.)
set gg_rct______________066=Rect(8448.,-2528.,8768.,-2240.)
set gg_rct______________067=Rect(9408.,2176.,9696.,2464.)
set gg_rct______________068=Rect(-3424.,4128.,-3136.,4416.)
set gg_rct______________027=Rect(10432.,10304.,12864.,13184.)
set gg_rct______________028=Rect(-1760.,-10208.,2752.,-2720.)
set gg_rct______________000=Rect(2176.,-8448.,2432.,-8192.)
set gg_rct______________001=Rect(3328.,-10624.,4800.,-9344.)
set gg_rct______________002=Rect(5600.,-12864.,7168.,-11328.)
set gg_rct______________003=Rect(-4448.,-7296.,-2784.,-6016.)
set gg_rct______________016=Rect(-8576.,-9856.,-6848.,-8096.)
set gg_rct______________017=Rect(1408.,-11520.,1664.,-11264.)
set gg_rct______________018=Rect(-128.,-13056.,128.,-12800.)
set gg_rct______________019=Rect(-3200.,-9856.,-2944.,-9600.)
set gg_rct______________020=Rect(-5248.,-12672.,-4992.,-12416.)
set gg_rct______________021=Rect(2176.,-6784.,2432.,-6528.)
set gg_rct______________022=Rect(2048.,-7424.,2304.,-7168.)
set gg_rct______________023=Rect(-7680.,-18432.,14336.,18432.)
set gg_rct______________024=Rect(-14336.,13312.,-7680.,18432.)
set gg_rct______________025=Rect(-14336.,-18432.,-7680.,6656.)
set gg_rct______________026=Rect(6656.,-6912.,7104.,-6464.)
set gg_rct______________029=Rect(-14336.,6656.,-7680.,13312.)
set gg_rct______________030=Rect(6240.,-10464.,6432.,-10272.)
set gg_rct______________031=Rect(9344.,11136.,9600.,11392.)
endfunction
function Trig____________________269Conditions takes nothing returns boolean
return IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)==true and GetEventDamage()>=1. and GetPlayerController(GetOwningPlayer(GetEventDamageSource()))==MAP_CONTROL_USER and udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01
endfunction
function Trig____________________269Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage()*udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))],ATTACK_TYPE_CHAOS,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________269 takes nothing returns nothing
set gg_trg____________________269=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________269)
call TriggerAddCondition(gg_trg____________________269,Condition(function Trig____________________269Conditions))
call TriggerAddAction(gg_trg____________________269,function Trig____________________269Actions)
endfunction
function Trig____________________270Conditions takes nothing returns boolean
return GetEventDamage()>=1. and GetPlayerController(GetOwningPlayer(GetEventDamageSource()))==MAP_CONTROL_USER and IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)==true and udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01
endfunction
function Trig____________________270Actions takes nothing returns nothing
if 0!=EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_IS_PHYSICAL)==true then
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]*1.)
else
endif
endfunction
function InitTrig____________________270 takes nothing returns nothing
set gg_trg____________________270=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________270)
call TriggerAddCondition(gg_trg____________________270,Condition(function Trig____________________270Conditions))
call TriggerAddAction(gg_trg____________________270,function Trig____________________270Actions)
endfunction
function Trig____________________079Conditions takes nothing returns boolean
return GetEventDamage()>=1. and GetPlayerController(GetOwningPlayer(GetEventDamageSource()))==MAP_CONTROL_USER and IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)==true and udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01
endfunction
function Trig____________________079Actions takes nothing returns nothing
if ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_ATTACK_TYPE))==true then
call SetUnitLifeBJ(GetEventDamageSource(),GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]*.3)
else
endif
endfunction
function InitTrig____________________079 takes nothing returns nothing
set gg_trg____________________079=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________079)
call TriggerAddCondition(gg_trg____________________079,Condition(function Trig____________________079Conditions))
call TriggerAddAction(gg_trg____________________079,function Trig____________________079Actions)
endfunction
function Trig____________________271Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetEventDamage()>=1. and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER and udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>=.01
endfunction
function Trig____________________271Actions takes nothing returns nothing
if udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<9.5 then
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+GetEventDamage()*udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
call SetUnitLifeBJ(GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+GetEventDamage()*.95)
endif
endfunction
function InitTrig____________________271 takes nothing returns nothing
set gg_trg____________________271=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________271)
call TriggerAddCondition(gg_trg____________________271,Condition(function Trig____________________271Conditions))
call TriggerAddAction(gg_trg____________________271,function Trig____________________271Actions)
endfunction
function Trig____________________037Conditions takes nothing returns boolean
return 0!=EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_IS_PHYSICAL)==true and udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01
endfunction
function Trig____________________037Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage()*udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))],ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)
call DisableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________037 takes nothing returns nothing
set gg_trg____________________037=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________037)
call TriggerAddCondition(gg_trg____________________037,Condition(function Trig____________________037Conditions))
call TriggerAddAction(gg_trg____________________037,function Trig____________________037Actions)
endfunction
function Trig____________________039Conditions takes nothing returns boolean
return ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_ATTACK_TYPE))==true and udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01
endfunction
function Trig____________________039Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage()*udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________039 takes nothing returns nothing
set gg_trg____________________039=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________039)
call TriggerAddCondition(gg_trg____________________039,Condition(function Trig____________________039Conditions))
call TriggerAddAction(gg_trg____________________039,function Trig____________________039Actions)
endfunction
function Trig____________________038Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]<95 then
if GetRandomInt(1,100)<=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))] then
call SetUnitLifeBJ(GetTriggerUnit(),GetEventDamage()+GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
else
endif
else
if GetRandomInt(1,100)<=95 then
call SetUnitLifeBJ(GetTriggerUnit(),GetEventDamage()+GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))
else
endif
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________038 takes nothing returns nothing
set gg_trg____________________038=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________038)
call TriggerAddAction(gg_trg____________________038,function Trig____________________038Actions)
endfunction
function Trig____________________057Conditions takes nothing returns boolean
return ATTACK_TYPE_NORMAL==ConvertAttackType(EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_ATTACK_TYPE))==true and udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=1
endfunction
function Trig____________________057Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
if udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01 then
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage()*udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))],ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage(),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endif
else
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________057 takes nothing returns nothing
set gg_trg____________________057=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________057)
call TriggerAddCondition(gg_trg____________________057,Condition(function Trig____________________057Conditions))
call TriggerAddAction(gg_trg____________________057,function Trig____________________057Actions)
endfunction
function Trig____________________104Conditions takes nothing returns boolean
return 0!=EXGetEventDamageData(YDWEEventDamageData__EVENT_DAMAGE_DATA_IS_PHYSICAL)==true and udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=1
endfunction
function Trig____________________104Actions takes nothing returns nothing
call DisableTrigger(GetTriggeringTrigger())
if GetRandomInt(1,100)<=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))] then
if udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))]>=.01 then
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage()*udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetEventDamageSource()))],ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)
else
call UnitDamageTargetBJ(GetEventDamageSource(),GetTriggerUnit(),GetEventDamage(),ATTACK_TYPE_HERO,DAMAGE_TYPE_ENHANCED)
endif
else
endif
call EnableTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________104 takes nothing returns nothing
set gg_trg____________________104=CreateTrigger()
call YDWESyStemAnyUnitDamagedRegistTrigger(gg_trg____________________104)
call TriggerAddCondition(gg_trg____________________104,Condition(function Trig____________________104Conditions))
call TriggerAddAction(gg_trg____________________104,function Trig____________________104Actions)
endfunction
function Trig____________________098Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________098Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetUnitTypeId(GetTriggerUnit())==$48303056 then
call SelectUnitRemoveForPlayer(GetTriggerUnit(),GetTriggerPlayer())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2E74E131,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2E74E131))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],"origin"))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2E74E131),0)
call SelectUnitForPlayerSingle(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],GetTriggerPlayer())
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2E74E131))
else
endif
if GetUnitTypeId(GetTriggerUnit())==$48303057 then
call SelectUnitRemoveForPlayer(GetTriggerUnit(),GetTriggerPlayer())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+1,GetRectCenter(gg_rct______________012))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+2,GetRectCenter(gg_rct______________013))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+3,GetRectCenter(gg_rct______________014))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+4,GetRectCenter(gg_rct______________015))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+GetConvertedPlayerId(GetTriggerPlayer())))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],"origin"))
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+GetConvertedPlayerId(GetTriggerPlayer())),0)
call SelectUnitForPlayerSingle(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],GetTriggerPlayer())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________098 takes nothing returns nothing
set gg_trg____________________098=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________098,Player(15),true)
call TriggerAddCondition(gg_trg____________________098,Condition(function Trig____________________098Conditions))
call TriggerAddAction(gg_trg____________________098,function Trig____________________098Actions)
endfunction
function Trig_Start_SpellSystemActions takes nothing returns nothing
call SpellSystemAI_AddPlayer(Player(5))
call SpellSystemAI_Start(GoldenEgg_Range,GoldenEgg_Ratio,GoldenEgg_OnlyHero,GoldenEgg_OnlyComputer,GoldenEgg_Lock)
endfunction
function InitTrig_Start_SpellSystem takes nothing returns nothing
set gg_trg_Start_SpellSystem=CreateTrigger()
call TriggerAddAction(gg_trg_Start_SpellSystem,function Trig_Start_SpellSystemActions)
endfunction
function Trig_______________________________166Actions takes nothing returns nothing
set udg_Lv1[1]=$75303030
set udg_Lv1[2]=$75303031
set udg_Lv1[3]=$75303032
set udg_Lv1[4]=$75303033
set udg_Lv1[5]=$75303034
set udg_Lv1[6]=$75303035
set udg_Lv1[7]=$75303036
set udg_Lv1[8]=$75303037
set udg_Lv1[9]=$75303038
set udg_Lv1[10]=$75303039
set udg_Lv1[11]=$75303041
set udg_Lv1[12]=$75303042
set udg_Lv1[13]=$75303043
set udg_Lv1[14]=$75303044
set udg_Lv1[15]=$75303045
set udg_Lv1[16]=$75303046
set udg_Lv1[17]=$75303047
set udg_Lv1[18]=$75303048
set udg_Lv1[19]=$75303049
set udg_Lv1[20]=$7530304A
set udg_Lv1[21]=$7530304B
set udg_Lv1[22]=$7530304C
set udg_Lv1[23]=$7530304D
set udg_Lv1[24]=$7530304E
set udg_Lv1[25]=$7530304F
set udg_Lv1[26]=$75303050
set udg_Lv1[27]=$75303051
set udg_Lv1[28]=$75303052
set udg_Lv1[29]=$75303053
set udg_Lv1[30]=$75303054
set udg_Lv1[31]=$75303138
set udg_Lv1[32]=$75303139
set udg_Lv1[33]=$75303141
set udg_Lv1[34]=$75303142
set udg_Lv1[35]=$75303143
set udg_Lv1[36]=$75303144
set udg_Lv1[37]=$75303145
set udg_Lv1[38]=$75303146
set udg_Lv1[39]=$75303147
set udg_Lv1[40]=$75303148
set udg_Lv2[1]=$5530305A
set udg_Lv2[2]=$55303130
set udg_Lv2[3]=$55303131
set udg_Lv2[4]=$55303132
set udg_Lv2[5]=$55303059
set udg_DWLXbadao[0]=$5530314F
set udg_DWLXbadao[1]=$4E30314D
set udg_DWLXbadao[2]=$4E30314B
set udg_DWLXbadao[3]=$4E303147
set udg_DWLXbadao[4]=$4E303051
set udg_DWLXbadao[5]=$4E303051
set udg_DWLXguishi[0]=$48303031
set udg_DWLXguishi[1]=$48303030
set udg_DWLXguishi[2]=$48303035
set udg_DWLXguishi[3]=$48303037
set udg_DWLXguishi[4]=$48303034
set udg_DWLXguishi[5]=$48303034
set udg_DWLXlinggong[0]=$5530314B
set udg_DWLXlinggong[1]=$5530314C
set udg_DWLXlinggong[2]=$5530314A
set udg_DWLXlinggong[3]=$55303149
set udg_DWLXlinggong[4]=$55303137
set udg_DWLXlinggong[5]=$55303137
set udg_DWLXlizhua[0]=$4E303244
set udg_DWLXlizhua[1]=$4E303155
set udg_DWLXlizhua[2]=$4E303156
set udg_DWLXlizhua[3]=$4E303154
set udg_DWLXlizhua[4]=$4E30314F
set udg_DWLXlizhua[5]=$4E30314F
set udg_DWLXtianqiang[0]=$4530304B
set udg_DWLXtianqiang[1]=$4530304D
set udg_DWLXtianqiang[2]=$4530304C
set udg_DWLXtianqiang[3]=$45303037
set udg_DWLXtianqiang[4]=$45303053
set udg_DWLXtianqiang[5]=$45303053
set udg_DWLXyinjian[0]=$4E303243
set udg_DWLXyinjian[1]=$55303150
set udg_DWLXyinjian[2]=$55303135
set udg_DWLXyinjian[3]=$5530314D
set udg_DWLXyinjian[4]=$5530314E
set udg_DWLXyinjian[5]=$5530314E
set udg_DWLXzhanfa[0]=$48303032
set udg_DWLXzhanfa[1]=$48303041
set udg_DWLXzhanfa[2]=$48303036
set udg_DWLXzhanfa[3]=$48303038
set udg_DWLXzhanfa[4]=$48303039
set udg_DWLXzhanfa[5]=$48303039
set udg_DWLXzhongzhuang[0]=$4F303030
set udg_DWLXzhongzhuang[1]=$4F303041
set udg_DWLXzhongzhuang[2]=$4F303042
set udg_DWLXzhongzhuang[3]=$4F303043
set udg_DWLXzhongzhuang[4]=$4F303031
set udg_DWLXzhongzhuang[5]=$4F303031
set udg_DWLXpojun[0]=$4F303044
set udg_DWLXpojun[1]=$4F30304A
set udg_DWLXpojun[2]=$4F303048
set udg_DWLXpojun[3]=$4F303046
set udg_DWLXpojun[4]=$4F303045
set udg_DWLXpojun[5]=$4F303045
set udg_DWLXtanlang[0]=$4E303146
set udg_DWLXyingci[0]=$4E303235
set udg_DWLXmingcang[0]=$4E303241
set udg_DWLXtianji[0]=$4E303245
set udg_DWLXtianshen[0]=$4E303246
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_______________________________166 takes nothing returns nothing
set gg_trg_______________________________166=CreateTrigger()
call TriggerAddAction(gg_trg_______________________________166,function Trig_______________________________166Actions)
endfunction
function Trig______________________________030Actions takes nothing returns nothing
call SaveInteger(YDHT,$55303136,0,$4930334A)
call SaveInteger(YDHT,$55303151,0,$4930334B)
call SaveInteger(YDHT,$55303152,0,$4930334C)
call SaveInteger(YDHT,$55303153,0,$4930334D)
call SaveInteger(YDHT,$55303154,0,$4930334E)
call SaveInteger(YDHT,$55303155,0,$4930334F)
call SaveInteger(YDHT,$55303156,0,$49303352)
call SaveInteger(YDHT,$55303157,0,$49303353)
call SaveInteger(YDHT,$55303158,0,$49303355)
call SaveInteger(YDHT,$55303159,0,$49303358)
call SaveInteger(YDHT,$5530315A,0,$49303359)
call SaveInteger(YDHT,$55303230,0,$49303430)
call SaveInteger(YDHT,$55303231,0,$49303431)
call SaveInteger(YDHT,$55303232,0,$49303432)
call SaveInteger(YDHT,$55303233,0,$49303433)
call SaveInteger(YDHT,$55303234,0,$49303435)
call SaveInteger(YDHT,$55303235,0,$49303436)
call SaveInteger(YDHT,$55303236,0,$49303437)
call SaveInteger(YDHT,$55303237,0,$49303438)
call SaveInteger(YDHT,$55303238,0,$49303439)
call SaveInteger(YDHT,$55303239,0,$49303444)
call SaveInteger(YDHT,$6E303158,0,$49303757)
call SaveInteger(YDHT,$6E303059,0,$49303157)
call SaveInteger(YDHT,$6E303236,0,$49303847)
call SaveInteger(YDHT,$6E303132,0,$49303846)
call SaveInteger(YDHT,$6E303033,0,$49303845)
call SaveInteger(YDHT,$6E303135,0,$49303844)
call SaveInteger(YDHT,$6E30314E,0,$49303843)
call SaveInteger(YDHT,$6E303239,0,$49303839)
call SaveInteger(YDHT,$6E303141,0,$49303833)
call SaveInteger(YDHT,$6E303142,0,$49303848)
call SaveInteger(YDHT,$6E303136,0,$49303848)
call SaveInteger(YDHT,$4E626263,0,$49303636)
call SaveInteger(YDHT,$4F736864,0,$49303638)
call SaveInteger(YDHT,$4F746368,0,$49303637)
call SaveInteger(YDHT,$4F746872,0,$4930364A)
call SaveInteger(YDHT,$4F677268,0,$49303649)
call SaveInteger(YDHT,$55647468,0,$49303648)
call SaveInteger(YDHT,$55303057,0,$4930364B)
call SaveInteger(YDHT,$4F666172,0,$49303657)
call SaveInteger(YDHT,$55303134,0,$49303336)
call SaveInteger(YDHT,$55303133,0,$49303334)
call SaveInteger(YDHT,$55303055,0,$49303335)
call SaveInteger(YDHT,$55303056,0,$49303447)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig______________________________030 takes nothing returns nothing
set gg_trg______________________________030=CreateTrigger()
call TriggerAddAction(gg_trg______________________________030,function Trig______________________________030Actions)
endfunction
function Trig______________________________068Actions takes nothing returns nothing
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig______________________________068 takes nothing returns nothing
set gg_trg______________________________068=CreateTrigger()
call TriggerAddAction(gg_trg______________________________068,function Trig______________________________068Actions)
endfunction
function Trig_____________________________011Actions takes nothing returns nothing
call SaveLocationHandle(YDHT,$49303250,1,GetDestructableLoc(gg_dest_B002_5209))
call SaveLocationHandle(YDHT,$4930324F,1,GetDestructableLoc(gg_dest_B002_5210))
call SaveLocationHandle(YDHT,$4930324D,1,GetDestructableLoc(gg_dest_B002_5211))
call SaveLocationHandle(YDHT,$4930324C,1,GetDestructableLoc(gg_dest_B002_5212))
call SaveLocationHandle(YDHT,$49303350,1,GetDestructableLoc(gg_dest_B002_5213))
call SaveLocationHandle(YDHT,$49303351,1,GetDestructableLoc(gg_dest_B002_5214))
call SaveLocationHandle(YDHT,$4930324E,1,GetDestructableLoc(gg_dest_B002_5215))
call SaveLocationHandle(YDHT,$49303234,1,GetDestructableLoc(gg_dest_B002_5216))
call SaveLocationHandle(YDHT,$4930324A,1,GetDestructableLoc(gg_dest_B002_5220))
call SaveLocationHandle(YDHT,$49303344,1,GetDestructableLoc(gg_dest_B002_5221))
call SaveLocationHandle(YDHT,$49303345,1,GetDestructableLoc(gg_dest_B002_5222))
call SaveLocationHandle(YDHT,$49303347,1,GetDestructableLoc(gg_dest_B002_5223))
call SaveLocationHandle(YDHT,$49303348,1,GetDestructableLoc(gg_dest_B002_5224))
call SaveLocationHandle(YDHT,$49303349,1,GetDestructableLoc(gg_dest_B002_5225))
call SaveLocationHandle(YDHT,$4930314B,1,GetDestructableLoc(gg_dest_B002_5226))
call SaveLocationHandle(YDHT,$49303738,1,GetDestructableLoc(gg_dest_B002_5227))
call SaveLocationHandle(YDHT,$49303739,1,GetDestructableLoc(gg_dest_B002_0096))
call SaveLocationHandle(YDHT,$49303741,1,GetDestructableLoc(gg_dest_B002_0095))
call SaveLocationHandle(YDHT,$49303742,1,GetDestructableLoc(gg_dest_B002_0094))
call SaveLocationHandle(YDHT,$49303743,1,GetDestructableLoc(gg_dest_B002_0093))
call SaveLocationHandle(YDHT,$49303744,1,GetDestructableLoc(gg_dest_B002_0092))
call SaveLocationHandle(YDHT,$49303745,1,GetDestructableLoc(gg_dest_B002_0091))
call SaveLocationHandle(YDHT,$49303746,1,GetDestructableLoc(gg_dest_B002_0090))
call SaveLocationHandle(YDHT,$49303238,1,GetDestructableLoc(gg_dest_B002_5218))
call SaveLocationHandle(YDHT,$49303239,1,GetDestructableLoc(gg_dest_B002_5219))
call SaveLocationHandle(YDHT,$4930374D,1,GetDestructableLoc(gg_dest_B002_5217))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_____________________________011 takes nothing returns nothing
set gg_trg_____________________________011=CreateTrigger()
call TriggerAddAction(gg_trg_____________________________011,function Trig_____________________________011Actions)
endfunction
function Trig_______________________________026Func030Func004A takes nothing returns nothing
call SetHeroLevelBJ(GetEnumUnit(),1,false)
call NFTSFixUnitBrushCreepsTime(GetEnumUnit(),I2R(GetUnitPointValue(GetEnumUnit()))*udg_FHSJ[13],true)
endfunction
function Trig_______________________________026Func032Func001Conditions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),"恭喜"+GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+("合成了"+YDWEGetPlayerColorString(Player(0),GetItemName(bj_lastCombinedItem))))
call YDWETimerDestroyEffect(5.,AddSpecialEffectTarget("[AKE]IonCannon.mdl",GetTriggerUnit(),"origin"))
endfunction
function Trig_______________________________026Func032Func002Conditions takes nothing returns nothing
if IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==true then
call KillUnit(GetAttacker())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetAttacker())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(GetPlayerName(GetTriggerPlayer())+"不可攻击盟友！！！"))
else
endif
endfunction
function Trig_______________________________026Func033Func001Conditions takes nothing returns nothing
call AdjustPlayerStateBJ(-900000,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(90,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),5.,GetPlayerName(GetTriggerPlayer())+YDWEGetPlayerColorString(Player(6),"的金币已经超过90W,系统已经自动化换成了90木材！"))
endfunction
function Trig_______________________________026Func034Func001Conditions takes nothing returns nothing
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetEnteringUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetEnteringUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D))
endfunction
function Trig_______________________________026Func034Func002Conditions takes nothing returns nothing
if GetOwningPlayer(GetEnteringUnit())==Player(5) then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476,GetRectCenter(gg_rct______________039))
call IssuePointOrderByIdLoc(GetEnteringUnit(),851983,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476))
else
endif
endfunction
function Trig_______________________________026Func034Func003Conditions takes nothing returns nothing
if GetOwningPlayer(GetEnteringUnit())==Player(5) then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetTriggerUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$9CD60476))
else
endif
endfunction
function Trig_______________________________026Func035Func001Conditions takes nothing returns nothing
if GetItemType(GetManipulatedItem())==ITEM_TYPE_ARTIFACT and IsUnitType(GetManipulatingUnit(),UNIT_TYPE_HERO)==true then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetItemLifeBJ(GetManipulatedItem())!=75. and GetManipulatedItem()!=UnitItemInSlotBJ(GetManipulatingUnit(),bj_forLoopAIndex) and GetItemLifeBJ(UnitItemInSlotBJ(GetManipulatingUnit(),bj_forLoopAIndex))==GetItemLifeBJ(GetManipulatedItem()) then
call UnitRemoveItemSwapped(GetManipulatedItem(),GetManipulatingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),"|cffff0000孤鹰提示|r："+GetItemName(GetManipulatedItem())+"|cffffff00每人只能拿一件！|r")
else
call DoNothing()
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DoNothing()
endif
if GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP then
call YDWETimerRemoveItem(.5,GetManipulatedItem())
else
call DoNothing()
endif
endfunction
function Trig_______________________________026Func035Func002Conditions takes nothing returns nothing
if IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER and GetOwningPlayer(GetKillingUnit())==Player(5) then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D,GetRectCenter(gg_rct______________039))
call IssuePointOrderLoc(GetKillingUnit(),"patrol",LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$A1614B4D))
else
endif
endfunction
function Trig_______________________________026Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_CW[GetConvertedPlayerId(Player(0))]=gg_unit_hpea_0184
set udg_CW[GetConvertedPlayerId(Player(1))]=gg_unit_hpea_0186
set udg_CW[GetConvertedPlayerId(Player(2))]=gg_unit_hpea_0236
set udg_CW[GetConvertedPlayerId(Player(3))]=gg_unit_hpea_0237
set udg_DW[GetConvertedPlayerId(Player(4))]=gg_unit_Hpal_0030
set udg_LGQY[GetConvertedPlayerId(Player(0))]=gg_rct______________008
set udg_LGQY[GetConvertedPlayerId(Player(1))]=gg_rct______________009
set udg_LGQY[GetConvertedPlayerId(Player(2))]=gg_rct______________010
set udg_LGQY[GetConvertedPlayerId(Player(3))]=gg_rct______________011
set udg_LG[1]=gg_unit_n00G_0010
set udg_LG[2]=gg_unit_n00G_0153
set udg_LG[3]=gg_unit_n00G_0242
set udg_LG[4]=gg_unit_n00G_0243
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,YDWEGetPlayerColorString(Player(0),"查询说明"),"输入[查询通关积分]，可以查看自己的当前通关积分！\n输入[-TX]，关闭\\开启所有技能特效！\n输入[0],显示游戏排泄情况！\nTAB：显示伤害加成状态！\n泡点模式下，输入[我不想泡了]直接结束泡点模式！！！\n输入[-ZDSC],开启或者关闭自动删除物品！！！\n输入[-SCWP]，删除全图物品（不包括练功房物品）！！！","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_REQ_DISCOVERED,YDWEGetPlayerColorString(Player(4),"游戏背景"),"帝尊，乃是整个位面的统治者，自初代帝尊陨落之后，无数的生灵为了追求帝尊的遗留下来的力量，纷纷对初代帝尊传人发动了战争！","ReplaceableTextures\\CommandButtons\\BTNIceShard.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"","\n","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call CreateQuestBJ(bj_QUESTTYPE_OPT_DISCOVERED,"积分奖励","战功值奖励：\n\n通关N1战功值+1点\n通关N2战功值+2点\n通关N3战功值+3点\n......\n\n通关积分奖励：\n\n通关N1积分+2点\n通关N2积分+4点\n通关N3积分+6点\n......","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")
call FogEnable(false)
call FogMaskEnableOff()
call SetTimeOfDay(17.)
call SetMapFlag(MAP_USE_HANDICAPS,true)
call SetMapFlag(MAP_OBSERVERS,true)
call SetCampaignMenuRaceBJ(bj_CAMPAIGN_INDEX_H)
call SetMapFlag(MAP_OBSERVERS_ON_DEATH,true)
call SetPlayerState(Player(PLAYER_NEUTRAL_AGGRESSIVE),PLAYER_STATE_GIVES_BOUNTY,1)
call SetTimeOfDayScale(0)
call SetPlayerState(Player(5),PLAYER_STATE_GIVES_BOUNTY,1)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_SHzf[bj_forLoopAIndex]=1.
set udg_YXFH[bj_forLoopAIndex]=5
set udg_LGSL[bj_forLoopAIndex]=10
call SetPlayerStateBJ(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER,0)
call SetPlayerStateBJ(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_GOLD,6000)
call YDWESetPlayerColorBJNull(ConvertedPlayer(bj_forLoopAIndex),GetPlayerColor(ConvertedPlayer(bj_forLoopAIndex)),true)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set udg_FHSJ[GetConvertedPlayerId(Player(PLAYER_NEUTRAL_AGGRESSIVE))]=1.
call NFTSStartBrushCreeps(bj_mapInitialPlayableArea,Player(PLAYER_NEUTRAL_AGGRESSIVE),30,"Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",false,"000")
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectOfPlayerNull(GetPlayableMapRect(),Player(PLAYER_NEUTRAL_AGGRESSIVE)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig_______________________________026Func030Func004A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call HC_AutoMergeItem(ITEM_TYPE_CHARGED)
call HC_AutoMergeItem(ITEM_TYPE_PURCHASABLE)
set ydl_trigger=CreateTrigger()
call YDWESyStemItemCombineRegistTrigger(ydl_trigger)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func032Func001Conditions))
set ydl_trigger=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func032Func002Conditions))
set ydl_trigger=CreateTrigger()
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(0),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(1),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(2),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(3),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(4),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(5),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(6),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(7),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(8),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(9),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(10),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(11),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(12),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(13),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(14),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerRegisterPlayerStateEvent(ydl_trigger,Player(15),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,900000.)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func033Func001Conditions))
set ydl_trigger=CreateTrigger()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_trigger),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call YDWETriggerRegisterEnterRectSimpleNull(ydl_trigger,gg_rct______________027)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func034Func001Conditions))
set ydl_trigger=CreateTrigger()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_trigger),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETriggerRegisterEnterRectSimpleNull(ydl_trigger,gg_rct______________028)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func034Func002Conditions))
set ydl_trigger=CreateTrigger()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_trigger),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETriggerRegisterLeaveRectSimpleNull(ydl_trigger,gg_rct______________028)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func034Func003Conditions))
set ydl_trigger=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func035Func001Conditions))
set ydl_trigger=CreateTrigger()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_trigger),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call TriggerRegisterAnyUnitEventBJ(ydl_trigger,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________026Func035Func002Conditions))
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
set ydl_trigger=null
endfunction
function InitTrig_______________________________026 takes nothing returns nothing
set gg_trg_______________________________026=CreateTrigger()
call TriggerAddAction(gg_trg_______________________________026,function Trig_______________________________026Actions)
endfunction
function Trig_______________________________085Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig_______________________________085Actions takes nothing returns nothing
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),GetUnitTypeId(GetDyingUnit()),LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),GetUnitTypeId(GetDyingUnit()))+1)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+udg_SDhj[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call AdjustPlayerStateBJ(udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],GetOwningPlayer(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(udg_SDjb[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],GetOwningPlayer(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),PLAYER_STATE_RESOURCE_GOLD)
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+(1+udg_SDSZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),3),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]))
if GetUnitPointValue(GetDyingUnit())!=0 then
call YDWETimerDestroyEffect(1.,AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",GetDyingUnit(),"origin"))
call YDWEJumpTimer(GetDyingUnit(),XG_AngelBetweenUnit(GetKillingUnit(),GetDyingUnit()),GetRandomReal(200.,480.),.5,.01,GetRandomReal(220.,300.))
else
endif
set udg_JXSD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_JXSD[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
if GetPlayerController(GetOwningPlayer(GetDyingUnit()))!=MAP_CONTROL_USER then
call YDWETimerRemoveUnit(.5,GetDyingUnit())
endif
endfunction
function InitTrig_______________________________085 takes nothing returns nothing
set gg_trg_______________________________085=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_______________________________085,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_______________________________085,Condition(function Trig_______________________________085Conditions))
call TriggerAddAction(gg_trg_______________________________085,function Trig_______________________________085Actions)
endfunction
function Trig_______________________________009Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]==null and RectContainsUnit(gg_rct______________027,GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())!=$4E30315A and GetUnitTypeId(GetTriggerUnit())!=$4E303231 and GetUnitTypeId(GetTriggerUnit())!=$4E303230
endfunction
function Trig_______________________________009Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
local boolean wantRemove=true
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if DzAPI_Map_GetMapLevel(GetTriggerPlayer())>=GetUnitPointValue(GetTriggerUnit()) then
if LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A)==1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXbadao[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXbadao[udg_YXbadao[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXguishi[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXguishi[udg_YXguishi[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXlinggong[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXlinggong[udg_YXlinggong[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXlizhua[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXlizhua[udg_YXlizhua[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXtianqiang[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXtianqiang[udg_YXtianqiang[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXyinjian[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXyinjian[udg_YXyinjian[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXzhanfa[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXzhanfa[udg_YXzhanfa[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXzhongzhuang[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXzhongzhuang[udg_YXzhongzhuang[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXpojun[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXpojun[udg_YXpojun[GetConvertedPlayerId(GetTriggerPlayer())]],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXtanlang[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXtanlang[0],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXyingci[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXyingci[0],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXmingcang[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXmingcang[0],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXtianji[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXtianji[0],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==udg_DWLXtianshen[0] then
call h__CreateNUnitsAtLoc(1,udg_DWLXtianshen[0],GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
else
call DoNothing()
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303330 then
if DzAPI_Map_HasMallItem(GetTriggerPlayer(),"20043734")==true then
call h__CreateNUnitsAtLoc(1,$4E303330,GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
set wantRemove=false
else
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff4800该英雄需要参加活动抽奖获得！|r")
endif
else
call DoNothing()
endif
if wantRemove==true then
call RemoveUnit(GetTriggerUnit())
endif
set udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]=bj_lastCreatedUnit
call XG_SpeedLimit_Set(bj_lastCreatedUnit,700.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(bj_lastCreatedUnit,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call UnitAddItemByIdSwapped($49303943,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetTriggerPlayer())
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2),0)
if GetUnitTypeId(bj_lastCreatedUnit)==$5530314B then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.1
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.3
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$5530314C then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.15
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.45
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$5530314A then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.6
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$55303149 then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.25
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.75
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$55303137 then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.3
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.9
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303244 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.25
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303155 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.5
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303156 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.75
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303154 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+1.
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E30314F then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+1.25
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303243 then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$55303150 then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.3
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$55303135 then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.4
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$5530314D then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.5
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$5530314E then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.6
else
call DoNothing()
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$48303031 then
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.1
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$48303030 then
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.15
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$48303035 then
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.2
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$48303037 then
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.25
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$48303034 then
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.3
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303146 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.3
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+.3
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.3
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.3
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303235 then
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+1.
set udg_WLBJSH[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLBJSH[GetConvertedPlayerId(GetTriggerPlayer())]+.8
set udg_WLBJJL[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLBJJL[GetConvertedPlayerId(GetTriggerPlayer())]+15
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303241 then
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.1
set udg_FSBJJL[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSBJJL[GetConvertedPlayerId(GetTriggerPlayer())]+10
set udg_FSBJSH[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSBJSH[GetConvertedPlayerId(GetTriggerPlayer())]+1.5
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+1.5
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303245 then
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+.88
set udg_WLBJJL[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLBJJL[GetConvertedPlayerId(GetTriggerPlayer())]+20
set udg_WLBJSH[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLBJSH[GetConvertedPlayerId(GetTriggerPlayer())]+2.
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+2.
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303246 then
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+1.28
set udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSSHZF[GetConvertedPlayerId(GetTriggerPlayer())]+2.88
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
else
endif
if GetUnitTypeId(bj_lastCreatedUnit)==$4E303330 then
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.25
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.25
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+1.68
endif
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,GetPlayerName(GetTriggerPlayer())+"选择了"+YDWEGetPlayerColorString(GetTriggerPlayer(),GetUnitName(GetTriggerUnit())))
call SetUnitLifePercentBJ(bj_lastCreatedUnit,100)
call SetUnitManaPercentBJ(bj_lastCreatedUnit,100)
call SetUnitUserData(bj_lastCreatedUnit,0)
set udg_WJS=udg_WJS+1
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+1,GetRectCenter(gg_rct______________004))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+2,GetRectCenter(gg_rct______________005))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+3,GetRectCenter(gg_rct______________006))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+4,GetRectCenter(gg_rct______________007))
call CreateUnitAtLoc(GetTriggerPlayer(),$48303056,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
call CreateUnitAtLoc(GetTriggerPlayer(),$48303057,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,YDWEGetPlayerColorString(Player(0),"确定选择")+GetUnitName(GetTriggerUnit())+YDWEGetPlayerColorString(Player(0),"吗！！！"))
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,10)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,1)
if GetUnitTypeId(GetTriggerUnit())==$4E303330 then
if DzAPI_Map_HasMallItem(GetTriggerPlayer(),"20043734")!=true then
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,0)
call DisplayTextToPlayer(GetTriggerPlayer(),0,0,"|cffff4800该英雄需要参加活动抽奖获得！|r")
else
endif
endif
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,YDWEGetPlayerColorString(Player(0),"该英雄需要地图等级达到")+I2S(GetUnitPointValue(GetTriggerUnit()))+"级！")
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_______________________________009 takes nothing returns nothing
set gg_trg_______________________________009=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg_______________________________009,Player(15),true)
call TriggerAddCondition(gg_trg_______________________________009,Condition(function Trig_______________________________009Conditions))
call TriggerAddAction(gg_trg_______________________________009,function Trig_______________________________009Actions)
endfunction
function Trig____________________205Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]==null and RectContainsUnit(gg_rct______________027,GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==$4E30315A
endfunction
function Trig____________________205Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if DzAPI_Map_GetMapLevel(GetTriggerPlayer())>=GetUnitPointValue(GetTriggerUnit()) and xgdg_vzA[GetConvertedPlayerId(GetTriggerPlayer())]==true then
if LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A)==1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
call h__CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call RemoveUnit(GetTriggerUnit())
set udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]=bj_lastCreatedUnit
call XG_SpeedLimit_Set(bj_lastCreatedUnit,700.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(bj_lastCreatedUnit,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call UnitAddItemByIdSwapped($49303943,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetTriggerPlayer())
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2),0)
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+.5
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,GetPlayerName(GetTriggerPlayer())+"选择了"+YDWEGetPlayerColorString(GetTriggerPlayer(),GetUnitName(GetTriggerUnit())))
call SetUnitLifePercentBJ(bj_lastCreatedUnit,100)
call SetUnitManaPercentBJ(bj_lastCreatedUnit,100)
call SetUnitUserData(bj_lastCreatedUnit,0)
set udg_WJS=udg_WJS+1
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+1,GetRectCenter(gg_rct______________004))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+2,GetRectCenter(gg_rct______________005))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+3,GetRectCenter(gg_rct______________006))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+4,GetRectCenter(gg_rct______________007))
call CreateUnitAtLoc(GetTriggerPlayer(),$48303056,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
call CreateUnitAtLoc(GetTriggerPlayer(),$48303057,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,YDWEGetPlayerColorString(Player(0),"确定选择")+GetUnitName(GetTriggerUnit())+YDWEGetPlayerColorString(Player(0),"吗！！！"))
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,10)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,1)
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,"需要用1500个紫极碎片兑换，或者地图等级不足！！！")
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________205 takes nothing returns nothing
set gg_trg____________________205=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205,Player(15),true)
call TriggerAddCondition(gg_trg____________________205,Condition(function Trig____________________205Conditions))
call TriggerAddAction(gg_trg____________________205,function Trig____________________205Actions)
endfunction
function Trig____________________205_______uConditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]==null and RectContainsUnit(gg_rct______________027,GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==$4E303231
endfunction
function Trig____________________205_______uActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if DzAPI_Map_HasMallItem(GetTriggerPlayer(),"20043721")==true then
if LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A)==1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
call h__CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
set udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]=bj_lastCreatedUnit
call XG_SpeedLimit_Set(bj_lastCreatedUnit,700.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(bj_lastCreatedUnit,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call UnitAddItemByIdSwapped($49303943,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetTriggerPlayer())
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2),0)
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+1.88
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.5
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.5
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,GetPlayerName(GetTriggerPlayer())+"选择了"+YDWEGetPlayerColorString(GetTriggerPlayer(),GetUnitName(GetTriggerUnit())))
call SetUnitLifePercentBJ(bj_lastCreatedUnit,100)
call SetUnitManaPercentBJ(bj_lastCreatedUnit,100)
call SetUnitUserData(bj_lastCreatedUnit,0)
set udg_WJS=udg_WJS+1
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+1,GetRectCenter(gg_rct______________004))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+2,GetRectCenter(gg_rct______________005))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+3,GetRectCenter(gg_rct______________006))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+4,GetRectCenter(gg_rct______________007))
call CreateUnitAtLoc(GetTriggerPlayer(),$48303056,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
call CreateUnitAtLoc(GetTriggerPlayer(),$48303057,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,YDWEGetPlayerColorString(Player(0),"确定选择")+GetUnitName(GetTriggerUnit())+YDWEGetPlayerColorString(Player(0),"吗！！！"))
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,10)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,1)
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,"需要去商城购买，获取资格！！！")
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________205_______u takes nothing returns nothing
set gg_trg____________________205_______u=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________205_______u,Player(15),true)
call TriggerAddCondition(gg_trg____________________205_______u,Condition(function Trig____________________205_______uConditions))
call TriggerAddAction(gg_trg____________________205_______u,function Trig____________________205_______uActions)
endfunction
function Trig____________________214Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetTriggerUnit())==Player(PLAYER_NEUTRAL_PASSIVE) and udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]==null and RectContainsUnit(gg_rct______________027,GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())==$4E303230
endfunction
function Trig____________________214Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if DzAPI_Map_HasMallItem(GetTriggerPlayer(),"20043722")==true then
if LoadInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A)==1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
call h__CreateNUnitsAtLoc(1,GetUnitTypeId(GetTriggerUnit()),GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
set udg_DW[GetConvertedPlayerId(GetTriggerPlayer())]=bj_lastCreatedUnit
call XG_SpeedLimit_Set(bj_lastCreatedUnit,700.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(bj_lastCreatedUnit,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call UnitAddItemByIdSwapped($49303943,bj_lastCreatedUnit)
call SelectUnitForPlayerSingle(bj_lastCreatedUnit,GetTriggerPlayer())
call PanCameraToTimedLocForPlayer(GetTriggerPlayer(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2),0)
set udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_WLXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.2
set udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SHzf[GetConvertedPlayerId(GetTriggerPlayer())]+1.28
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call QuestMessageBJ(GetPlayersAll(),bj_QUESTMESSAGE_UPDATED,GetPlayerName(GetTriggerPlayer())+"选择了"+YDWEGetPlayerColorString(GetTriggerPlayer(),GetUnitName(GetTriggerUnit())))
call SetUnitLifePercentBJ(bj_lastCreatedUnit,100)
call SetUnitManaPercentBJ(bj_lastCreatedUnit,100)
call SetUnitUserData(bj_lastCreatedUnit,0)
set udg_WJS=udg_WJS+1
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+1,GetRectCenter(gg_rct______________004))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+2,GetRectCenter(gg_rct______________005))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+3,GetRectCenter(gg_rct______________006))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+4,GetRectCenter(gg_rct______________007))
call CreateUnitAtLoc(GetTriggerPlayer(),$48303056,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
call CreateUnitAtLoc(GetTriggerPlayer(),$48303057,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+GetConvertedPlayerId(GetTriggerPlayer())),0)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,YDWEGetPlayerColorString(Player(0),"确定选择")+GetUnitName(GetTriggerUnit())+YDWEGetPlayerColorString(Player(0),"吗！！！"))
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,10)
call YDWEPolledWaitNull(.2)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveInteger(YDHT,GetHandleId(GetTriggerUnit()),$4D79A31A,1)
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),2.,"需要去商城购买，获取资格！！！")
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________214 takes nothing returns nothing
set gg_trg____________________214=CreateTrigger()
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(0),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(1),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(2),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(3),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(4),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(5),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(6),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(7),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(8),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(9),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(10),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(11),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(12),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(13),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(14),true)
call TriggerRegisterPlayerSelectionEventBJ(gg_trg____________________214,Player(15),true)
call TriggerAddCondition(gg_trg____________________214,Condition(function Trig____________________214Conditions))
call TriggerAddAction(gg_trg____________________214,function Trig____________________214Actions)
endfunction
function Trig______________________________009Conditions takes nothing returns boolean
return GetUnitPointValue(GetEnteringUnit())>=3 and IsUnitIllusionBJ(GetEnteringUnit())==false and IsUnitType(GetEnteringUnit(),UNIT_TYPE_SUMMONED)==false and GetOwningPlayer(GetEnteringUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function Trig______________________________009Actions takes nothing returns nothing
if IsUnitType(GetEnteringUnit(),UNIT_TYPE_HERO)==true then
call SetHeroLevelBJ(GetEnteringUnit(),1,false)
else
call DoNothing()
endif
call PingMinimap(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1)
endfunction
function InitTrig______________________________009 takes nothing returns nothing
set gg_trg______________________________009=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg______________________________009,GetPlayableMapRect())
call TriggerAddCondition(gg_trg______________________________009,Condition(function Trig______________________________009Conditions))
call TriggerAddAction(gg_trg______________________________009,function Trig______________________________009Actions)
endfunction
function Trig______________________________013Conditions takes nothing returns boolean
return GetUnitPointValue(GetDyingUnit())!=0 and IsUnitIllusionBJ(GetDyingUnit())==false and IsUnitType(GetDyingUnit(),UNIT_TYPE_SUMMONED)==false
endfunction
function Trig______________________________013Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if LoadInteger(YDHT,GetUnitTypeId(GetDyingUnit()),0)!=GetItemTypeId(null) and GetRandomPercentageBJ()<=I2R(GetUnitFoodMade(GetDyingUnit()))+I2R(udg_BL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]) then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF,GetUnitLoc(GetDyingUnit()))
call CreateItemLoc(LoadInteger(YDHT,GetUnitTypeId(GetDyingUnit()),0),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
else
call DoNothing()
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig______________________________013 takes nothing returns nothing
set gg_trg______________________________013=CreateTrigger()
call TriggerRegisterPlayerUnitEventSimple(gg_trg______________________________013,Player(PLAYER_NEUTRAL_AGGRESSIVE),EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg______________________________013,Condition(function Trig______________________________013Conditions))
call TriggerAddAction(gg_trg______________________________013,function Trig______________________________013Actions)
endfunction
function Trig______________________________056Conditions takes nothing returns boolean
return IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER
endfunction
function Trig______________________________056Func003Func003T takes nothing returns nothing
if udg_FHSJ[1]!=0. then
set udg_FHSJ[1]=udg_FHSJ[1]-1.
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,1,5),I2S(R2I(udg_FHSJ[1])))
else
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D,GetRectCenter(gg_rct______________040))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_DW[1]),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),0)
call ReviveHeroLoc(udg_DW[1],LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),true)
call SelectUnitForPlayerSingle(udg_DW[1],Player(0))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,1,5),I2S(udg_YXFH[1]))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig______________________________056Func004Func003T takes nothing returns nothing
if udg_FHSJ[2]!=0. then
set udg_FHSJ[2]=udg_FHSJ[2]-1.
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,2,5),I2S(R2I(udg_FHSJ[2])))
else
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D,GetRectCenter(gg_rct______________040))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_DW[2]),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),0)
call ReviveHeroLoc(udg_DW[2],LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),true)
call SelectUnitForPlayerSingle(udg_DW[2],Player(1))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,2,5),I2S(udg_YXFH[2]))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig______________________________056Func005Func003T takes nothing returns nothing
if udg_FHSJ[3]!=0. then
set udg_FHSJ[3]=udg_FHSJ[3]-1.
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,3,5),I2S(R2I(udg_FHSJ[3])))
else
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D,GetRectCenter(gg_rct______________040))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_DW[3]),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),0)
call ReviveHeroLoc(udg_DW[3],LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),true)
call SelectUnitForPlayerSingle(udg_DW[3],Player(2))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,3,5),I2S(udg_YXFH[3]))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig______________________________056Func006Func003T takes nothing returns nothing
if udg_FHSJ[4]!=0. then
set udg_FHSJ[4]=udg_FHSJ[4]-1.
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,4,5),I2S(R2I(udg_FHSJ[4])))
else
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D,GetRectCenter(gg_rct______________040))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(udg_DW[4]),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),0)
call ReviveHeroLoc(udg_DW[4],LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),true)
call SelectUnitForPlayerSingle(udg_DW[4],Player(3))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,4,5),I2S(udg_YXFH[4]))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig______________________________056Actions takes nothing returns nothing
local timer ydl_timer
set udg_FHSJ[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=I2R(udg_YXFH[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),$43A38278,LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetDyingUnit())),$43A38278)+1)
if GetDyingUnit()==udg_DW[1] and GetOwningPlayer(GetDyingUnit())==Player(0) then
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$A1614B4D))
call TimerStart(ydl_timer,1.,true,function Trig______________________________056Func003Func003T)
else
endif
if GetDyingUnit()==udg_DW[2] and GetOwningPlayer(GetDyingUnit())==Player(1) then
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$A1614B4D))
call TimerStart(ydl_timer,1.,true,function Trig______________________________056Func004Func003T)
else
endif
if GetDyingUnit()==udg_DW[3] and GetOwningPlayer(GetDyingUnit())==Player(2) then
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$A1614B4D))
call TimerStart(ydl_timer,1.,true,function Trig______________________________056Func005Func003T)
else
endif
if GetDyingUnit()==udg_DW[4] and GetOwningPlayer(GetDyingUnit())==Player(3) then
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$A1614B4D))
call TimerStart(ydl_timer,1.,true,function Trig______________________________056Func006Func003T)
else
endif
set ydl_timer=null
endfunction
function InitTrig______________________________056 takes nothing returns nothing
set gg_trg______________________________056=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg______________________________056,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg______________________________056,Condition(function Trig______________________________056Conditions))
call TriggerAddAction(gg_trg______________________________056,function Trig______________________________056Actions)
endfunction
function Trig_____________________________006Actions takes nothing returns nothing
call DialogClear(xgdg_zAA)
call DialogSetMessage(xgdg_zAA,"请选择难度")
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(0),"简单[N1]"))
set udg_anniu[1]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(1),"普通[N2]"))
set udg_anniu[2]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"困难[N3]"))
set udg_anniu[3]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(3),"暴走级[N4]"))
set udg_anniu[4]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(4),"疯狂级[N5]"))
set udg_anniu[5]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(5),"闪电偷袭[N6]"))
set udg_anniu[6]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(6),"黑暗虫洞[N7]"))
set udg_anniu[7]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(7),"众神回归[N8]"))
set udg_anniu[8]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(8),"创世之战[N9]"))
set udg_anniu[9]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(9),"毁灭源头[N10]"))
set udg_anniu[10]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,"泡点模式[N0]")
set udg_anniu[0]=bj_lastCreatedButton
call DialogDisplayBJ(true,xgdg_zAA,Player(0))
endfunction
function InitTrig_____________________________006 takes nothing returns nothing
set gg_trg_____________________________006=CreateTrigger()
call TriggerAddAction(gg_trg_____________________________006,function Trig_____________________________006Actions)
endfunction
function Trig____________________193Actions takes nothing returns nothing
call DialogClear(xgdg_zAA)
call DialogSetMessage(xgdg_zAA,"请选择难度")
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(0),"上一页"))
set udg_anniu[99]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(1),"极限杀敌[N11]"))
set udg_anniu[11]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"站无止境[N12]"))
set udg_anniu[12]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"无尽模式[N13]"))
set udg_anniu[13]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"创世模式[N14]"))
set udg_anniu[14]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"毁灭模式[N15]"))
set udg_anniu[15]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"逆天模式[N20]"))
set udg_anniu[20]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"趴地模式[N25]"))
set udg_anniu[25]=bj_lastCreatedButton
call DialogAddButtonBJ(xgdg_zAA,YDWEGetPlayerColorString(Player(2),"翻云覆雨模式[N30]"))
set udg_anniu[30]=bj_lastCreatedButton
call DialogDisplayBJ(true,xgdg_zAA,Player(0))
endfunction
function InitTrig____________________193 takes nothing returns nothing
set gg_trg____________________193=CreateTrigger()
call TriggerAddAction(gg_trg____________________193,function Trig____________________193Actions)
endfunction
function Trig________________________________008Actions takes nothing returns nothing
if GetClickedButtonBJ()!=udg_anniu[0] then
if GetClickedButtonBJ()==udg_anniu[1] then
set udg_NDXS=1
call SetPlayerTechResearchedSwap($52303030,7,Player(5))
call SetPlayerTechResearchedSwap($52303030,7,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[2] then
set udg_NDXS=2
call SetPlayerTechResearchedSwap($52303030,10,Player(5))
call SetPlayerTechResearchedSwap($52303030,10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[3] then
set udg_NDXS=3
call SetPlayerTechResearchedSwap($52303030,13,Player(5))
call SetPlayerTechResearchedSwap($52303030,13,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[4] then
set udg_NDXS=4
call SetPlayerTechResearchedSwap($52303030,20,Player(5))
call SetPlayerTechResearchedSwap($52303030,20,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[5] then
set udg_NDXS=5
call SetPlayerTechResearchedSwap($52303030,40,Player(5))
call SetPlayerTechResearchedSwap($52303030,40,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[6] then
set udg_NDXS=6
call SetPlayerTechResearchedSwap($52303030,70,Player(5))
call SetPlayerTechResearchedSwap($52303030,70,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[7] then
call SetPlayerTechResearchedSwap($52303030,100,Player(5))
call SetPlayerTechResearchedSwap($52303030,100,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=7
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[8] then
call SetPlayerTechResearchedSwap($52303354,2,Player(5))
call SetPlayerTechResearchedSwap($52303354,2,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=8
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[9] then
call SetPlayerTechResearchedSwap($52303354,4,Player(5))
call SetPlayerTechResearchedSwap($52303354,4,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=9
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[10] then
call SetPlayerTechResearchedSwap($52303354,8,Player(5))
call SetPlayerTechResearchedSwap($52303354,8,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=10
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[88] then
call TriggerExecute(gg_trg____________________193)
else
if GetClickedButtonBJ()==udg_anniu[99] then
call TriggerExecute(gg_trg_____________________________006)
else
if GetClickedButtonBJ()==udg_anniu[11] then
call SetPlayerTechResearchedSwap($52303354,15,Player(5))
call SetPlayerTechResearchedSwap($52303354,15,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=11
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[12] then
call SetPlayerTechResearchedSwap($52303354,30,Player(5))
call SetPlayerTechResearchedSwap($52303354,30,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=12
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[13] then
call SetPlayerTechResearchedSwap($52303354,10,Player(PLAYER_NEUTRAL_AGGRESSIVE))
call RemoveUnit(gg_unit_n00D_0152)
set udg_NDXS=13
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+"现在的模式为无尽模式，每通过一波，奖励一点无尽积分！！！"+"")
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[14] then
call SetPlayerTechResearchedSwap($52303354,40,Player(5))
call SetPlayerTechResearchedSwap($52303354,40,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=14
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[15] then
call SetPlayerTechResearchedSwap($52303354,50,Player(5))
call SetPlayerTechResearchedSwap($52303354,50,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=15
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[20] then
call SetPlayerTechResearchedSwap($52303354,50,Player(5))
call SetPlayerTechResearchedSwap($52303354,50,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=20
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[25] then
call SetPlayerTechResearchedSwap($52303354,75,Player(5))
call SetPlayerTechResearchedSwap($52303354,75,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=25
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
if GetClickedButtonBJ()==udg_anniu[30] then
call SetPlayerTechResearchedSwap($52303354,100,Player(5))
call SetPlayerTechResearchedSwap($52303354,100,Player(PLAYER_NEUTRAL_AGGRESSIVE))
set udg_NDXS=30
call DisplayTextToForce(GetPlayersAll(),"|cffff0000系统提示|r："+YDWEGetPlayerColorString(Player(7),"现在敌方势力的，护甲，攻击力，生命恢复，生命上限")+("提高了"+YDWEGetPlayerColorString(Player(0),I2S(udg_NDXS*100)+"%")))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
call TriggerExecute(gg_trg_______________________________012)
call DisableTrigger(GetTriggeringTrigger())
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
if GetClickedButtonBJ()!=udg_anniu[13] and GetClickedButtonBJ()!=udg_anniu[88] and GetClickedButtonBJ()!=udg_anniu[99] then
call SetUnitAbilityLevel(gg_unit_n00D_0152,$41303256,udg_NDXS)
call SetUnitAbilityLevel(gg_unit_n00D_0152,$41303257,udg_NDXS)
else
endif
else
set udg_NDXS=0
call DisableTrigger(GetTriggeringTrigger())
call DestroyTrigger(gg_trg_______________________________015)
call TriggerExecute(gg_trg_______________________________012)
call TriggerExecute(gg_trg_______________________________181)
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"现在为泡点模式，您有3个小时的时间的去探索整张地图！！！")
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"需要正常通关了泡点模式，才可以存档彩蛋积分！！！")
endif
endfunction
function InitTrig________________________________008 takes nothing returns nothing
set gg_trg________________________________008=CreateTrigger()
call TriggerRegisterDialogEvent(gg_trg________________________________008,xgdg_zAA)
call TriggerAddAction(gg_trg________________________________008,function Trig________________________________008Actions)
endfunction
function Trig____________________122Func003Func001Func003T takes nothing returns nothing
call SetUnitInvulnerable(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),false)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________122Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetOwningPlayer(GetAttacker())==Player(PLAYER_NEUTRAL_AGGRESSIVE) or GetOwningPlayer(GetAttacker())==Player(5) then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
if udg_NDXS==20 and GetOwningPlayer(GetAttacker())==Player(5) then
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==false then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.01,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.01,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endif
else
endif
if udg_NDXS==20 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetTriggerUnit())==Player(5) then
if GetRandomPercentageBJ()<=3. then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitInvulnerable(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,1.,false,function Trig____________________122Func003Func001Func003T)
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________122 takes nothing returns nothing
set gg_trg____________________122=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________122,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg____________________122,function Trig____________________122Actions)
endfunction
function Trig_______________________________015Func006Func006T takes nothing returns nothing
call CameraClearNoiseForPlayer(GetLocalPlayer())
call DisplayCineFilter(false)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_______________________________015Func008003002 takes nothing returns boolean
return IsUnitOwnedByPlayer(GetFilterUnit(),Player(5))==true
endfunction
function Trig_______________________________015Func009A takes nothing returns nothing
call IssuePointOrderLoc(GetEnumUnit(),"attack",LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$A1614B4D))
endfunction
function Trig_______________________________015Actions takes nothing returns nothing
local timer ydl_timer
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_BS=udg_BS+1
call StartTimerBJ(udg_JSQ,false,udg_SJ)
call CreateTimerDialogBJ(udg_JSQ,"第"+I2S(udg_BS)+"波怪进攻倒计时！")
set udg_JSQCK[1]=bj_lastCreatedTimerDialog
call TimerDialogDisplay(udg_JSQCK[1],true)
if udg_BS!=1 then
call DisplayTimedTextToForce(GetPlayersAll(),10.,"第"+YDWEGetPlayerColorString(Player(0),I2S(udg_BS-1))+"波敌方大军，开始进攻！！！")
call DisplayTimedTextToForce(GetPlayersAll(),10.,"第"+YDWEGetPlayerColorString(Player(0),I2S(udg_BS-1))+"波敌方大军，开始进攻！！！")
call DisplayTimedTextToForce(GetPlayersAll(),10.,"第"+YDWEGetPlayerColorString(Player(0),I2S(udg_BS-1))+"波敌方大军，开始进攻！！！")
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CameraSetEQNoiseForPlayer(ConvertedPlayer(bj_forLoopAIndex),3)
call CinematicFilterGenericBJ(3.,BLEND_MODE_BLEND,"ReplaceableTextures\\CameraMasks\\DreamFilter_Mask.blp",100,0.,0.,100,0,0,0,0)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,3.,false,function Trig_______________________________015Func006Func006T)
else
endif
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetRectCenter(gg_rct______________039))
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig_______________________________015Func008003002)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig_______________________________015Func009A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig_______________________________015 takes nothing returns nothing
set gg_trg_______________________________015=CreateTrigger()
call TriggerAddAction(gg_trg_______________________________015,function Trig_______________________________015Actions)
endfunction
function Trig______________________________100Func008Func001003002 takes nothing returns boolean
return IsUnitOwnedByPlayer(GetFilterUnit(),Player(PLAYER_NEUTRAL_AGGRESSIVE))==true
endfunction
function Trig______________________________100Func008Func002A takes nothing returns nothing
if GetUnitTypeId(GetEnumUnit())==$6E303035 or GetUnitTypeId(GetEnumUnit())==$6E303036 or GetUnitTypeId(GetEnumUnit())==$6E303038 or GetUnitTypeId(GetEnumUnit())==$6E30314C or GetUnitTypeId(GetEnumUnit())==$6E303057 then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig______________________________100Func009Func001003002 takes nothing returns boolean
return IsUnitOwnedByPlayer(GetFilterUnit(),Player(PLAYER_NEUTRAL_AGGRESSIVE))==true
endfunction
function Trig______________________________100Func009Func002A takes nothing returns nothing
if GetUnitTypeId(GetEnumUnit())==$6E303158 or GetUnitTypeId(GetEnumUnit())==$6E303148 or GetUnitTypeId(GetEnumUnit())==$6E303056 or GetUnitTypeId(GetEnumUnit())==$6E303052 then
call RemoveUnit(GetEnumUnit())
else
endif
endfunction
function Trig______________________________100Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DestroyTimerDialog(udg_JSQCK[1])
call TriggerExecute(gg_trg_______________________________101)
call TriggerExecute(gg_trg______________________________102)
if udg_NDXS==13 then
if udg_BS<199 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_WJJF[bj_forLoopAIndex]=udg_WJJF[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"WJJF",udg_WJJF[bj_forLoopAIndex])
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"所有玩家无尽积分+1点！！！"))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_BS>200 and udg_BS<399 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_WJJF[bj_forLoopAIndex]=udg_WJJF[bj_forLoopAIndex]+2
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"WJJF",udg_WJJF[bj_forLoopAIndex])
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"所有玩家无尽积分+2点！！！"))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_BS>400 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_WJJF[bj_forLoopAIndex]=udg_WJJF[bj_forLoopAIndex]+3
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"WJJF",udg_WJJF[bj_forLoopAIndex])
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"所有玩家无尽积分+3点！！！"))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
else
endif
if udg_BS<20 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_XzA[bj_forLoopAIndex]==false and GetPlayerTechCountSimple($52303049,ConvertedPlayer(bj_forLoopAIndex))>=1 and GetPlayerTechCountSimple($5230304A,ConvertedPlayer(bj_forLoopAIndex))>=1 and GetPlayerTechCountSimple($5230304B,ConvertedPlayer(bj_forLoopAIndex))>=1 and GetPlayerTechCountSimple($5230304C,ConvertedPlayer(bj_forLoopAIndex))>=1 and GetPlayerTechCountSimple($5230304E,ConvertedPlayer(bj_forLoopAIndex))>=1 and GetPlayerTechCountSimple($5230304F,ConvertedPlayer(bj_forLoopAIndex))>=1 then
set xgdg_XzA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,15))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call SetPlayerTechResearchedSwap($52303430,1,ConvertedPlayer(bj_forLoopAIndex))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了全副武装3彩蛋！！！")
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS!=13 and YDWEGetLocalVariableInteger("lo")+1==(udg_BS-1)/5 then
call YDWESetLocalVariableInteger("lo",YDWEGetLocalVariableInteger("lo")+1)
if udg_NDXS!=20 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E,GetRectCenter(gg_rct______________035))
call h__CreateNUnitsAtLoc(1,udg_Lv2[YDWEGetLocalVariableInteger("lo")],Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E),270.)
set udg_DW[GetConvertedPlayerId(Player(5))]=bj_lastCreatedUnit
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E))
else
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E+1,GetRectCenter(gg_rct______________036))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E+2,GetRectCenter(gg_rct______________035))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E+3,GetRectCenter(gg_rct______________037))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__CreateNUnitsAtLoc(1,udg_Lv2[YDWEGetLocalVariableInteger("lo")],Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E+bj_forLoopAIndex),270.)
call UnitAddAbility(bj_lastCreatedUnit,$41304C5A)
call UnitMakeAbilityPermanent(bj_lastCreatedUnit,true,$41304C5A)
call UnitAddAbility(bj_lastCreatedUnit,$41304D30)
call UnitMakeAbilityPermanent(bj_lastCreatedUnit,true,$41304D30)
set udg_DW[GetConvertedPlayerId(Player(5))]=bj_lastCreatedUnit
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"攻城怪物出现BOSS级英雄，注意防守！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"攻城怪物出现BOSS级英雄，注意防守！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"攻城怪物出现BOSS级英雄，注意防守！"))
else
call DoNothing()
endif
if udg_BS==6 then
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig______________________________100Func008Func001003002)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig______________________________100Func008Func002A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"新手怪物已经被系统清除！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"新手怪物已经被系统清除！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"新手怪物已经被系统清除！！！"))
else
endif
if udg_BS==11 then
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectMatchingNull(GetPlayableMapRect(),Condition(function Trig______________________________100Func009Func001003002)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig______________________________100Func009Func002A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"豪猪，野蛮人，北极熊怪，半人马已经被系统清除！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"豪猪，野蛮人，北极熊怪，半人马已经被系统清除！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"豪猪，野蛮人，北极熊怪，半人马已经被系统清除！！！"))
else
endif
if udg_BS==26 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if LoadInteger(YDHT,GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex)),$4F666172)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex)),$55303057)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex)),$55303238)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex)),$55303237)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex)),$55303239)>=1 and xgdg_SAA[bj_forLoopAIndex]==false then
set xgdg_SAA[bj_forLoopAIndex]=true
set udg_PointsItem1[bj_forLoopAIndex]=udg_PointsItem1[bj_forLoopAIndex]+R2I(Pow(2,16))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH1",udg_PointsItem1[bj_forLoopAIndex])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),YDWEGetPlayerColorString(Player(0),YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了屠龙者彩蛋，下一局激活！！！"))
call SetPlayerTechResearchedSwap($52303252,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_BS==31 and udg_NDXS!=13 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF,GetRectCenter(gg_rct______________035))
if udg_NDXS!=20 then
call h__CreateNUnitsAtLoc(1,$4F626C61,Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF),270.)
else
call h__CreateNUnitsAtLoc(1,$4E736A73,Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF),270.)
endif
set udg_DW[GetConvertedPlayerId(Player(5))]=bj_lastCreatedUnit
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF))
call PauseTimer(udg_JSQ)
call TimerDialogDisplay(udg_JSQCK[1],false)
call StartTimerBJ(udg_ZZJSQ,false,360.)
call CreateTimerDialogBJ(udg_ZZJSQ,"最终时刻！")
set udg_JSQCK[2]=bj_lastCreatedTimerDialog
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_IBA[bj_forLoopAIndex]==false and udg_HCDS[bj_forLoopAIndex]==0 then
set xgdg_IBA[bj_forLoopAIndex]=true
set udg_PointsItem3[GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex))]=udg_PointsItem3[GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex))]+R2I(Pow(2,1))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(ConvertedPlayer(bj_forLoopAIndex))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),YDWEGetPlayerColorString(Player(0),YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了混吃等死彩蛋，下一局激活！！！"))
else
endif
if GetPlayerSlotState(ConvertedPlayer(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetRectCenter(gg_rct______________035))
call PanCameraToTimedLocForPlayer(ConvertedPlayer(bj_forLoopAIndex),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+10,$41303532)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+11,$41303532)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+12,$41303531)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+14,$41303437)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+15,$41303949)
if udg_NDXS>=10 and udg_NDXS!=13 then
call UnitRemoveAbility(bj_lastCreatedUnit,$41303533)
call UnitAddAbility(bj_lastCreatedUnit,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+udg_NDXS))
call UnitMakeAbilityPermanent(bj_lastCreatedUnit,true,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F374F3BD+udg_NDXS))
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig______________________________100 takes nothing returns nothing
set gg_trg______________________________100=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg______________________________100,udg_JSQ)
call TriggerAddAction(gg_trg______________________________100,function Trig______________________________100Actions)
endfunction
function Trig______________________________016Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+1,GetRandomLocInRect(gg_rct______________036))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+2,GetRandomLocInRect(gg_rct______________035))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+3,GetRandomLocInRect(gg_rct______________037))
if udg_NDXS!=13 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__CreateNUnitsAtLoc(1,udg_Lv1[udg_BS-1],Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex),225.)
call YDWETimerDestroyEffect(.5,AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex)))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=3
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call h__CreateNUnitsAtLoc(1,udg_Lv1[31],Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex),225.)
call SetUnitState(bj_lastCreatedUnit,UNIT_STATE_MAX_LIFE,GetUnitState(bj_lastCreatedUnit,UNIT_STATE_MAX_LIFE)+5000000.*I2R(udg_BS))
call SetUnitState(bj_lastCreatedUnit,ConvertUnitState(32),GetUnitState(bj_lastCreatedUnit,ConvertUnitState(32))+300.*I2R(udg_BS))
if udg_BS>660 then
call SetUnitState(bj_lastCreatedUnit,ConvertUnitState(19),1000000000.*2.)
else
call SetUnitState(bj_lastCreatedUnit,ConvertUnitState(19),GetUnitState(bj_lastCreatedUnit,ConvertUnitState(19))+3000000.*I2R(udg_BS))
endif
call YDWETimerDestroyEffect(.5,AddSpecialEffectLoc("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex)))
call SetUnitLifePercentBJ(bj_lastCreatedUnit,100)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D+bj_forLoopAIndex))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig______________________________016 takes nothing returns nothing
set gg_trg______________________________016=CreateTrigger()
call DisableTrigger(gg_trg______________________________016)
call TriggerRegisterTimerEventPeriodic(gg_trg______________________________016,1.)
call TriggerAddAction(gg_trg______________________________016,function Trig______________________________016Actions)
endfunction
function Trig_______________________________101Actions takes nothing returns nothing
call YDWEPolledWaitNull(30.)
call DisableTrigger(gg_trg______________________________016)
endfunction
function InitTrig_______________________________101 takes nothing returns nothing
set gg_trg_______________________________101=CreateTrigger()
call DisableTrigger(gg_trg_______________________________101)
call TriggerAddAction(gg_trg_______________________________101,function Trig_______________________________101Actions)
endfunction
function Trig______________________________102Actions takes nothing returns nothing
call TriggerExecute(gg_trg_______________________________015)
call EnableTrigger(gg_trg______________________________016)
endfunction
function InitTrig______________________________102 takes nothing returns nothing
set gg_trg______________________________102=CreateTrigger()
call DisableTrigger(gg_trg______________________________102)
call TriggerAddAction(gg_trg______________________________102,function Trig______________________________102Actions)
endfunction
function Trig____________________115Func002A takes nothing returns nothing
if GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>=100000000. then
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(4),GetUnitName(GetEnumUnit()))+YDWEGetPlayerColorString(Player(6),"的最大生命值")+I2S(R2I(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)/100000000.))+YDWEGetPlayerColorString(Player(0),"亿"))
else
call DoNothing()
endif
if GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_MANA)>=100000000. then
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(4),GetUnitName(GetEnumUnit()))+YDWEGetPlayerColorString(Player(6),"的最大魔法值")+I2S(R2I(GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_MANA)/100000000.))+YDWEGetPlayerColorString(Player(0),"亿"))
else
call DoNothing()
endif
endfunction
function Trig____________________115Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsSelectedAllNull(GetTriggerPlayer()))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig____________________115Func002A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________115 takes nothing returns nothing
set gg_trg____________________115=CreateTrigger()
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(0),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(1),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(2),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(3),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(4),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(5),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(6),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(7),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(8),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(9),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(10),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(11),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(12),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(13),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(14),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerRegisterPlayerKeyEventBJ(gg_trg____________________115,Player(15),bj_KEYEVENTTYPE_DEPRESS,bj_KEYEVENTKEY_UP)
call TriggerAddAction(gg_trg____________________115,function Trig____________________115Actions)
endfunction
function Trig_D________________________036Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],UNIT_TYPE_DEAD)==false
endfunction
function Trig_D________________________036Func008T takes nothing returns nothing
call SaveInteger(YDLOC,GetHandleId(GetExpiredTimer()),$300B6E6B,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$300B6E6B)+1)
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476,LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$E978590C)/10.)
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$A99320FA,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)*CosBJ(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$B9A583B8)))
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$FDF65382,GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)*SinBJ(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$B9A583B8)))
if IsTerrainPathable(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$A99320FA),LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$FDF65382),PATHING_TYPE_WALKABILITY)==false then
call SetUnitPosition(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA),LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$A99320FA),LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$FDF65382))
else
endif
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$96EA435A,GetUnitFlyHeight(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA)))
if LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$300B6E6B)<=5 then
call SetUnitFlyHeight(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA),LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$96EA435A)+40.,0.)
else
if LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$300B6E6B)>5 and LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$300B6E6B)<=10 then
call SetUnitFlyHeight(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$B6A6EBAA),LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$96EA435A)-40.,0.)
else
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endif
endfunction
function Trig_D________________________036Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$E978590C,600.)
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B9A583B8,Atan2BJ(DzGetMouseTerrainY()-GetUnitY(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]),DzGetMouseTerrainX()-GetUnitX(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())])))
call SetUnitFacing(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B9A583B8))
call YDWETimerDestroyEffect(.5,AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Taunt\\TauntCaster.mdl",udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],"origin"))
call YDWETimerDestroyEffect(.5,AddSpecialEffectTarget("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],"origin"))
call YDWETimerDestroyEffect(.5,AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],"origin"))
call SelectUnitForPlayerSingle(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],DzGetTriggerKeyPlayer())
set ydl_timer=CreateTimer()
call SaveInteger(YDLOC,GetHandleId(ydl_timer),$300B6E6B,0)
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$B6A6EBAA,udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())])
call SaveReal(YDLOC,GetHandleId(ydl_timer),$B9A583B8,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B9A583B8))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$E978590C,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$E978590C))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$A99320FA,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A99320FA))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$FDF65382,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$FDF65382))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$96EA435A,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$96EA435A))
call TimerStart(ydl_timer,.02,true,function Trig_D________________________036Func008T)
call SelectUnitForPlayerSingle(udg_DW[GetConvertedPlayerId(DzGetTriggerKeyPlayer())],DzGetTriggerKeyPlayer())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_D________________________036 takes nothing returns nothing
set gg_trg_D________________________036=CreateTrigger()
call DzTriggerRegisterKeyEventTrg(gg_trg_D________________________036,1,68)
call TriggerAddCondition(gg_trg_D________________________036,Condition(function Trig_D________________________036Conditions))
call TriggerAddAction(gg_trg_D________________________036,function Trig_D________________________036Actions)
endfunction
function Trig____________________052Actions takes nothing returns nothing
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,CameraSetupGetField(YDWEGetCurrentCameraSetupNull(),CAMERA_FIELD_TARGET_DISTANCE)+300.,0)
call DisplayTimedTextToForce(GetPlayersAll(),3.,GetPlayerName(GetTriggerPlayer())+"提高了视距"+"！")
endfunction
function InitTrig____________________052 takes nothing returns nothing
set gg_trg____________________052=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(0),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(1),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(2),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(3),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(4),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(5),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(6),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(7),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(8),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(9),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(10),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(11),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(12),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(13),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(14),"++",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________052,Player(15),"++",true)
call TriggerAddAction(gg_trg____________________052,function Trig____________________052Actions)
endfunction
function Trig____________________054Actions takes nothing returns nothing
call SetCameraFieldForPlayer(GetTriggerPlayer(),CAMERA_FIELD_TARGET_DISTANCE,CameraSetupGetField(YDWEGetCurrentCameraSetupNull(),CAMERA_FIELD_TARGET_DISTANCE)-300.,0)
call DisplayTimedTextToForce(GetPlayersAll(),3.,GetPlayerName(GetTriggerPlayer())+"降低了视距"+"！")
endfunction
function InitTrig____________________054 takes nothing returns nothing
set gg_trg____________________054=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(0),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(1),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(2),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(3),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(4),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(5),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(6),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(7),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(8),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(9),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(10),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(11),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(12),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(13),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(14),"--",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________054,Player(15),"--",true)
call TriggerAddAction(gg_trg____________________054,function Trig____________________054Actions)
endfunction
function Trig____________________007Actions takes nothing returns nothing
if GetEventPlayerChatString()=="-ND" then
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度1通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_MzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度2通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_NzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度3通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_mzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度4通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_OzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度5通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_lzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度6通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_PzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度7通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_kzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度8通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_QzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度9通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_nzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度10通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_jzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度11通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_RzA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度12通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_izA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度14通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_CBA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度15通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_yBA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度20通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_MBA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度25通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_oBA[GetConvertedPlayerId(GetTriggerPlayer())])))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,YDWEGetPlayerColorString(Player(0),"难度30通关次数：")+YDWEGetPlayerColorString(Player(6),I2S(xgdg_nBA[GetConvertedPlayerId(GetTriggerPlayer())])))
else
endif
if GetEventPlayerChatString()=="查询爆率" then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的附加爆率提升为"+(I2S(udg_BL[GetConvertedPlayerId(GetTriggerPlayer())])+YDWEGetPlayerColorString(Player(0),"%")))
else
endif
if GetEventPlayerChatString()=="查询通关积分" then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的通关积分为"+I2S(udg_TGJF[GetConvertedPlayerId(GetTriggerPlayer())]))
else
endif
if GetEventPlayerChatString()=="0" then
call YDWEMemoryLeakHelperDisplayLeaks()
else
endif
if GetEventPlayerChatString()=="-TX" then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")==1 then
set udg_TX=false
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"：关闭了所有英雄的技能特效！！！")
else
endif
if YDWEGetLocalVariableInteger("i")==2 then
set udg_TX=true
call YDWESetLocalVariableInteger("i",0)
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"：开启了所有英雄的技能特效！！！")
else
endif
else
endif
if GetEventPlayerChatString()=="-ZDSC" then
if IsTriggerEnabled(gg_trg____________________109)==false then
call EnableTrigger(gg_trg____________________109)
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"：开启了自动删除物品！！！")
else
call DisableTrigger(gg_trg____________________109)
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"：关闭了自动删除物品！！！")
endif
else
endif
endfunction
function InitTrig____________________007 takes nothing returns nothing
set gg_trg____________________007=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(0),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(1),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(2),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(3),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(4),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(5),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(6),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(7),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(8),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(9),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(10),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(11),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(12),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(13),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(14),GetEventPlayerChatString(),true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________007,Player(15),GetEventPlayerChatString(),true)
call TriggerAddAction(gg_trg____________________007,function Trig____________________007Actions)
endfunction
function Trig______________________________020Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitRemoveItemFromSlotSwapped(bj_forLoopAIndex,udg_DW[0])
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"：将老家的装备脱光了！！！")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig______________________________020 takes nothing returns nothing
set gg_trg______________________________020=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg______________________________020,Player(0),"tyf",true)
call TriggerAddAction(gg_trg______________________________020,function Trig______________________________020Actions)
endfunction
function Trig_____________________________024Conditions takes nothing returns boolean
return GetItemType(GetSoldItem())==ITEM_TYPE_CAMPAIGN
endfunction
function Trig_____________________________024Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false then
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D14F34A9,GetItemTypeId(GetSoldItem()))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,LoadLocationHandle(YDHT,GetItemTypeId(GetSoldItem()),1))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),0)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call YDWETimerDestroyEffect(1.,AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",GetBuyingUnit(),"origin"))
call SelectUnitForPlayerSingle(GetBuyingUnit(),GetOwningPlayer(GetBuyingUnit()))
call FlushChildHashtable(YDHT,GetItemTypeId(GetSoldItem()))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A99320FA,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$FDF65382,GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
call SaveLocationHandle(YDHT,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D14F34A9),1,Location(LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A99320FA),LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$FDF65382)))
else
endif
call YDWETimerRemoveItem(.5,GetSoldItem())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_____________________________024 takes nothing returns nothing
set gg_trg_____________________________024=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_____________________________024,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_____________________________024,Condition(function Trig_____________________________024Conditions))
call TriggerAddAction(gg_trg_____________________________024,function Trig_____________________________024Actions)
endfunction
function Trig____________________082Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if RectContainsUnit(gg_rct______________063,udg_DW[GetConvertedPlayerId(GetTriggerPlayer())])==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call RemoveUnit(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())])
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetTriggerPlayer()),0),YDWEGetPlayerColorString(GetTriggerPlayer(),"离开游戏"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"系统提示：")+(GetPlayerName(GetTriggerPlayer())+"离开了游戏！"))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________082 takes nothing returns nothing
set gg_trg____________________082=CreateTrigger()
call TriggerRegisterPlayerEventLeave(gg_trg____________________082,Player(0))
call TriggerRegisterPlayerEventLeave(gg_trg____________________082,Player(1))
call TriggerRegisterPlayerEventLeave(gg_trg____________________082,Player(2))
call TriggerRegisterPlayerEventLeave(gg_trg____________________082,Player(3))
call TriggerAddAction(gg_trg____________________082,function Trig____________________082Actions)
endfunction
function Trig____________________003Conditions takes nothing returns boolean
return GetUnitTypeId(GetSellingUnit())==$6E30304C
endfunction
function Trig____________________003Func003A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________003Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=0
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectOfPlayerNull(udg_LGQY[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],Player(PLAYER_NEUTRAL_AGGRESSIVE)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig____________________003Func003A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
if GetItemTypeId(GetSoldItem())==$49303145 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303032
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303152 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303043
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303148 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303045
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303156 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303046
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303153 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303049
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303154 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E30304B
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303155 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E30304E
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303647 then
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=$6E303041
else
call DoNothing()
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________003 takes nothing returns nothing
set gg_trg____________________003=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________003,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________003,Condition(function Trig____________________003Conditions))
call TriggerAddAction(gg_trg____________________003,function Trig____________________003Actions)
endfunction
function Trig____________________011Func001Func002Func002003002 takes nothing returns boolean
return GetOwningPlayer(GetFilterUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function Trig____________________011Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=5 then
call AdjustPlayerStateBJ(10000,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_GOLD)
else
endif
if udg_LGYG[bj_forLoopAIndex]!=0 then
call YDWESetLocalVariableLocationArray("point",bj_forLoopAIndex,GetRectCenter(udg_LGQY[bj_forLoopAIndex]))
call YDWESetLocalVariableGroupArray("g",bj_forLoopAIndex,YDWEGetUnitsInRectMatchingNull(udg_LGQY[bj_forLoopAIndex],Condition(function Trig____________________011Func001Func002Func002003002)))
if h__CountUnitsInGroup(YDWEGetLocalVariableGroupArray("g",bj_forLoopAIndex))<3 then
call h__CreateNUnitsAtLoc(udg_LGSL[bj_forLoopAIndex],udg_LGYG[bj_forLoopAIndex],Player(PLAYER_NEUTRAL_AGGRESSIVE),YDWEGetLocalVariableLocationArray("point",bj_forLoopAIndex),bj_UNIT_FACING)
else
endif
call h__RemoveLocation(YDWEGetLocalVariableLocationArray("point",bj_forLoopAIndex))
call h__DestroyGroup(YDWEGetLocalVariableGroupArray("g",bj_forLoopAIndex))
call YDWELocalVariableEnd()
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig____________________011 takes nothing returns nothing
set gg_trg____________________011=CreateTrigger()
call TriggerRegisterTimerEventPeriodic(gg_trg____________________011,1.6)
call TriggerAddAction(gg_trg____________________011,function Trig____________________011Actions)
endfunction
function Trig____________________074Conditions takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE) and GetOwningPlayer(GetTriggerUnit())!=Player(0)
endfunction
function Trig____________________074Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetTriggerUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"不能进入别人的练功房哦！！！")
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________074 takes nothing returns nothing
set gg_trg____________________074=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________074,gg_rct______________008)
call TriggerAddCondition(gg_trg____________________074,Condition(function Trig____________________074Conditions))
call TriggerAddAction(gg_trg____________________074,function Trig____________________074Actions)
endfunction
function Trig____________________077Conditions takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE) and GetOwningPlayer(GetTriggerUnit())!=Player(1)
endfunction
function Trig____________________077Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetTriggerUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"不能进入别人的练功房哦！！！")
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________077 takes nothing returns nothing
set gg_trg____________________077=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________077,gg_rct______________009)
call TriggerAddCondition(gg_trg____________________077,Condition(function Trig____________________077Conditions))
call TriggerAddAction(gg_trg____________________077,function Trig____________________077Actions)
endfunction
function Trig____________________078Conditions takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE) and GetOwningPlayer(GetTriggerUnit())!=Player(2)
endfunction
function Trig____________________078Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetTriggerUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"不能进入别人的练功房哦！！！")
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________078 takes nothing returns nothing
set gg_trg____________________078=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________078,gg_rct______________010)
call TriggerAddCondition(gg_trg____________________078,Condition(function Trig____________________078Conditions))
call TriggerAddAction(gg_trg____________________078,function Trig____________________078Actions)
endfunction
function Trig____________________080Conditions takes nothing returns boolean
return GetOwningPlayer(GetTriggerUnit())!=Player(PLAYER_NEUTRAL_AGGRESSIVE) and GetOwningPlayer(GetTriggerUnit())!=Player(3)
endfunction
function Trig____________________080Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________040))
call h__SetUnitPositionLoc(GetTriggerUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"不能进入别人的练功房哦！！！")
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________080 takes nothing returns nothing
set gg_trg____________________080=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________080,gg_rct______________011)
call TriggerAddCondition(gg_trg____________________080,Condition(function Trig____________________080Conditions))
call TriggerAddAction(gg_trg____________________080,function Trig____________________080Actions)
endfunction
function Trig____________________064Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________064Func002002 takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________064Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectOfPlayerNull(gg_rct______________063,Player(PLAYER_NEUTRAL_AGGRESSIVE)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig____________________064Func002002)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________064 takes nothing returns nothing
set gg_trg____________________064=CreateTrigger()
call YDWETriggerRegisterLeaveRectSimpleNull(gg_trg____________________064,gg_rct______________063)
call TriggerAddCondition(gg_trg____________________064,Condition(function Trig____________________064Conditions))
call TriggerAddAction(gg_trg____________________064,function Trig____________________064Actions)
endfunction
function Trig____________________081Conditions takes nothing returns boolean
return IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true and GetOwningPlayer(GetKillingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) and GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER and RectContainsUnit(udg_LGQY[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))],GetDyingUnit())==true
endfunction
function Trig____________________081Func003A takes nothing returns nothing
call RemoveUnit(GetEnumUnit())
endfunction
function Trig____________________081Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_LGYG[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=0
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$214C62CC,YDWEGetUnitsInRectOfPlayerNull(udg_LGQY[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))],Player(PLAYER_NEUTRAL_AGGRESSIVE)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$214C62CC),function Trig____________________081Func003A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$214C62CC))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________081 takes nothing returns nothing
set gg_trg____________________081=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________081,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________081,Condition(function Trig____________________081Conditions))
call TriggerAddAction(gg_trg____________________081,function Trig____________________081Actions)
endfunction
function Trig____________________109Func001Func003Func004002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________109Func001Func003Func005002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________109Func001Func003Func006002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________109Func001T takes nothing returns nothing
call YDWESetLocalVariableInteger("删除",YDWEGetLocalVariableInteger("删除")+1)
call DisplayTextToForce(GetPlayersAll(),"距离删除全图物品还剩下"+I2S(10-YDWEGetLocalVariableInteger("删除"))+("秒，"+YDWEGetPlayerColorString(Player(0),"不包括练功房的物品！！！")))
if YDWEGetLocalVariableInteger("删除")>=10 then
call YDWESetLocalVariableRect("a",gg_rct______________023)
call YDWESetLocalVariableRect("b",gg_rct______________024)
call YDWESetLocalVariableRect("c",gg_rct______________025)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("a"),function Trig____________________109Func001Func003Func004002)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("b"),function Trig____________________109Func001Func003Func005002)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("c"),function Trig____________________109Func001Func003Func006002)
call YDWELocalVariableEnd()
call YDWESetLocalVariableInteger("删除",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"全图物品已经被删除了！"))
else
endif
endfunction
function Trig____________________109Actions takes nothing returns nothing
local timer ydl_timer
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,1.,true,function Trig____________________109Func001T)
set ydl_timer=null
endfunction
function InitTrig____________________109 takes nothing returns nothing
set gg_trg____________________109=CreateTrigger()
call DisableTrigger(gg_trg____________________109)
call TriggerRegisterTimerEventPeriodic(gg_trg____________________109,100.)
call TriggerAddAction(gg_trg____________________109,function Trig____________________109Actions)
endfunction
function Trig____________________075Func003Func003Func004002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________075Func003Func003Func005002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________075Func003Func003Func006002 takes nothing returns nothing
call RemoveItem(GetEnumItem())
endfunction
function Trig____________________075Func003T takes nothing returns nothing
call YDWESetLocalVariableInteger("删除",YDWEGetLocalVariableInteger("删除")+1)
call DisplayTextToForce(GetPlayersAll(),"距离删除全图物品还剩下"+I2S(10-YDWEGetLocalVariableInteger("删除"))+("秒，"+YDWEGetPlayerColorString(Player(0),"不包括练功房的物品！！！")))
if YDWEGetLocalVariableInteger("删除")>=10 then
call YDWESetLocalVariableRect("a",gg_rct______________023)
call YDWESetLocalVariableRect("b",gg_rct______________024)
call YDWESetLocalVariableRect("c",gg_rct______________025)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("a"),function Trig____________________075Func003Func003Func004002)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("b"),function Trig____________________075Func003Func003Func005002)
call EnumItemsInRectBJ(YDWEGetLocalVariableRect("c"),function Trig____________________075Func003Func003Func006002)
call YDWELocalVariableEnd()
call YDWESetLocalVariableInteger("删除",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"全图物品已经被删除了！"))
else
endif
endfunction
function Trig____________________075Actions takes nothing returns nothing
local timer ydl_timer
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),GetPlayerName(GetTriggerPlayer()))+"输入了删除物品指令！！！")
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,1.,true,function Trig____________________075Func003T)
set ydl_timer=null
endfunction
function InitTrig____________________075 takes nothing returns nothing
set gg_trg____________________075=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(0),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(1),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(2),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(3),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(4),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(5),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(6),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(7),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(8),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(9),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(10),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(11),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(12),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(13),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(14),"-SCWP",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________075,Player(15),"-SCWP",false)
call TriggerAddAction(gg_trg____________________075,function Trig____________________075Actions)
endfunction
function Trig____________________181Actions takes nothing returns nothing
call ClearTextMessagesBJ(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"格挡几率：")+YDWEGetPlayerColorString(Player(6),I2S(udg_GDJL[GetConvertedPlayerId(DzGetTriggerKeyPlayer())])+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"伤害增幅：")+YDWEGetPlayerColorString(Player(6),I2S(R2I((udg_SHzf[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]-1.)*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"伤害减免：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_SHjm[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"法术吸血：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_FSXX[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"物理吸血：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_WLXX[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"法术伤害增幅：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_FSSHZF[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"物理伤害增幅：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_WLSHZF[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"法术暴击伤害：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_FSBJSH[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"物理暴击伤害：")+YDWEGetPlayerColorString(Player(6),I2S(R2I(udg_WLBJSH[GetConvertedPlayerId(DzGetTriggerKeyPlayer())]*100.))+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"法术暴击几率：")+YDWEGetPlayerColorString(Player(6),I2S(udg_FSBJJL[GetConvertedPlayerId(DzGetTriggerKeyPlayer())])+"%"))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(DzGetTriggerKeyPlayer()),10.,YDWEGetPlayerColorString(Player(0),"物理暴击几率：")+YDWEGetPlayerColorString(Player(6),I2S(udg_WLBJJL[GetConvertedPlayerId(DzGetTriggerKeyPlayer())])+"%"))
endfunction
function InitTrig____________________181 takes nothing returns nothing
set gg_trg____________________181=CreateTrigger()
call DzTriggerRegisterKeyEventTrg(gg_trg____________________181,0,9)
call TriggerAddAction(gg_trg____________________181,function Trig____________________181Actions)
endfunction
function Trig____________________177Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) and RectContainsUnit(gg_rct______________029,GetDyingUnit())==true
endfunction
function Trig____________________177Actions takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())==$6E303032 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(675,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(675,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(1350,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303043 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(1475,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(1475,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(2950,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303045 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(3955,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(3955,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(7910,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303046 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(6355,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(6355,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(12710,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_GOLD)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303049 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(4,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E30304B then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(4,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(4,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E30304E then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(8,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(16,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303041 then
if GetPlayerTechCountSimple($52303356,GetOwningPlayer(GetKillingUnit()))>=1 then
call AdjustPlayerStateBJ(16,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043727")==true then
call AdjustPlayerStateBJ(16,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetKillingUnit()),"20043726")==true then
call AdjustPlayerStateBJ(32,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
endif
endfunction
function InitTrig____________________177 takes nothing returns nothing
set gg_trg____________________177=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________177,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________177,Condition(function Trig____________________177Conditions))
call TriggerAddAction(gg_trg____________________177,function Trig____________________177Actions)
endfunction
function Trig____________________215Conditions takes nothing returns boolean
return xgdg_HBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false
endfunction
function Trig____________________215Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________031))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
set xgdg_HBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+R2I(Pow(2,30))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetTriggerUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetPlayerTechResearchedSwap($52303434,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"游戏提示：恭喜您探索到了我不想洗澡的彩蛋！！！")
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________215 takes nothing returns nothing
set gg_trg____________________215=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________215,gg_rct______________030)
call TriggerAddCondition(gg_trg____________________215,Condition(function Trig____________________215Conditions))
call TriggerAddAction(gg_trg____________________215,function Trig____________________215Actions)
endfunction
function Trig_______________________________007Func016Conditions takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$437E2A40))
call DestroyTimerDialog(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$D963A09F))
if IsTriggerEnabled(gg_trg________________________________008)==false then
call TriggerExecute(gg_trg_______________________________015)
else
call TriggerExecute(gg_trg_______________________________181)
call DialogDisplayBJ(false,xgdg_zAA,Player(0))
call DialogClear(xgdg_zAA)
call DialogDestroy(xgdg_zAA)
endif
call TriggerExecute(gg_trg_______________________________012)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Trig_______________________________007Actions takes nothing returns nothing
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_TX=true
call PlayMusicBJ(gg_snd_4849)
call SetCameraField(CAMERA_FIELD_TARGET_DISTANCE,2700.,0)
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],GetUnitName(udg_DW[GetConvertedPlayerId(Player(5))]),null,YDWEGetPlayerColorString(Player(4),"新的历史即将谱写！！！"),bj_TIMETYPE_ADD,5.,true)
call CinematicModeBJ(false,GetPlayersAll())
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"请在15秒内选择难度！否则直接进入泡点模式！！！"))
call TriggerExecute(gg_trg_____________________________006)
call SaveTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40,CreateTimer())
call StartTimerBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),false,15.)
call CreateTimerDialogBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),YDWEGetPlayerColorString(Player(6),"战争倒计时！"))
call SaveTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F,bj_lastCreatedTimerDialog)
call TimerDialogDisplay(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F),true)
set ydl_trigger=CreateTrigger()
call SaveTimerHandle(YDLOC,GetHandleId(ydl_trigger),$437E2A40,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call SaveTimerDialogHandle(YDLOC,GetHandleId(ydl_trigger),$D963A09F,LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F))
call TriggerRegisterTimerExpireEvent(ydl_trigger,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________007Func016Conditions))
call DisableTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_trigger=null
endfunction
function InitTrig_______________________________007 takes nothing returns nothing
set gg_trg_______________________________007=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg_______________________________007,0.)
call TriggerAddAction(gg_trg_______________________________007,function Trig_______________________________007Actions)
endfunction
function Trig_______________________________181Func007Conditions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"JXSD",udg_JXSD[bj_forLoopAIndex])
if xgdg_DBA[bj_forLoopAIndex]==false then
set xgdg_DBA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,22))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了我喜欢泡澡了彩蛋！！！")
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTimer(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$437E2A40))
call DestroyTimerDialog(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$D963A09F))
call CustomVictoryBJ(Player(0),true,true)
call CustomVictoryBJ(Player(1),true,true)
call CustomVictoryBJ(Player(2),true,true)
call CustomVictoryBJ(Player(3),true,true)
endfunction
function Trig_______________________________181Actions takes nothing returns nothing
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call EnableTrigger(gg_trg_______________________________075)
call SaveTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40,CreateTimer())
call StartTimerBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),false,10000.)
call CreateTimerDialogBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),YDWEGetPlayerColorString(Player(6),"泡点模式倒计时！"))
call SaveTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F,bj_lastCreatedTimerDialog)
call TimerDialogDisplay(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F),true)
set ydl_trigger=CreateTrigger()
call SaveTimerHandle(YDLOC,GetHandleId(ydl_trigger),$437E2A40,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call SaveTimerDialogHandle(YDLOC,GetHandleId(ydl_trigger),$D963A09F,LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F))
call TriggerRegisterTimerExpireEvent(ydl_trigger,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call TriggerAddCondition(ydl_trigger,Condition(function Trig_______________________________181Func007Conditions))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_trigger=null
endfunction
function InitTrig_______________________________181 takes nothing returns nothing
set gg_trg_______________________________181=CreateTrigger()
call TriggerAddAction(gg_trg_______________________________181,function Trig_______________________________181Actions)
endfunction
function Trig_______________________________075Conditions takes nothing returns boolean
return udg_NDXS==0
endfunction
function Trig_______________________________075Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"JXSD",udg_JXSD[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"您泡了8个小时，请收下我的膝盖！"),bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"告诉你一个彩蛋吧！裸装打恐惧魔王试试！！！"),bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"祝大家新年快乐！玩的开心哦！！！"),bj_TIMETYPE_ADD,3.,true)
call CinematicModeBJ(false,GetPlayersAll())
call CustomVictoryBJ(Player(0),true,true)
call CustomVictoryBJ(Player(1),true,true)
call CustomVictoryBJ(Player(2),true,true)
call CustomVictoryBJ(Player(3),true,true)
endfunction
function InitTrig_______________________________075 takes nothing returns nothing
set gg_trg_______________________________075=CreateTrigger()
call DisableTrigger(gg_trg_______________________________075)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(0),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(1),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(2),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(3),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(4),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(5),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(6),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(7),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(8),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(9),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(10),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(11),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(12),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(13),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(14),"我不想泡了",false)
call TriggerRegisterPlayerChatEvent(gg_trg_______________________________075,Player(15),"我不想泡了",false)
call TriggerAddCondition(gg_trg_______________________________075,Condition(function Trig_______________________________075Conditions))
call TriggerAddAction(gg_trg_______________________________075,function Trig_______________________________075Actions)
endfunction
function Trig______________________________236Conditions takes nothing returns boolean
return udg_NDXS==13
endfunction
function Trig______________________________236Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"JXSD",udg_JXSD[bj_forLoopAIndex])
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"恭喜您结束了无尽模式！！！"),bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"弊佬真恶心啊！！！"),bj_TIMETYPE_ADD,3.,true)
call CinematicModeBJ(false,GetPlayersAll())
call CustomVictoryBJ(Player(0),true,true)
call CustomVictoryBJ(Player(1),true,true)
call CustomVictoryBJ(Player(2),true,true)
call CustomVictoryBJ(Player(3),true,true)
endfunction
function InitTrig______________________________236 takes nothing returns nothing
set gg_trg______________________________236=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(0),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(1),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(2),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(3),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(4),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(5),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(6),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(7),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(8),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(9),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(10),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(11),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(12),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(13),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(14),"结束无尽模式",false)
call TriggerRegisterPlayerChatEvent(gg_trg______________________________236,Player(15),"结束无尽模式",false)
call TriggerAddCondition(gg_trg______________________________236,Condition(function Trig______________________________236Conditions))
call TriggerAddAction(gg_trg______________________________236,function Trig______________________________236Actions)
endfunction
function Trig_______BOSS_________________018Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(Player(5))],UNIT_TYPE_DEAD)==false
endfunction
function Trig_______BOSS_________________018Actions takes nothing returns nothing
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(5))])),null,YDWEGetPlayerColorString(Player(4),"你们没有在制定的时间内杀死终极BOSS，游戏失败，再接再厉吧！"),bj_TIMETYPE_ADD,0,true)
call CinematicModeBJ(false,GetPlayersAll())
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call CustomDefeatBJ(ConvertedPlayer(bj_forLoopAIndex),"失败!")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
endfunction
function InitTrig_______BOSS_________________018 takes nothing returns nothing
set gg_trg_______BOSS_________________018=CreateTrigger()
call TriggerRegisterTimerExpireEvent(gg_trg_______BOSS_________________018,udg_ZZJSQ)
call TriggerAddCondition(gg_trg_______BOSS_________________018,Condition(function Trig_______BOSS_________________018Conditions))
call TriggerAddAction(gg_trg_______BOSS_________________018,function Trig_______BOSS_________________018Actions)
endfunction
function Trig_BOSS_______________________019Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_COMPUTER and GetUnitTypeId(GetDyingUnit())==$4F626C61 or GetUnitTypeId(GetDyingUnit())==$4E736A73
endfunction
function Trig_BOSS_______________________019Actions takes nothing returns nothing
local integer ydul_b
call SetUnitInvulnerable(gg_unit_Hpal_0030,true)
if xgdg_czA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],1)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],2)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],3)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],4)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],5)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],6)==null then
set xgdg_czA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,16))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了丢盔弃甲彩蛋！！！")
call SetPlayerTechResearchedSwap($52303431,1,GetOwningPlayer(GetKillingUnit()))
else
endif
if udg_NDXS==20 and udg_WJS==1 then
if xgdg_uBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set xgdg_uBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,0))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了唯我独尊彩蛋！！！")
else
endif
else
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if udg_NDXS==10 and LoadInteger(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$43A38278)>=10 and xgdg_KBA[bj_forLoopAIndex]==false then
set xgdg_KBA[bj_forLoopAIndex]=true
set udg_PointsItem3[bj_forLoopAIndex]=udg_PointsItem3[bj_forLoopAIndex]+R2I(Pow(2,5))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了十死无生彩蛋！！！")
call SetPlayerTechResearchedSwap($52303451,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if GetPlayerTechCountSimple($52303049,ConvertedPlayer(bj_forLoopAIndex))==0 and GetPlayerTechCountSimple($5230304A,ConvertedPlayer(bj_forLoopAIndex))==0 and GetPlayerTechCountSimple($5230304B,ConvertedPlayer(bj_forLoopAIndex))==1 and GetPlayerTechCountSimple($5230304C,ConvertedPlayer(bj_forLoopAIndex))==0 and GetPlayerTechCountSimple($5230304E,ConvertedPlayer(bj_forLoopAIndex))==0 and GetPlayerTechCountSimple($52303051,ConvertedPlayer(bj_forLoopAIndex))==0 and GetPlayerTechCountSimple($5230304F,ConvertedPlayer(bj_forLoopAIndex))==0 and xgdg_pBA[bj_forLoopAIndex]==false then
set xgdg_pBA[bj_forLoopAIndex]=true
set udg_PointsItem3[bj_forLoopAIndex]=udg_PointsItem3[bj_forLoopAIndex]+R2I(Pow(2,6))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了开天辟地彩蛋！！！")
call SetPlayerTechResearchedSwap($52303452,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call TriggerExecute(gg_trg____________________217)
set ydul_b=1
loop
exitwhen ydul_b>10
call YDWEPolledWaitNull(1.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"还有"+I2S(11-ydul_b)+"秒游戏结束！！！"))
set ydul_b=ydul_b+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$E3CD1F0)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$C6B5B03A)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$AD26CFF4)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$EB9209F4)==true and xgdg_VzA[bj_forLoopAIndex]==false then
set xgdg_VzA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,9))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了这不是神器？彩蛋！！！")
else
endif
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"JXSD",udg_JXSD[bj_forLoopAIndex])
set udg_ZGZ[bj_forLoopAIndex]=udg_ZGZ[bj_forLoopAIndex]+udg_NDXS
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"ZGZ",udg_ZGZ[bj_forLoopAIndex])
set udg_TGJF[bj_forLoopAIndex]=udg_TGJF[bj_forLoopAIndex]+4*udg_NDXS
if udg_NDXS==20 then
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set udg_TGJF[bj_forLoopAIndex]=udg_TGJF[bj_forLoopAIndex]+45
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
else
call DoNothing()
endif
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"TGJF",udg_TGJF[bj_forLoopAIndex])
if xgdg_TAA[bj_forLoopAIndex]==false and LoadInteger(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$43A38278)==0 then
set xgdg_TAA[bj_forLoopAIndex]=true
set udg_PointsItem1[bj_forLoopAIndex]=udg_PointsItem1[bj_forLoopAIndex]+R2I(Pow(2,18))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH1",udg_PointsItem1[bj_forLoopAIndex])
call SetPlayerTechResearchedSwap($52303254,1,ConvertedPlayer(bj_forLoopAIndex))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),YDWEGetPlayerColorString(Player(0),YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了玩的就是心跳彩蛋，下一局激活！！！"))
else
endif
if udg_BS<=23 and xgdg_hAA[bj_forLoopAIndex]==false then
set xgdg_hAA[bj_forLoopAIndex]=true
set udg_PointsItem1[bj_forLoopAIndex]=udg_PointsItem1[bj_forLoopAIndex]+R2I(Pow(2,17))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH1",udg_PointsItem1[bj_forLoopAIndex])
call SetPlayerTechResearchedSwap($52303253,1,ConvertedPlayer(bj_forLoopAIndex))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),YDWEGetPlayerColorString(Player(0),YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了有惊无险彩蛋，下一局激活！！！"))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if udg_NDXS==20 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_MBA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=14 then
set xgdg_MBA[bj_forLoopAIndex]=xgdg_MBA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL20",xgdg_MBA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==25 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_oBA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=14 then
set xgdg_oBA[bj_forLoopAIndex]=xgdg_oBA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL25",xgdg_oBA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==30 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_nBA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=14 then
set xgdg_nBA[bj_forLoopAIndex]=xgdg_nBA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL30",xgdg_nBA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"恭喜大家成功通关游戏，去试试更高的难度挑战吧！"),bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"如果对本图有不满的地方，找作者提，作者都会一一回应，决不辜负大家对我的期望！！"),bj_TIMETYPE_ADD,3.,true)
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(5))],YDWEGetPlayerColorString(Player(6),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])),null,YDWEGetPlayerColorString(Player(4),"下个版本，会更精彩！！！"),bj_TIMETYPE_ADD,3.,true)
call CinematicModeBJ(false,GetPlayersAll())
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"奖励通关积分"+I2S(4*udg_NDXS)+"点！！！"))
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"难度20会额外奖励45点通关积分！！！"))
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"奖励战功值"+I2S(udg_NDXS)+"点！！！"))
call CustomVictoryBJ(Player(0),true,false)
call CustomVictoryBJ(Player(1),true,false)
call CustomVictoryBJ(Player(2),true,false)
call CustomVictoryBJ(Player(3),true,false)
endfunction
function InitTrig_BOSS_______________________019 takes nothing returns nothing
set gg_trg_BOSS_______________________019=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_BOSS_______________________019,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_BOSS_______________________019,Condition(function Trig_BOSS_______________________019Conditions))
call TriggerAddAction(gg_trg_BOSS_______________________019,function Trig_BOSS_______________________019Actions)
endfunction
function Trig____________________217Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_fzA[bj_forLoopAIndex]==false and udg_FKZR[bj_forLoopAIndex]>=4 then
set xgdg_fzA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,8))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了疯狂整容彩蛋！！！")
else
endif
if GetPlayerState(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)<5000 and xgdg_rBA[bj_forLoopAIndex]==false then
set xgdg_rBA[bj_forLoopAIndex]=true
set udg_PointsItem3[bj_forLoopAIndex]=udg_PointsItem3[bj_forLoopAIndex]+R2I(Pow(2,2))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了穷困潦倒彩蛋！！！")
else
endif
if xgdg_JBA[bj_forLoopAIndex]==false and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$8502D75A)==false then
set xgdg_JBA[bj_forLoopAIndex]=true
set udg_PointsItem3[bj_forLoopAIndex]=udg_PointsItem3[bj_forLoopAIndex]+R2I(Pow(2,3))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了超级废材彩蛋！！！")
else
endif
if HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$A2D721C5)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$11EC011D)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$7653C95A)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$3DB7B0D6)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$F8B304FF)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$1A7AF277)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$F2653EF2)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$7D9B5B70)==true and HaveSavedBoolean(YDHT,GetHandleId(ConvertedPlayer(bj_forLoopAIndex)),$91149D59)==true and xgdg_sBA[bj_forLoopAIndex]==false then
set xgdg_sBA[bj_forLoopAIndex]=true
set udg_PointsItem3[bj_forLoopAIndex]=udg_PointsItem3[bj_forLoopAIndex]+R2I(Pow(2,4))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3",udg_PointsItem3[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了赏金猎人彩蛋！！！")
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
if udg_NDXS==1 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_MzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=2 then
set xgdg_MzA[bj_forLoopAIndex]=xgdg_MzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL01",xgdg_MzA[bj_forLoopAIndex])
else
endif
if udg_WJS==1 and xgdg_gAA[bj_forLoopAIndex]==false then
set xgdg_gAA[bj_forLoopAIndex]=true
set udg_PointsItem1[bj_forLoopAIndex]=udg_PointsItem1[bj_forLoopAIndex]+R2I(Pow(2,19))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH1",udg_PointsItem1[bj_forLoopAIndex])
call SetPlayerTechResearchedSwap($52303251,1,ConvertedPlayer(bj_forLoopAIndex))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),YDWEGetPlayerColorString(Player(0),YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了单打独斗彩蛋，下一局激活！！！"))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==2 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_NzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=2 then
set xgdg_NzA[bj_forLoopAIndex]=xgdg_NzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL02",xgdg_NzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==3 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_mzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=2 then
set xgdg_mzA[bj_forLoopAIndex]=xgdg_mzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL03",xgdg_mzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==4 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_OzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=2 then
set xgdg_OzA[bj_forLoopAIndex]=xgdg_OzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL04",xgdg_OzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==5 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_lzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=4 then
set xgdg_lzA[bj_forLoopAIndex]=xgdg_lzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL05",xgdg_lzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==6 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_PzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=4 then
set xgdg_PzA[bj_forLoopAIndex]=xgdg_PzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL06",xgdg_PzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==7 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_kzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=4 then
set xgdg_kzA[bj_forLoopAIndex]=xgdg_kzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL07",xgdg_kzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==8 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_QzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=4 then
set xgdg_QzA[bj_forLoopAIndex]=xgdg_QzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL08",xgdg_QzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==9 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_nzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=6 then
set xgdg_nzA[bj_forLoopAIndex]=xgdg_nzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL09",xgdg_nzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==10 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_jzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set xgdg_jzA[bj_forLoopAIndex]=xgdg_jzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL10",xgdg_jzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==11 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_RzA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set xgdg_RzA[bj_forLoopAIndex]=xgdg_RzA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL11",xgdg_RzA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==12 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_izA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set xgdg_izA[bj_forLoopAIndex]=xgdg_izA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL12",xgdg_izA[bj_forLoopAIndex])
else
endif
if udg_WJS==1 and xgdg_UzA[bj_forLoopAIndex]==false then
set xgdg_UzA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,7))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(ConvertedPlayer(bj_forLoopAIndex)),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了独孤求败彩蛋！！！")
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==14 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_CBA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=12 then
set xgdg_CBA[bj_forLoopAIndex]=xgdg_CBA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL14",xgdg_CBA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
if udg_NDXS==15 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_yBA[bj_forLoopAIndex]<=20 and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=12 then
set xgdg_yBA[bj_forLoopAIndex]=xgdg_yBA[bj_forLoopAIndex]+1
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL15",xgdg_yBA[bj_forLoopAIndex])
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
endfunction
function InitTrig____________________217 takes nothing returns nothing
set gg_trg____________________217=CreateTrigger()
call TriggerAddAction(gg_trg____________________217,function Trig____________________217Actions)
endfunction
function Trig______________________________053Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4870616C
endfunction
function Trig______________________________053Actions takes nothing returns nothing
local integer ydul_a
if udg_NDXS!=13 then
set ydul_a=1
loop
exitwhen ydul_a>10
call YDWEPolledWaitNull(1.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"还有"+I2S(11-ydul_a)+"秒游戏结束！！！"))
set ydul_a=ydul_a+1
endloop
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(4))],GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))]),null,YDWEGetPlayerColorString(Player(4),"你们没有成功保护好初代帝尊传人，游戏失败！！！"),bj_TIMETYPE_ADD,0,true)
call CinematicModeBJ(false,GetPlayersAll())
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call CustomDefeatBJ(ConvertedPlayer(bj_forLoopBIndex),"游戏失败!")
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
else
set ydul_a=1
loop
exitwhen ydul_a>10
call YDWEPolledWaitNull(1.)
call DisplayTimedTextToForce(GetPlayersAll(),10.,YDWEGetPlayerColorString(Player(0),"还有"+I2S(11-ydul_a)+"秒游戏结束！！！"))
set ydul_a=ydul_a+1
endloop
call CinematicModeBJ(true,GetPlayersAll())
call TransmissionFromUnitWithNameBJ(GetPlayersAll(),udg_DW[GetConvertedPlayerId(Player(4))],GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))]),null,YDWEGetPlayerColorString(Player(4),"无尽模式成功了！！！"),bj_TIMETYPE_ADD,0,true)
call CinematicModeBJ(false,GetPlayersAll())
call CustomVictoryBJ(ConvertedPlayer(1),true,true)
call CustomVictoryBJ(ConvertedPlayer(2),true,true)
call CustomVictoryBJ(ConvertedPlayer(3),true,true)
call CustomVictoryBJ(ConvertedPlayer(4),true,true)
endif
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig______________________________053 takes nothing returns nothing
set gg_trg______________________________053=CreateTrigger()
call DisableTrigger(gg_trg______________________________053)
call TriggerRegisterAnyUnitEventBJ(gg_trg______________________________053,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg______________________________053,Condition(function Trig______________________________053Conditions))
call TriggerAddAction(gg_trg______________________________053,function Trig______________________________053Actions)
endfunction
function Trig_______________________________068Conditions takes nothing returns boolean
return GetDyingUnit()==udg_DW[GetConvertedPlayerId(Player(4))]
endfunction
function Trig_______________________________068Func009T takes nothing returns nothing
call SetUnitInvulnerable(udg_DW[GetConvertedPlayerId(Player(4))],false)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_______________________________068Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(udg_DW[GetConvertedPlayerId(Player(4))]))
call ReviveHeroLoc(udg_DW[GetConvertedPlayerId(Player(4))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),true)
call SetUnitInvulnerable(udg_DW[GetConvertedPlayerId(Player(4))],true)
call YDWETimerDestroyEffect(10.,AddSpecialEffectTarget("war3mapImported\\[AKE]war3AKE.com - 3089005175819055203953915.mdl",udg_DW[GetConvertedPlayerId(Player(4))],"origin"))
call DisplayTextToForce(GetPlayersAll(),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])+"死亡后，消耗了唯一一次重生的机会，获得持续30秒的无敌！")
call DisplayTextToForce(GetPlayersAll(),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])+"死亡后，消耗了唯一一次重生的机会，获得持续30秒的无敌！")
call DisplayTextToForce(GetPlayersAll(),GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])+"死亡后，消耗了唯一一次重生的机会，获得持续30秒的无敌！")
call EnableTrigger(gg_trg______________________________053)
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,30.,false,function Trig_______________________________068Func009T)
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig_______________________________068 takes nothing returns nothing
set gg_trg_______________________________068=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_______________________________068,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg_______________________________068,Condition(function Trig_______________________________068Conditions))
call TriggerAddAction(gg_trg_______________________________068,function Trig_______________________________068Actions)
endfunction
function Trig_____________25_______________066Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_DW[GetConvertedPlayerId(Player(4))]
endfunction
function Trig_____________25_______________066Func003Func001Func004T takes nothing returns nothing
call SetUnitInvulnerable(udg_DW[GetConvertedPlayerId(Player(4))],false)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig_____________25_______________066Actions takes nothing returns nothing
local timer ydl_timer
if GetUnitLifePercent(udg_DW[GetConvertedPlayerId(Player(4))])<=25. then
if GetUnitState(udg_DW[GetConvertedPlayerId(Player(4))],UNIT_STATE_LIFE)>0. then
if udg_BS<=3 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_FBA[bj_forLoopAIndex]==false then
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.1
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.1
set xgdg_FBA[bj_forLoopAIndex]=true
set udg_PointsItem2[bj_forLoopAIndex]=udg_PointsItem2[bj_forLoopAIndex]+R2I(Pow(2,25))
call DzAPI_Map_StoreInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2",udg_PointsItem2[bj_forLoopAIndex])
call SetPlayerTechResearchedSwap($52303445,1,ConvertedPlayer(bj_forLoopAIndex))
call DisplayTimedTextToPlayer(ConvertedPlayer(bj_forLoopAIndex),0,0,5.,"恭喜大家探索到了同归于尽彩蛋！！！")
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
call YDWETimerDestroyEffect(30.,AddSpecialEffectTarget("war3mapImported\\[AKE]war3AKE.com - 3089005175819055203953915.mdl",udg_DW[GetConvertedPlayerId(Player(4))],"origin"))
call SetUnitInvulnerable(udg_DW[GetConvertedPlayerId(Player(4))],true)
set ydl_timer=CreateTimer()
call TimerStart(ydl_timer,30.,false,function Trig_____________25_______________066Func003Func001Func004T)
else
endif
call DestroyTrigger(GetTriggeringTrigger())
else
endif
set ydl_timer=null
endfunction
function InitTrig_____________25_______________066 takes nothing returns nothing
set gg_trg_____________25_______________066=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_____________25_______________066,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_____________25_______________066,Condition(function Trig_____________25_______________066Conditions))
call TriggerAddAction(gg_trg_____________25_______________066,function Trig_____________25_______________066Actions)
endfunction
function Trig_______________________________136Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_DW[GetConvertedPlayerId(Player(4))]
endfunction
function Trig_______________________________136Actions takes nothing returns nothing
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"")+(GetUnitName(udg_DW[GetConvertedPlayerId(Player(4))])+YDWEGetPlayerColorString(Player(0),"的生命值还剩下")+(R2S(GetUnitLifePercent(udg_DW[GetConvertedPlayerId(Player(4))]))+"%")))
endfunction
function InitTrig_______________________________136 takes nothing returns nothing
set gg_trg_______________________________136=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_______________________________136,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg_______________________________136,Condition(function Trig_______________________________136Conditions))
call TriggerAddAction(gg_trg_______________________________136,function Trig_______________________________136Actions)
endfunction
function Trig_______________________________012Actions takes nothing returns nothing
call CreateMultiboardBJ(6,5,YDWEGetPlayerColorString(Player(5),"一剑破空")+YDWEGetPlayerColorString(Player(0),"正式版")+(YDWEGetPlayerColorString(Player(4),"【N")+I2S(udg_NDXS)+YDWEGetPlayerColorString(Player(4),"】")))
call MultiboardDisplay(bj_lastCreatedMultiboard,true)
call MultiboardMinimizeBJ(true,GetLastCreatedMultiboard())
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,0),YDWEGetPlayerColorString(Player(4),"玩家名称"))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,1),YDWEGetPlayerColorString(Player(4),"金币数量"))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,2),YDWEGetPlayerColorString(Player(4),"木材数量"))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,3),YDWEGetPlayerColorString(Player(4),"杀敌数量"))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,4),YDWEGetPlayerColorString(Player(4),"修炼境界"))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,0,5),YDWEGetPlayerColorString(Player(4),"复活时间"))
call MultiboardSetItemsStyle(bj_lastCreatedMultiboard,true,false)
set bj_forLoopAIndex=0
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set bj_forLoopBIndex=0
set bj_forLoopBIndexEnd=5
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
call YDWEMultiboardSetItemWidthBJNull(GetLastCreatedMultiboard(),bj_forLoopAIndex,bj_forLoopBIndex,2.75)
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,1),I2S(GetPlayerState(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_GOLD)))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,2),I2S(GetPlayerState(ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,3),I2S(udg_SDS[bj_forLoopAIndex]))
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,4),"凡人")
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,5),I2S(udg_YXFH[bj_forLoopAIndex]))
if GetPlayerSlotState(ConvertedPlayer(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING then
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,0),YDWEGetPlayerColorString(ConvertedPlayer(bj_forLoopAIndex),GetPlayerName(ConvertedPlayer(bj_forLoopAIndex))))
else
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,bj_forLoopAIndex,0),YDWEGetPlayerColorString(ConvertedPlayer(bj_forLoopAIndex),"无"))
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig_______________________________012 takes nothing returns nothing
set gg_trg_______________________________012=CreateTrigger()
call TriggerAddAction(gg_trg_______________________________012,function Trig_______________________________012Actions)
endfunction
function Trig________________________________006Conditions takes nothing returns boolean
return GetPlayerController(GetTriggerPlayer())==MAP_CONTROL_USER
endfunction
function Trig________________________________006Actions takes nothing returns nothing
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetTriggerPlayer()),1),I2S(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)))
if xgdg_tBA[GetConvertedPlayerId(GetTriggerPlayer())]==false and GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)>=800000 then
set xgdg_tBA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,29))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())])
call SetPlayerTechResearchedSwap($52303448,1,GetTriggerPlayer())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了财迷心窍彩蛋！！！")
else
endif
endfunction
function InitTrig________________________________006 takes nothing returns nothing
set gg_trg________________________________006=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(0),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(1),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(2),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(3),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(4),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(5),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(6),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(7),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(8),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(9),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(10),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(11),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(12),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(13),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(14),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________006,Player(15),PLAYER_STATE_RESOURCE_GOLD,GREATER_THAN_OR_EQUAL,1.)
call TriggerAddCondition(gg_trg________________________________006,Condition(function Trig________________________________006Conditions))
call TriggerAddAction(gg_trg________________________________006,function Trig________________________________006Actions)
endfunction
function Trig________________________________116Conditions takes nothing returns boolean
return GetPlayerController(GetTriggerPlayer())==MAP_CONTROL_USER
endfunction
function Trig________________________________116Actions takes nothing returns nothing
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetTriggerPlayer()),2),I2S(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)))
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)>=500000 and xgdg_iAA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_iAA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_SDmc[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SDmc[GetConvertedPlayerId(GetTriggerPlayer())]+1
set udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,24))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())])
call SetPlayerTechResearchedSwap($52303249,1,GetTriggerPlayer())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了富可敌国彩蛋！！！")
else
endif
if GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)>=$F4240 and xgdg_CzA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_CzA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_SDmc[GetConvertedPlayerId(GetTriggerPlayer())]=udg_SDmc[GetConvertedPlayerId(GetTriggerPlayer())]+2
set udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,25))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())])
call SetPlayerTechResearchedSwap($52303259,1,GetTriggerPlayer())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了富甲天下彩蛋！！！")
else
endif
endfunction
function InitTrig________________________________116 takes nothing returns nothing
set gg_trg________________________________116=CreateTrigger()
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(0),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(1),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(2),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(3),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(4),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(5),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(6),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(7),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(8),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(9),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(10),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(11),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(12),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(13),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(14),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerRegisterPlayerStateEvent(gg_trg________________________________116,Player(15),PLAYER_STATE_RESOURCE_LUMBER,GREATER_THAN_OR_EQUAL,1.)
call TriggerAddCondition(gg_trg________________________________116,Condition(function Trig________________________________116Conditions))
call TriggerAddAction(gg_trg________________________________116,function Trig________________________________116Actions)
endfunction
function Trig_______________________________035Conditions takes nothing returns boolean
return GetUnitTypeId(GetTriggerUnit())==$68706561
endfunction
function Trig_______________________________035Func005Func003A takes nothing returns nothing
if CheckItemStatus(GetEnumItem(),bj_ITEM_STATUS_HIDDEN)==false then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$23E7B98D,GetItemTypeId(GetEnumItem()))
call SaveItemHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C18F437A,GetEnumItem())
call UnitAddItemByIdSwapped(LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$23E7B98D),GetTriggerUnit())
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(LoadItemHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C18F437A)))
call RemoveItem(LoadItemHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C18F437A))
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$23E7B98D,GetItemTypeId(null))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
endfunction
function Trig_______________________________035Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetSpellAbilityId()==$41303356 then
if IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_TYPE_DEAD)==false and UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],0)==null or UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],1)==null or UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],2)==null or UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],3)==null or UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],4)==null or UnitItemInSlot(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],5)==null then
call UnitAddItemByIdSwapped(GetItemTypeId(GetSpellTargetItem()),udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetItemCharges(GetLastCreatedItem(),GetItemCharges(GetSpellTargetItem()))
call RemoveItem(GetSpellTargetItem())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"宝宝传送物品给英雄了！！！"))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),3.,YDWEGetPlayerColorString(Player(0),"英雄身上的物品满了，无法传送！"))
call DoNothing()
endif
else
call DoNothing()
endif
if GetSpellAbilityId()==$41303355 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
call SaveRectHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B259B269,RectFromCenterSizeBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),1000.,1000.))
call EnumItemsInRectBJ(LoadRectHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B259B269),function Trig_______________________________035Func005Func003A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call RemoveRect(LoadRectHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$B259B269))
else
call DoNothing()
endif
if GetSpellAbilityId()==$4130464E and GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=10000 then
call AdjustPlayerStateBJ(-10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),GetUnitName(GetTriggerUnit())+"成功兑换了1点木材！")
else
endif
if GetSpellAbilityId()==$41303357 and GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)>=100000 then
call AdjustPlayerStateBJ(-100000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),GetUnitName(GetTriggerUnit())+"成功兑换了10点木材！")
else
endif
if GetSpellAbilityId()==$41304258 and GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1 then
call AdjustPlayerStateBJ(-1,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),GetUnitName(GetTriggerUnit())+"成功兑换了10000金币！")
else
endif
if GetSpellAbilityId()==$41303354 and GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(100000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),GetUnitName(GetTriggerUnit())+"成功兑换了100000金币！")
else
endif
if GetSpellAbilityId()==$41303358 then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call UnitRemoveItemFromSlotSwapped(bj_forLoopAIndex,GetTriggerUnit())
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
call DoNothing()
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig_______________________________035 takes nothing returns nothing
set gg_trg_______________________________035=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_______________________________035,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg_______________________________035,Condition(function Trig_______________________________035Conditions))
call TriggerAddAction(gg_trg_______________________________035,function Trig_______________________________035Actions)
endfunction
function Trig____________________027Conditions takes nothing returns boolean
return IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________027Actions takes nothing returns nothing
if GetUnitAbilityLevel(GetKillingUnit(),$41303748)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,10)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41303744)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,20)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41303746)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,30)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41303747)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,40)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41303745)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,50)
else
endif
endfunction
function InitTrig____________________027 takes nothing returns nothing
set gg_trg____________________027=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________027,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________027,Condition(function Trig____________________027Conditions))
call TriggerAddAction(gg_trg____________________027,function Trig____________________027Actions)
endfunction
function Trig____________________028Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________028Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$4130374A)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*.4,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130374B)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),350.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*.8,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130374C)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),400.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*1.2,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130374D)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),450.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*1.6,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303749)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*2.,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________028 takes nothing returns nothing
set gg_trg____________________028=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________028,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________028,Condition(function Trig____________________028Conditions))
call TriggerAddAction(gg_trg____________________028,function Trig____________________028Actions)
endfunction
function Trig____________________029Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false
endfunction
function Trig____________________029Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41303751)>=1 then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.15,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=25. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*2.5,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303750)>=1 then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.22,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=25. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),350.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*4.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130374F)>=1 then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.3,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=25. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),400.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*5.5,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303752)>=1 then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.45,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=25. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),450.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*7.,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130374E)>=1 then
if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.15,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=25. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*8.5,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________029 takes nothing returns nothing
set gg_trg____________________029=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________029,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________029,Condition(function Trig____________________029Conditions))
call TriggerAddAction(gg_trg____________________029,function Trig____________________029Actions)
endfunction
function Trig____________________032Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________032Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$4130394E)>=1 then
call YDWESetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))+1)
if YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))>=5 then
call YDWESetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),0)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130394D)>=1 then
call YDWESetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))+1)
if YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))>=5 then
call YDWESetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),0)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303931)>=1 then
call YDWESetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))+1)
if YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))>=5 then
call YDWESetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),0)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303936)>=1 then
call YDWESetLocalVariableIntegerArray("d",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),YDWEGetLocalVariableIntegerArray("d",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))+1)
if YDWEGetLocalVariableIntegerArray("d",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))>=5 then
call YDWESetLocalVariableIntegerArray("d",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),0)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*3.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304143)>=1 then
call YDWESetLocalVariableIntegerArray("e",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),YDWEGetLocalVariableIntegerArray("e",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))+1)
if YDWEGetLocalVariableIntegerArray("e",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())))>=5 then
call YDWESetLocalVariableIntegerArray("e",GetConvertedPlayerId(GetOwningPlayer(GetAttacker())),0)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*4.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________032 takes nothing returns nothing
set gg_trg____________________032=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________032,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________032,Condition(function Trig____________________032Conditions))
call TriggerAddAction(gg_trg____________________032,function Trig____________________032Actions)
endfunction
function Trig____________________034Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________034Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$4130414C)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),300.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(udg_CW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130414B)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),350.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(udg_CW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*.3,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130414A)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),400.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(udg_CW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*.4,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304149)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),450.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(udg_CW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130414D)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(udg_CW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*.6,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________034 takes nothing returns nothing
set gg_trg____________________034=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________034,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________034,Condition(function Trig____________________034Conditions))
call TriggerAddAction(gg_trg____________________034,function Trig____________________034Actions)
endfunction
function Trig____________________030Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________030Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetUnitAbilityLevel(GetAttacker(),$41304A38)>=1 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")==3 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if YDWEGetLocalVariableInteger("i")==8 then
call YDWESetLocalVariableInteger("i",0)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnit(GetOwningPlayer(GetAttacker()),$68303139,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
call IssueImmediateOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"stomp")
call YDWETimerRemoveUnit(.5,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________030 takes nothing returns nothing
set gg_trg____________________030=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________030,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________030,Condition(function Trig____________________030Conditions))
call TriggerAddAction(gg_trg____________________030,function Trig____________________030Actions)
endfunction
function Trig____________________199Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________199Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41304B44)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*2.,ATTACK_TYPE_MELEE,DAMAGE_TYPE_MAGIC)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________199 takes nothing returns nothing
set gg_trg____________________199=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________199,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________199,Condition(function Trig____________________199Conditions))
call TriggerAddAction(gg_trg____________________199,function Trig____________________199Actions)
endfunction
function Trig____________________200Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________200Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41304B48)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroAgi(GetAttacker(),true))*2.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________200 takes nothing returns nothing
set gg_trg____________________200=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________200,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________200,Condition(function Trig____________________200Conditions))
call TriggerAddAction(gg_trg____________________200,function Trig____________________200Actions)
endfunction
function Trig____________________206Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41304B4C)>=1 then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.02,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304B50)>=1 then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.01,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetTriggerUnit(),ConvertUnitState(19)))*1.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304D53)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetTriggerUnit(),ConvertUnitState(19)))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________206 takes nothing returns nothing
set gg_trg____________________206=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________206,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg____________________206,function Trig____________________206Actions)
endfunction
function Trig____________________207Actions takes nothing returns nothing
if GetUnitAbilityLevel(GetKillingUnit(),$41304B4C)>=1 then
if GetRandomPercentageBJ()<=100. then
call SetUnitState(GetKillingUnit(),ConvertUnitState(32),GetUnitState(GetKillingUnit(),ConvertUnitState(32))+1.)
else
call DoNothing()
endif
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41304B50)>=1 then
if GetRandomPercentageBJ()<=50. then
call SetUnitState(GetKillingUnit(),ConvertUnitState(32),GetUnitState(GetKillingUnit(),ConvertUnitState(32))+1.)
else
call DoNothing()
endif
else
endif
endfunction
function InitTrig____________________207 takes nothing returns nothing
set gg_trg____________________207=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________207,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________207,function Trig____________________207Actions)
endfunction
function Trig____________________231Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41304C56)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*4.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304D42)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*6.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304D4B)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*3.,ATTACK_TYPE_MAGIC,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________231 takes nothing returns nothing
set gg_trg____________________231=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________231,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg____________________231,function Trig____________________231Actions)
endfunction
function Trig____________________040Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304230 or GetSpellAbilityId()==$4130414F or GetSpellAbilityId()==$41304232 or GetSpellAbilityId()==$41304231 or GetSpellAbilityId()==$41304233
endfunction
function Trig____________________040Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"attack walk stand spin")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
if udg_TX==true then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303042,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),30.*I2R(bj_forLoopAIndex)))
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),GetUnitFacing(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86)),600.,.5,.01,0,false,false,false,"origin","","")
call YDWETimerRemoveUnit(.7,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))==true then
if GetUnitAbilityLevel(GetTriggerUnit(),$41304230)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130414F)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*4.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304232)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304231)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*6.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304233)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*7.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________040 takes nothing returns nothing
set gg_trg____________________040=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________040,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________040,Condition(function Trig____________________040Conditions))
call TriggerAddAction(gg_trg____________________040,function Trig____________________040Actions)
endfunction
function Trig____________________041Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304235 or GetSpellAbilityId()==$41304237 or GetSpellAbilityId()==$41304236 or GetSpellAbilityId()==$41304234 or GetSpellAbilityId()==$4130414E
endfunction
function Trig____________________041Func007T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303043,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),700.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304235)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304237)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*4.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304236)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304234)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*6.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$4130414E)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*7.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________041Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"attack slam")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call DYCleap(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),300.,DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),.4,AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),TRUE,false)
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.3,false,function Trig____________________041Func007T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________041 takes nothing returns nothing
set gg_trg____________________041=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________041,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________041,Condition(function Trig____________________041Conditions))
call TriggerAddAction(gg_trg____________________041,function Trig____________________041Actions)
endfunction
function Trig____________________096Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________096Actions takes nothing returns nothing
if GetLearnedSkill()==$41304241 then
call UnitAddAbility(GetTriggerUnit(),$53303033)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$53303033)
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35.
else
endif
if GetLearnedSkill()==$41304242 then
call UnitAddAbility(GetTriggerUnit(),$53303032)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$53303032)
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+70.
else
endif
if GetLearnedSkill()==$41304150 then
call UnitAddAbility(GetTriggerUnit(),$53303031)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$53303031)
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+105.
else
endif
if GetLearnedSkill()==$41304238 then
call UnitAddAbility(GetTriggerUnit(),$53303030)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$53303030)
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+140.
else
endif
if GetLearnedSkill()==$41304239 then
call UnitAddAbility(GetTriggerUnit(),$53303034)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$53303034)
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+175.
else
endif
endfunction
function InitTrig____________________096 takes nothing returns nothing
set gg_trg____________________096=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________096,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________096,Condition(function Trig____________________096Conditions))
call TriggerAddAction(gg_trg____________________096,function Trig____________________096Actions)
endfunction
function Trig____________________042Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),$41304241)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304242)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304150)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304238)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304239)>=1
endfunction
function Trig____________________042Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetUnitAbilityLevel(GetAttacker(),$41304241)>=1 then
if GetRandomPercentageBJ()<=8. then
if udg_TX==true then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502,CreateUnit(GetOwningPlayer(GetAttacker()),$68303049,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502))
else
endif
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F,CreateUnit(GetOwningPlayer(GetAttacker()),$68303132,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),$41304244)
call IssueTargetOrderById(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),852209,GetAttacker())
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304242)>=1 then
if GetRandomPercentageBJ()<=8. then
if udg_TX==true then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502,CreateUnit(GetOwningPlayer(GetAttacker()),$68303049,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502))
else
endif
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F,CreateUnit(GetOwningPlayer(GetAttacker()),$68303132,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),$41304243)
call IssueTargetOrderById(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),852209,GetAttacker())
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304150)>=1 then
if GetRandomPercentageBJ()<=8. then
if udg_TX==true then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502,CreateUnit(GetOwningPlayer(GetAttacker()),$68303049,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502))
else
endif
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F,CreateUnit(GetOwningPlayer(GetAttacker()),$68303132,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),$41304245)
call IssueTargetOrderById(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),852209,GetAttacker())
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304238)>=1 then
if GetRandomPercentageBJ()<=8. then
if udg_TX==true then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502,CreateUnit(GetOwningPlayer(GetAttacker()),$68303049,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502))
else
endif
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F,CreateUnit(GetOwningPlayer(GetAttacker()),$68303132,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),$41304151)
call IssueTargetOrderById(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),852209,GetAttacker())
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304239)>=1 then
if GetRandomPercentageBJ()<=8. then
if udg_TX==true then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502,CreateUnit(GetOwningPlayer(GetAttacker()),$68303049,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$EA181502))
else
endif
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F,CreateUnit(GetOwningPlayer(GetAttacker()),$68303132,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),$41304246)
call IssueTargetOrderById(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F),852209,GetAttacker())
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$21BE619F))
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________042 takes nothing returns nothing
set gg_trg____________________042=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________042,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________042,Condition(function Trig____________________042Conditions))
call TriggerAddAction(gg_trg____________________042,function Trig____________________042Actions)
endfunction
function Trig____________________043Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304249 or GetSpellAbilityId()==$41304247 or GetSpellAbilityId()==$41304155 or GetSpellAbilityId()==$4130424A or GetSpellAbilityId()==$41304248
endfunction
function Trig____________________043Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call SetUnitAnimation(GetTriggerUnit(),"spell slam")
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303045,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
if GetUnitAbilityLevel(GetTriggerUnit(),$41304249)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304247)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304155)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130424A)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304248)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________043 takes nothing returns nothing
set gg_trg____________________043=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________043,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________043,Condition(function Trig____________________043Conditions))
call TriggerAddAction(gg_trg____________________043,function Trig____________________043Actions)
endfunction
function Trig____________________072Conditions takes nothing returns boolean
return UnitHasBuffBJ(GetAttacker(),$42303041)==true
endfunction
function Trig____________________072Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$4130424E)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130424B)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*1.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130424C)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130424D)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304156)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________072 takes nothing returns nothing
set gg_trg____________________072=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________072,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________072,Condition(function Trig____________________072Conditions))
call TriggerAddAction(gg_trg____________________072,function Trig____________________072Actions)
endfunction
function Trig____________________097Actions takes nothing returns nothing
if GetLearnedSkill()==$41304250 then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
else
endif
if GetLearnedSkill()==$41304251 then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.7
else
endif
if GetLearnedSkill()==$41304252 then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+14
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.9
else
endif
if GetLearnedSkill()==$4130424F then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+16
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.1
else
endif
if GetLearnedSkill()==$41304157 then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.3
else
endif
endfunction
function InitTrig____________________097 takes nothing returns nothing
set gg_trg____________________097=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________097,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________097,function Trig____________________097Actions)
endfunction
function Trig____________________047Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),$41304250)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304251)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304252)>=1 or GetUnitAbilityLevel(GetAttacker(),$4130424F)>=1 or GetUnitAbilityLevel(GetAttacker(),$41304157)>=1
endfunction
function Trig____________________047Actions takes nothing returns nothing
if GetUnitAbilityLevel(GetAttacker(),$41304250)>=1 and GetRandomPercentageBJ()<=10 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*.1)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303046,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304251)>=1 and GetRandomPercentageBJ()<=10 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*.12)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303046,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304252)>=1 and GetRandomPercentageBJ()<=10 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*.14)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303046,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130424F)>=1 and GetRandomPercentageBJ()<=10 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*.16)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303046,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304157)>=1 and GetRandomPercentageBJ()<=10 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+GetUnitState(GetAttacker(),UNIT_STATE_LIFE)*.18)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303046,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),GetRandomDirectionDeg()))
else
endif
else
endif
endfunction
function InitTrig____________________047 takes nothing returns nothing
set gg_trg____________________047=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________047,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________047,Condition(function Trig____________________047Conditions))
call TriggerAddAction(gg_trg____________________047,function Trig____________________047Actions)
endfunction
function Trig____________________046Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304256 or GetSpellAbilityId()==$41303034 or GetSpellAbilityId()==$41304254 or GetSpellAbilityId()==$41304255 or GetSpellAbilityId()==$41304253
endfunction
function Trig____________________046Func008T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303048,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304256)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41303034)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304254)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304255)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304253)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________046Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"spell gold")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),.5,.01,0,false,false,false,"origin","Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl","")
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.5,false,function Trig____________________046Func008T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________046 takes nothing returns nothing
set gg_trg____________________046=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________046,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________046,Condition(function Trig____________________046Conditions))
call TriggerAddAction(gg_trg____________________046,function Trig____________________046Actions)
endfunction
function Trig____________________048Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304738 or GetSpellAbilityId()==$41304734 or GetSpellAbilityId()==$41304737 or GetSpellAbilityId()==$41304736 or GetSpellAbilityId()==$41304735
endfunction
function Trig____________________048Func009T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<16 then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),GetRandomReal(100.,800.),GetRandomDirectionDeg()))
if udg_TX==true then
call YDWETimerRemoveUnit(1.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303044,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A),GetRandomDirectionDeg()))
else
endif
call h__SetUnitPositionLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),1000.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304738)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304734)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*4.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304737)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304736)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*6.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304735)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*7.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
call h__SetUnitPositionLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call ShowUnit(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true)
call PauseUnit(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),false)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),"origin"))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call YDWESetLocalVariableInteger("i",0)
call SelectUnitForPlayerSingle(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________048Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"death")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("war3mapImported\\33.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"origin"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"origin"))
call ShowUnit(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),false)
call PauseUnit(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true)
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$C18F437A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig____________________048Func009T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________048 takes nothing returns nothing
set gg_trg____________________048=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________048,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________048,Condition(function Trig____________________048Conditions))
call TriggerAddAction(gg_trg____________________048,function Trig____________________048Actions)
endfunction
function Trig____________________099Actions takes nothing returns nothing
if GetLearnedSkill()==$41304330 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10.
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
else
endif
if GetLearnedSkill()==$41304333 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20.
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.6
else
endif
if GetLearnedSkill()==$41303038 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40.
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+14
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.7
else
endif
if GetLearnedSkill()==$41304332 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+80.
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+16
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.8
else
endif
if GetLearnedSkill()==$41304331 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+160.
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.9
else
endif
endfunction
function InitTrig____________________099 takes nothing returns nothing
set gg_trg____________________099=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________099,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________099,function Trig____________________099Actions)
endfunction
function Trig____________________058Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304336 or GetSpellAbilityId()==$41303039 or GetSpellAbilityId()==$41304335 or GetSpellAbilityId()==$41304334 or GetSpellAbilityId()==$41304337
endfunction
function Trig____________________058Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"spell throw")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303047,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF,GetUnitLoc(ydl_unit))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303132,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF),GetRandomDirectionDeg()))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),$41303046)
call IssueTargetOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"thunderbolt",ydl_unit)
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41304336)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41303039)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41304335)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41304334)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41304337)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________058 takes nothing returns nothing
set gg_trg____________________058=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________058,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________058,Condition(function Trig____________________058Conditions))
call TriggerAddAction(gg_trg____________________058,function Trig____________________058Actions)
endfunction
function Trig____________________061Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304344 or GetSpellAbilityId()==$41304345 or GetSpellAbilityId()==$41304343 or GetSpellAbilityId()==$41303042 or GetSpellAbilityId()==$41304346
endfunction
function Trig____________________061Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SetUnitAnimation(GetTriggerUnit(),"stand channel")
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303131,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
if GetUnitAbilityLevel(GetTriggerUnit(),$41304344)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304345)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304343)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41303042)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304346)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________061 takes nothing returns nothing
set gg_trg____________________061=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________061,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________061,Condition(function Trig____________________061Conditions))
call TriggerAddAction(gg_trg____________________061,function Trig____________________061Actions)
endfunction
function Trig____________________066Actions takes nothing returns nothing
if GetLearnedSkill()==$41304339 then
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
else
endif
if GetLearnedSkill()==$41303045 then
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
else
endif
if GetLearnedSkill()==$41304342 then
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+14
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.35
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
else
endif
if GetLearnedSkill()==$41304341 then
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+16
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.4
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
else
endif
if GetLearnedSkill()==$41304338 then
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.45
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.35
else
endif
endfunction
function InitTrig____________________066 takes nothing returns nothing
set gg_trg____________________066=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________066,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________066,function Trig____________________066Actions)
endfunction
function Trig____________________068Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304347 or GetSpellAbilityId()==$41304348 or GetSpellAbilityId()==$4130304A or GetSpellAbilityId()==$41304349 or GetSpellAbilityId()==$4130434A
endfunction
function Trig____________________068Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SetUnitAnimation(GetTriggerUnit(),"spell")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
if udg_TX==true then
call YDWETimerRemoveUnit(1.,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$6830304F,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadDissipate\\UndeadDissipate.mdl",ydl_unit,"origin"))
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(ydl_unit))
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call UnitAddAbility(bj_lastCreatedUnit,$41303046)
call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",ydl_unit)
call YDWETimerRemoveUnit(2,bj_lastCreatedUnit)
if GetUnitAbilityLevel(GetTriggerUnit(),$41304347)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304348)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130304A)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304349)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130434A)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________068 takes nothing returns nothing
set gg_trg____________________068=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________068,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________068,Condition(function Trig____________________068Conditions))
call TriggerAddAction(gg_trg____________________068,function Trig____________________068Actions)
endfunction
function Trig____________________070Conditions takes nothing returns boolean
return GetSpellAbilityId()==$4130434F or GetSpellAbilityId()==$41304352 or GetSpellAbilityId()==$41304350 or GetSpellAbilityId()==$41304351 or GetSpellAbilityId()==$4130304B
endfunction
function Trig____________________070Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SetUnitAnimation(GetTriggerUnit(),"stand gold")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
if udg_TX==true then
call YDWETimerRemoveUnit(2.,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303059,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("war3mapImported\\145.mdl",ydl_unit,"origin"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(ydl_unit))
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call UnitAddAbility(bj_lastCreatedUnit,$41303050)
call IssueTargetOrder(bj_lastCreatedUnit,"cripple",ydl_unit)
call YDWETimerRemoveUnit(2,bj_lastCreatedUnit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
if GetUnitAbilityLevel(GetTriggerUnit(),$4130434F)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304352)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304350)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304351)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130304B)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________070 takes nothing returns nothing
set gg_trg____________________070=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________070,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________070,Condition(function Trig____________________070Conditions))
call TriggerAddAction(gg_trg____________________070,function Trig____________________070Actions)
endfunction
function Trig____________________071Actions takes nothing returns nothing
if GetLearnedSkill()==$4130434D then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$4130304C then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+15.
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$4130434E then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$4130434B then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$4130434C then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig____________________071 takes nothing returns nothing
set gg_trg____________________071=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________071,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________071,function Trig____________________071Actions)
endfunction
function Trig____________________076Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),$4130434D)>=1 or GetUnitAbilityLevel(GetAttacker(),$4130304C)>=1 or GetUnitAbilityLevel(GetAttacker(),$4130434E)>=1 or GetUnitAbilityLevel(GetAttacker(),$4130434B)>=1 or GetUnitAbilityLevel(GetAttacker(),$4130434C)>=1
endfunction
function Trig____________________076Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$4130434D)>=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,50)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130304C)>=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,60)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434E)>=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,70)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434B)>=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,80)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434C)>=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,90)
else
call DoNothing()
endif
if GetRandomPercentageBJ()<=8. then
if GetUnitAbilityLevel(GetAttacker(),$4130434D)>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+5.)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130304C)>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+6.)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434E)>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+7.)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434B)>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+8.)
else
call DoNothing()
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434C)>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+9.)
else
call DoNothing()
endif
if udg_TX==true then
call YDWETimerRemoveUnit(1.,CreateUnit(GetOwningPlayer(GetAttacker()),$6830305A,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
if GetUnitAbilityLevel(GetAttacker(),$4130434D)>=1 then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130304C)>=1 then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*4.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434E)>=1 then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434B)>=1 then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*6.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$4130434C)>=1 then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroInt(GetAttacker(),true))*7.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________076 takes nothing returns nothing
set gg_trg____________________076=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________076,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________076,Condition(function Trig____________________076Conditions))
call TriggerAddAction(gg_trg____________________076,function Trig____________________076Actions)
endfunction
function Trig____________________084Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304356 or GetSpellAbilityId()==$41304355 or GetSpellAbilityId()==$41304354 or GetSpellAbilityId()==$4130334B or GetSpellAbilityId()==$41304353
endfunction
function Trig____________________084Func007T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$6830304B,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304356)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304355)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304354)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$4130334B)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304353)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________084Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"spell")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),.5,.01,0,false,false,false,"origin","","")
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.5,false,function Trig____________________084Func007T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________084 takes nothing returns nothing
set gg_trg____________________084=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________084,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________084,Condition(function Trig____________________084Conditions))
call TriggerAddAction(gg_trg____________________084,function Trig____________________084Actions)
endfunction
function Trig____________________085Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304430 or GetSpellAbilityId()==$41303447 or GetSpellAbilityId()==$41304433 or GetSpellAbilityId()==$41304431 or GetSpellAbilityId()==$41304432
endfunction
function Trig____________________085Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SetUnitAnimation(GetTriggerUnit(),"spell slam")
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$6830304C,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(ydl_unit))
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,$41303046)
call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",ydl_unit)
call YDWETimerRemoveUnit(2,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
if GetUnitAbilityLevel(GetTriggerUnit(),$41304430)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41303447)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304433)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304431)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304432)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________085 takes nothing returns nothing
set gg_trg____________________085=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________085,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________085,Condition(function Trig____________________085Conditions))
call TriggerAddAction(gg_trg____________________085,function Trig____________________085Actions)
endfunction
function Trig____________________091Actions takes nothing returns nothing
if GetLearnedSkill()==$41303551 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+.5)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
else
endif
if GetLearnedSkill()==$4130435A then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+.7)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.4
else
endif
if GetLearnedSkill()==$41304357 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+.9)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.55
else
endif
if GetLearnedSkill()==$41304358 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.1)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.7
else
endif
if GetLearnedSkill()==$41304359 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.35
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.35
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.3)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.85
else
endif
endfunction
function InitTrig____________________091 takes nothing returns nothing
set gg_trg____________________091=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________091,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________091,function Trig____________________091Actions)
endfunction
function Trig____________________094Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304152 or GetSpellAbilityId()==$41304437 or GetSpellAbilityId()==$41304436 or GetSpellAbilityId()==$41304435 or GetSpellAbilityId()==$41304434
endfunction
function Trig____________________094Func008T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303136,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304152)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304437)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304436)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304435)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304434)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call RemoveUnit(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$384C9D86))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________094Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"spell gold")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$6830304D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))))
else
endif
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),.3,.01,0,false,false,false,"origin","","")
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$384C9D86,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.3,false,function Trig____________________094Func008T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________094 takes nothing returns nothing
set gg_trg____________________094=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________094,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________094,Condition(function Trig____________________094Conditions))
call TriggerAddAction(gg_trg____________________094,function Trig____________________094Actions)
endfunction
function Trig____________________095Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304441 or GetSpellAbilityId()==$41303933 or GetSpellAbilityId()==$41304439 or GetSpellAbilityId()==$41304438 or GetSpellAbilityId()==$41304442
endfunction
function Trig____________________095Func008Func001T takes nothing returns nothing
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<100 then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),GetRandomReal(100.,600.),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(1.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$6830304E,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A),GetRandomDirectionDeg()))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________095Actions takes nothing returns nothing
local timer ydl_timer
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,$41304A44)
call IssueImmediateOrder(bj_lastCreatedUnit,"stomp")
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
if udg_TX==true then
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$C18F437A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.01,true,function Trig____________________095Func008Func001T)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),$41304441)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*10.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41303933)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*12.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304439)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*14.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304438)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*16.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304442)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*18.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________095 takes nothing returns nothing
set gg_trg____________________095=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________095,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________095,Condition(function Trig____________________095Conditions))
call TriggerAddAction(gg_trg____________________095,function Trig____________________095Actions)
endfunction
function Trig____________________100Actions takes nothing returns nothing
if GetLearnedSkill()==$41304446 then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.)
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
else
endif
if GetLearnedSkill()==$41303932 then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.2)
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.6
else
endif
if GetLearnedSkill()==$41304444 then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.4)
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+14
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.7
else
endif
if GetLearnedSkill()==$41304445 then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.6)
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+16
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.8
else
endif
if GetLearnedSkill()==$41304443 then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(81),GetUnitState(GetTriggerUnit(),ConvertUnitState(81))+1.8)
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.9
else
endif
endfunction
function InitTrig____________________100 takes nothing returns nothing
set gg_trg____________________100=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________100,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________100,function Trig____________________100Actions)
endfunction
function Trig____________________101Conditions takes nothing returns boolean
return GetSpellAbilityId()==$4130444F or GetSpellAbilityId()==$41304158 or GetSpellAbilityId()==$4130444E or GetSpellAbilityId()==$4130444D or GetSpellAbilityId()==$4130444C
endfunction
function Trig____________________101Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992,GetUnitLoc(GetTriggerUnit()))
if udg_TX==true then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992),256,60.*I2R(bj_forLoopAIndex)))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303055,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2),0))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
else
endif
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992))
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303055,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444F)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304158)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*1.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444E)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444D)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444C)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________101 takes nothing returns nothing
set gg_trg____________________101=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________101,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________101,Condition(function Trig____________________101Conditions))
call TriggerAddAction(gg_trg____________________101,function Trig____________________101Actions)
endfunction
function Trig____________________102Conditions takes nothing returns boolean
return GetSpellAbilityId()==$4130444B or GetSpellAbilityId()==$4130444A or GetSpellAbilityId()==$41304448 or GetSpellAbilityId()==$41304449 or GetSpellAbilityId()==$41304159
endfunction
function Trig____________________102Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992,GetUnitLoc(GetTriggerUnit()))
if udg_TX==true then
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=6
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992),256,60.*I2R(bj_forLoopAIndex)))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303058,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2),0))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$13F9E9E2))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2D1E4992))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303058,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF,GetUnitLoc(ydl_unit))
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,$41303046)
call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",ydl_unit)
call YDWETimerRemoveUnit(2,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444B)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$4130444A)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*1.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304448)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304449)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetTriggerUnit(),$41304159)>=1 then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________102 takes nothing returns nothing
set gg_trg____________________102=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________102,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________102,Condition(function Trig____________________102Conditions))
call TriggerAddAction(gg_trg____________________102,function Trig____________________102Actions)
endfunction
function Trig____________________103Actions takes nothing returns nothing
if GetLearnedSkill()==$41303934 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+100.
else
endif
if GetLearnedSkill()==$41303434 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.12
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+12
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+200.
else
endif
if GetLearnedSkill()==$41303937 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.14
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+14
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+300.
else
endif
if GetLearnedSkill()==$41304447 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.16
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+16
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+400.
else
endif
if GetLearnedSkill()==$4130415A then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.18
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+500.
else
endif
endfunction
function InitTrig____________________103 takes nothing returns nothing
set gg_trg____________________103=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________103,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________103,function Trig____________________103Actions)
endfunction
function Trig____________________031Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304A52 or GetSpellAbilityId()==$41304A53 or GetSpellAbilityId()==$41304A54 or GetSpellAbilityId()==$41304A34 or GetSpellAbilityId()==$41304A51
endfunction
function Trig____________________031Func008T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC)),.1,.01,0,false,false,false,"origin","","")
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303052,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC)),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A52)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A53)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A54)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A34)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A51)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9FDB62AC))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________031Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"attack")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9FDB62AC,GetSpellTargetLoc())
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303141,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9FDB62AC)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9FDB62AC)),.2,.01,0,false,false,false,"origin","","")
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9FDB62AC,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9FDB62AC))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.2,false,function Trig____________________031Func008T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________031 takes nothing returns nothing
set gg_trg____________________031=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________031,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________031,Condition(function Trig____________________031Conditions))
call TriggerAddAction(gg_trg____________________031,function Trig____________________031Actions)
endfunction
function Trig____________________182Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304A35 or GetSpellAbilityId()==$41304A49 or GetSpellAbilityId()==$41304A4A or GetSpellAbilityId()==$41304A4B or GetSpellAbilityId()==$41304A4C
endfunction
function Trig____________________182Func009Func004Func005003003 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true
endfunction
function Trig____________________182Func009Func004Func006A takes nothing returns nothing
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A35)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A49)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A4A)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A4B)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304A4C)>=1 then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endfunction
function Trig____________________182Func009T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))
call YDWETimerRemoveUnit(2.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303142,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),GetRandomDirectionDeg()))
call YDWESetLocalVariableReal("R",YDWEGetLocalVariableReal("R")+1.)
if YDWEGetLocalVariableReal("R")<=25. then
call SaveGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$190204BA,YDWEGetUnitsInRangeOfLocMatchingNull(600.,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D),Condition(function Trig____________________182Func009Func004Func005003003)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$190204BA),function Trig____________________182Func009Func004Func006A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$190204BA))
else
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A1614B4D))
call YDWESetLocalVariableReal("R",0.)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________182Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SetUnitAnimation(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"attack slam")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call YDWETimerDestroyEffect(.5,AddSpecialEffectTarget("war3mapImported\\[AKE]war3AKE.com - 0091460225922940154371374.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"origin"))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),600.,30.*I2R(bj_forLoopAIndex)))
call YDWETimerDestroyEffect(.2,AddSpecialEffectLoc("AZ_Goods_Eul's Scepter of Divinity(3).mdl",LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$A1614B4D,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call SaveGroupHandle(YDLOC,GetHandleId(ydl_timer),$190204BA,LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$190204BA))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.2,true,function Trig____________________182Func009T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________182 takes nothing returns nothing
set gg_trg____________________182=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________182,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________182,Condition(function Trig____________________182Conditions))
call TriggerAddAction(gg_trg____________________182,function Trig____________________182Actions)
endfunction
function Trig____________________183Actions takes nothing returns nothing
if GetLearnedSkill()==$41304A35 then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$41304A49 then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$41304A4A then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$41304A4B then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
else
endif
if GetLearnedSkill()==$41304A4C then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig____________________183 takes nothing returns nothing
set gg_trg____________________183=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________183,EVENT_PLAYER_HERO_SKILL)
call TriggerAddAction(gg_trg____________________183,function Trig____________________183Actions)
endfunction
function Trig____________________063Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B45
endfunction
function Trig____________________063Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303145,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("[AKE]war3AKE.com - 7346631555015891574397936.mdl",GetTriggerUnit(),"origin"))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*20.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________063 takes nothing returns nothing
set gg_trg____________________063=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________063,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________063,Condition(function Trig____________________063Conditions))
call TriggerAddAction(gg_trg____________________063,function Trig____________________063Actions)
endfunction
function Trig____________________197Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B46
endfunction
function Trig____________________197Func003T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<50 then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),GetRandomReal(100.,600.),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303147,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
else
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________197Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$C18F437A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig____________________197Func003T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________197 takes nothing returns nothing
set gg_trg____________________197=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________197,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________197,Condition(function Trig____________________197Conditions))
call TriggerAddAction(gg_trg____________________197,function Trig____________________197Actions)
endfunction
function Trig____________________198Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304B47
endfunction
function Trig____________________198Actions takes nothing returns nothing
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________198 takes nothing returns nothing
set gg_trg____________________198=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________198,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________198,Condition(function Trig____________________198Conditions))
call TriggerAddAction(gg_trg____________________198,function Trig____________________198Actions)
endfunction
function Trig____________________201Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B49
endfunction
function Trig____________________201Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetSpellTargetLoc())
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303143,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))))
call YDWETimerPatternRushSlide(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)),800.,.25,.01,0,false,false,false,"origin","Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl","")
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303148,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),0))
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroAgi(GetTriggerUnit(),true))*20.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________201 takes nothing returns nothing
set gg_trg____________________201=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________201,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________201,Condition(function Trig____________________201Conditions))
call TriggerAddAction(gg_trg____________________201,function Trig____________________201Actions)
endfunction
function Trig____________________202Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304D32
endfunction
function Trig____________________202Actions takes nothing returns nothing
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303148,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
endfunction
function InitTrig____________________202 takes nothing returns nothing
set gg_trg____________________202=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________202,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________202,Condition(function Trig____________________202Conditions))
call TriggerAddAction(gg_trg____________________202,function Trig____________________202Actions)
endfunction
function Trig____________________204Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),$41304B4B)>=1 and UnitHasBuffBJ(GetAttacker(),$42303054)==true
endfunction
function Trig____________________204Actions takes nothing returns nothing
if GetRandomPercentageBJ()<=35. then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.01,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function InitTrig____________________204 takes nothing returns nothing
set gg_trg____________________204=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________204,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________204,Condition(function Trig____________________204Conditions))
call TriggerAddAction(gg_trg____________________204,function Trig____________________204Actions)
endfunction
function Trig____________________203Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304B4B
endfunction
function Trig____________________203Actions takes nothing returns nothing
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________203 takes nothing returns nothing
set gg_trg____________________203=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________203,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________203,Condition(function Trig____________________203Conditions))
call TriggerAddAction(gg_trg____________________203,function Trig____________________203Actions)
endfunction
function Trig____________________208Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B4D
endfunction
function Trig____________________208Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$6830314B,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303146,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*30.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________208 takes nothing returns nothing
set gg_trg____________________208=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________208,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________208,Condition(function Trig____________________208Conditions))
call TriggerAddAction(gg_trg____________________208,function Trig____________________208Actions)
endfunction
function Trig____________________209Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B4E
endfunction
function Trig____________________209Func006T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<50 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476)),1000.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$BA272FB6,GetUnitLoc(ydl_unit))
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$F16A8A3E,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$BA272FB6),10.,AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$BA272FB6),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))))
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))+I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))+I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true)))*.3,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("27.hy1.mdl",ydl_unit,"origin"))
call h__SetUnitPositionLoc(ydl_unit,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$F16A8A3E))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$F16A8A3E))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$BA272FB6))
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________209Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call YDWETimerRemoveUnit(5.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$6830314A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
call YDWETimerRemoveUnit(5.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$6830314A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),GetRandomDirectionDeg()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$ECC38EC2,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),500.,30.*I2R(bj_forLoopAIndex)))
call YDWETimerRemoveUnit(5.,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$6830314A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$ECC38EC2),GetRandomDirectionDeg()))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$ECC38EC2))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$F16A8A3E,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F16A8A3E))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$BA272FB6,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$BA272FB6))
call TimerStart(ydl_timer,.1,true,function Trig____________________209Func006T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________209 takes nothing returns nothing
set gg_trg____________________209=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________209,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________209,Condition(function Trig____________________209Conditions))
call TriggerAddAction(gg_trg____________________209,function Trig____________________209Actions)
endfunction
function Trig____________________210Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304B4F
endfunction
function Trig____________________210Actions takes nothing returns nothing
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+3.
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.5
endfunction
function InitTrig____________________210 takes nothing returns nothing
set gg_trg____________________210=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________210,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________210,Condition(function Trig____________________210Conditions))
call TriggerAddAction(gg_trg____________________210,function Trig____________________210Actions)
endfunction
function Trig____________________211Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B51
endfunction
function Trig____________________211Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$6830314C,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303132,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),$41304B55)
call IssueImmediateOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"stomp")
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*2.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________211 takes nothing returns nothing
set gg_trg____________________211=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________211,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________211,Condition(function Trig____________________211Conditions))
call TriggerAddAction(gg_trg____________________211,function Trig____________________211Actions)
endfunction
function Trig____________________212Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304B52
endfunction
function Trig____________________212Func002T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<30 and IsUnitType(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),UNIT_TYPE_DEAD)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$6830314D,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________212Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig____________________212Func002T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________212 takes nothing returns nothing
set gg_trg____________________212=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________212,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________212,Condition(function Trig____________________212Conditions))
call TriggerAddAction(gg_trg____________________212,function Trig____________________212Actions)
endfunction
function Trig____________________213Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304B54
endfunction
function Trig____________________213Actions takes nothing returns nothing
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2.
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2.
endfunction
function InitTrig____________________213 takes nothing returns nothing
set gg_trg____________________213=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________213,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________213,Condition(function Trig____________________213Conditions))
call TriggerAddAction(gg_trg____________________213,function Trig____________________213Actions)
endfunction
function Trig____________________218Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304C43
endfunction
function Trig____________________218Func015T takes nothing returns nothing
call h__SetUnitPositionLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$6830314E,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A),0))
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$2E1BF0CA),I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))*15.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("[AKE]war3AKE.com - 1626657019080435901560399.mdx",LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A04A230),"origin"))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C18F437A))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$F6952DAF))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________218Func016T takes nothing returns nothing
call UnitRemoveAbility(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$A04A230),$41304C46)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endfunction
function Trig____________________218Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"hand"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"food"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"real"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"weapon"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"origin"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"hand left"))
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),"right left"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A04A230,GetSpellTargetUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A04A230)))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),100.,AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$6830314E,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A04A230),$41304C46)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$2E1BF0CA,GetSpellTargetUnit())
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$C18F437A,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$F6952DAF,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$A04A230,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A04A230))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.5,false,function Trig____________________218Func015T)
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$A04A230,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A04A230))
call TimerStart(ydl_timer,5.,false,function Trig____________________218Func016T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________218 takes nothing returns nothing
set gg_trg____________________218=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________218,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________218,Condition(function Trig____________________218Conditions))
call TriggerAddAction(gg_trg____________________218,function Trig____________________218Actions)
endfunction
function Trig____________________223Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304C44
endfunction
function Trig____________________223Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),700.,30.*I2R(bj_forLoopAIndex)))
call h__CreateNUnitsAtLoc(1,$6830314F,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call YDWETimerPatternRushSlide(bj_lastCreatedUnit,AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)),DistanceBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A)),.5,.01,0,false,false,false,"origin","az_goods_force staff(3).mdl","")
call YDWETimerRemoveUnit(2,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303149,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),0))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnit(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303132,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),0))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),$41304C47)
call IssueImmediateOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"thunderclap")
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),700.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D),ConvertUnitState(19)))*7.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________223 takes nothing returns nothing
set gg_trg____________________223=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________223,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________223,Condition(function Trig____________________223Conditions))
call TriggerAddAction(gg_trg____________________223,function Trig____________________223Actions)
endfunction
function Trig____________________224Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304C45
endfunction
function Trig____________________224Actions takes nothing returns nothing
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+188.
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________224 takes nothing returns nothing
set gg_trg____________________224=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________224,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________224,Condition(function Trig____________________224Conditions))
call TriggerAddAction(gg_trg____________________224,function Trig____________________224Actions)
endfunction
function Trig____________________225Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitAbilityLevel(GetAttacker(),$41304C45)>=1
endfunction
function Trig____________________225Actions takes nothing returns nothing
if GetUnitLifePercent(GetTriggerUnit())<=70. then
call UnitDamageTargetBJ(gg_unit_n00D_0152,GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetTriggerUnit(),ConvertUnitState(19)))*1.2,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetRandomPercentageBJ()<=50. then
call UnitDamageTargetBJ(gg_unit_n00D_0152,GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.02,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endfunction
function InitTrig____________________225 takes nothing returns nothing
set gg_trg____________________225=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________225,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________225,Condition(function Trig____________________225Conditions))
call TriggerAddAction(gg_trg____________________225,function Trig____________________225Actions)
endfunction
function Trig____________________226Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304C57
endfunction
function Trig____________________226Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),700.,30.*I2R(bj_forLoopAIndex)))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303150,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),700.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroInt(GetTriggerUnit(),true))*25.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________226 takes nothing returns nothing
set gg_trg____________________226=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________226,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________226,Condition(function Trig____________________226Conditions))
call TriggerAddAction(gg_trg____________________226,function Trig____________________226Actions)
endfunction
function Trig____________________227Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304C58
endfunction
function Trig____________________227Func002T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<=80 then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))
call YDWETimerRemoveUnit(.2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303152,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),0))
call SetUnitLifePercentBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetUnitLifePercent(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))+.2)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))+I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true))+I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),true)))*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________227Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig____________________227Func002T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________227 takes nothing returns nothing
set gg_trg____________________227=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________227,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________227,Condition(function Trig____________________227Conditions))
call TriggerAddAction(gg_trg____________________227,function Trig____________________227Actions)
endfunction
function Trig____________________228Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304C59
endfunction
function Trig____________________228Actions takes nothing returns nothing
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.88
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________228 takes nothing returns nothing
set gg_trg____________________228=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________228,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________228,Condition(function Trig____________________228Conditions))
call TriggerAddAction(gg_trg____________________228,function Trig____________________228Actions)
endfunction
function Trig____________________229Actions takes nothing returns nothing
if GetUnitAbilityLevel(GetAttacker(),$41304C59)>=1 then
if GetRandomPercentageBJ()<=4. then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.05,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
else
endif
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304D4E)>=1 then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.01,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function InitTrig____________________229 takes nothing returns nothing
set gg_trg____________________229=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________229,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg____________________229,function Trig____________________229Actions)
endfunction
function Trig____________________236Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetSpellAbilityId()==$41304D43 then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303155,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit())))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,I2R(GetHeroStr(GetTriggerUnit(),true))*35.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetSpellAbilityId()==$41304D44 then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303153,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit())))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*5.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call SetUnitLifePercentBJ(GetTriggerUnit(),100)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________236 takes nothing returns nothing
set gg_trg____________________236=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________236,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddAction(gg_trg____________________236,function Trig____________________236Actions)
endfunction
function Trig____________________237Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304D45
endfunction
function Trig____________________237Actions takes nothing returns nothing
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.48
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________237 takes nothing returns nothing
set gg_trg____________________237=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________237,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________237,Condition(function Trig____________________237Conditions))
call TriggerAddAction(gg_trg____________________237,function Trig____________________237Actions)
endfunction
function Trig____________________238Conditions takes nothing returns boolean
return GetUnitAbilityLevel(GetAttacker(),$41304D45)>=1
endfunction
function Trig____________________238Actions takes nothing returns nothing
if GetRandomPercentageBJ()<=6. then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)*.06,ATTACK_TYPE_CHAOS,DAMAGE_TYPE_NORMAL)
else
endif
endfunction
function InitTrig____________________238 takes nothing returns nothing
set gg_trg____________________238=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________238,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________238,Condition(function Trig____________________238Conditions))
call TriggerAddAction(gg_trg____________________238,function Trig____________________238Actions)
endfunction
function Trig____________________239Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304D4C
endfunction
function Trig____________________239Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303157,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*15.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________239 takes nothing returns nothing
set gg_trg____________________239=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________239,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________239,Condition(function Trig____________________239Conditions))
call TriggerAddAction(gg_trg____________________239,function Trig____________________239Actions)
endfunction
function Trig____________________240Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304D4D
endfunction
function Trig____________________240Func007Func003003003 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C303079D)))==true
endfunction
function Trig____________________240Func007Func004A takes nothing returns nothing
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C303079D),GetEnumUnit(),(I2R(GetHeroStr(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C303079D),true))+I2R(GetHeroAgi(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C303079D),true))+I2R(GetHeroInt(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7),$C303079D),true)))*20.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Trig____________________240Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call h__CreateNUnitsAtLoc(1,$68303132,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call UnitAddAbility(bj_lastCreatedUnit,$41304D4F)
call YDWETimerRemoveUnit(10.,bj_lastCreatedUnit)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,GetUnitLoc(GetSpellTargetUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=10
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),300.*I2R(bj_forLoopAIndex),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))))
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303154,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF),AngleBetweenPoints(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))))
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRangeOfLocMatchingNull(300.,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF),Condition(function Trig____________________240Func007Func003003003)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig____________________240Func007Func004A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$F6952DAF))
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________240 takes nothing returns nothing
set gg_trg____________________240=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________240,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________240,Condition(function Trig____________________240Conditions))
call TriggerAddAction(gg_trg____________________240,function Trig____________________240Actions)
endfunction
function Trig____________________241Conditions takes nothing returns boolean
return GetLearnedSkill()==$41304D4E
endfunction
function Trig____________________241Actions takes nothing returns nothing
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+2.88
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________241 takes nothing returns nothing
set gg_trg____________________241=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________241,EVENT_PLAYER_HERO_SKILL)
call TriggerAddCondition(gg_trg____________________241,Condition(function Trig____________________241Conditions))
call TriggerAddAction(gg_trg____________________241,function Trig____________________241Actions)
endfunction
function Trig____________________230Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304D31
endfunction
function Trig____________________230Func006003003 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true
endfunction
function Trig____________________230Func007A takes nothing returns nothing
if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true then
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*(4.+I2R(YDWEGetLocalVariableInteger("r"))+(4.+I2R(YDWEGetLocalVariableInteger("r"))*(YDWEGetLocalVariableReal("r")/10.))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
call UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*(4.+I2R(YDWEGetLocalVariableInteger("r"))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endif
endfunction
function Trig____________________230Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetTriggerUnit()))
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=12
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),300.,GetRandomDirectionDeg()))
call h__CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call SetUnitVertexColor(bj_lastCreatedUnit,GetRandomInt(1,255),GetRandomInt(1,255),GetRandomInt(1,255),255)
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=24
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),700.,GetRandomDirectionDeg()))
call h__CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call SetUnitVertexColor(bj_lastCreatedUnit,GetRandomInt(1,255),GetRandomInt(1,255),GetRandomInt(1,255),255)
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=36
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),1200.,GetRandomDirectionDeg()))
call h__CreateNUnitsAtLoc(1,$68303151,GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A),bj_UNIT_FACING)
call SetUnitVertexColor(bj_lastCreatedUnit,GetRandomInt(1,255),GetRandomInt(1,255),GetRandomInt(1,255),255)
call YDWETimerRemoveUnit(1.,bj_lastCreatedUnit)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C18F437A))
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call YDWESetLocalVariableInteger("r",GetUnitAbilityLevel(GetTriggerUnit(),$41304D31))
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRangeOfLocMatchingNull(1200.,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),Condition(function Trig____________________230Func006003003)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8),function Trig____________________230Func007A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________230 takes nothing returns nothing
set gg_trg____________________230=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________230,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________230,Condition(function Trig____________________230Conditions))
call TriggerAddAction(gg_trg____________________230,function Trig____________________230Actions)
endfunction
function Trig____________________191Actions takes nothing returns nothing
endfunction
function InitTrig____________________191 takes nothing returns nothing
set gg_trg____________________191=CreateTrigger()
call TriggerAddAction(gg_trg____________________191,function Trig____________________191Actions)
endfunction
function Trig____________________173Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304933
endfunction
function Trig____________________173Func006Func002003003 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true and GetOwningPlayer(GetFilterUnit())!=Player(4)
endfunction
function Trig____________________173Func006Func003A takes nothing returns nothing
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),500000.*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endfunction
function Trig____________________173Func006T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerRemoveUnit(1.5,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303138,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),0))
call SaveGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$214C62CC,YDWEGetUnitsInRangeOfLocMatchingNull(1000.,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),Condition(function Trig____________________173Func006Func002003003)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$214C62CC),function Trig____________________173Func006Func003A)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$214C62CC))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________173Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call YDWETimerRemoveUnit(1.5,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303053,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveGroupHandle(YDLOC,GetHandleId(ydl_timer),$214C62CC,LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$214C62CC))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,1.5,false,function Trig____________________173Func006T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________173 takes nothing returns nothing
set gg_trg____________________173=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________173,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________173,Condition(function Trig____________________173Conditions))
call TriggerAddAction(gg_trg____________________173,function Trig____________________173Actions)
endfunction
function Trig____________________174Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304935
endfunction
function Trig____________________174Func008Func001Func005003003 takes nothing returns boolean
return IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true
endfunction
function Trig____________________174Func008Func001Func006A takes nothing returns nothing
if GetOwningPlayer(GetEnumUnit())!=Player(4) then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),GetEnumUnit(),275000.*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$E59C1073,GetUnitLoc(GetEnumUnit()))
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$2F128C38,h__PolarProjectionBJ(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$E59C1073),40.,YDWEAngleBetweenUnits(GetEnumUnit(),LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))))
call SetUnitX(GetEnumUnit(),GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$2F128C38)))
call SetUnitY(GetEnumUnit(),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$2F128C38)))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$E59C1073))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$2F128C38))
else
endif
endfunction
function Trig____________________174Func008T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if YDWEGetLocalVariableInteger("a")<100 and LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$384C9D86)!=null then
call YDWESetLocalVariableInteger("a",YDWEGetLocalVariableInteger("a")+1)
call SaveGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$7B2D08E8,YDWEGetUnitsInRangeOfLocMatchingNull(1000.,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),Condition(function Trig____________________174Func008Func001Func005003003)))
call h__ForGroupBJ(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$7B2D08E8),function Trig____________________174Func008Func001Func006A)
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetExpiredTimer()),$7B2D08E8))
else
call RemoveUnit(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$384C9D86))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call YDWESetLocalVariableInteger("a",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________174Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call YDWETimerRemoveUnit(1.5,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303053,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call YDWEPolledWaitNull(1.5)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303053,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveGroupHandle(YDLOC,GetHandleId(ydl_timer),$7B2D08E8,LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$2F128C38,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$2F128C38))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$384C9D86,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$E59C1073,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$E59C1073))
call TimerStart(ydl_timer,.1,true,function Trig____________________174Func008T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________174 takes nothing returns nothing
set gg_trg____________________174=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________174,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________174,Condition(function Trig____________________174Conditions))
call TriggerAddAction(gg_trg____________________174,function Trig____________________174Actions)
endfunction
function Trig____________________179Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304937
endfunction
function Trig____________________179Func002T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if UnitHasBuffBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$4230304D)==true and IsUnitType(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),UNIT_TYPE_DEAD)==false then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),512,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if GetOwningPlayer(ydl_unit)!=Player(4) and IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,2000000.*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call YDWETimerDestroyEffect(2,AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",ydl_unit,"origin"))
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________179Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig____________________179Func002T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________179 takes nothing returns nothing
set gg_trg____________________179=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________179,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________179,Condition(function Trig____________________179Conditions))
call TriggerAddAction(gg_trg____________________179,function Trig____________________179Actions)
endfunction
function Trig____________________176Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304936
endfunction
function Trig____________________176Func006T takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWETimerRemoveUnit(1.5,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$68303137,LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476),0))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),1000.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if GetOwningPlayer(ydl_unit)!=Player(4) and IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call SetUnitLifePercentBJ(ydl_unit,GetUnitLifePercent(ydl_unit)-20.)
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,200000000.*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
call YDWETimerPatternRushSlide(ydl_unit,XG_AngelBetweenUnit(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit),1000.-YDWEDistanceBetweenUnits(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit),.3,.03,0,false,false,false,"origin","Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl","")
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
set ydl_group=null
set ydl_unit=null
endfunction
function Trig____________________176Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)))
call YDWETimerRemoveUnit(1.5,CreateUnitAtLoc(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D)),$68303053,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,1.5,false,function Trig____________________176Func006T)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________176 takes nothing returns nothing
set gg_trg____________________176=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________176,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________176,Condition(function Trig____________________176Conditions))
call TriggerAddAction(gg_trg____________________176,function Trig____________________176Actions)
endfunction
function Trig____________________045Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________045Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$4930414B then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.48
else
endif
if GetItemTypeId(GetManipulatedItem())==$4930414A then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.96
else
endif
endfunction
function InitTrig____________________045 takes nothing returns nothing
set gg_trg____________________045=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________045,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg____________________045,Condition(function Trig____________________045Conditions))
call TriggerAddAction(gg_trg____________________045,function Trig____________________045Actions)
endfunction
function Trig____________________044Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________044Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$4930414B then
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.48
else
endif
if GetItemTypeId(GetManipulatedItem())==$4930414A then
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]-.96
else
endif
endfunction
function InitTrig____________________044 takes nothing returns nothing
set gg_trg____________________044=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________044,EVENT_PLAYER_UNIT_DROP_ITEM)
call TriggerAddCondition(gg_trg____________________044,Condition(function Trig____________________044Conditions))
call TriggerAddAction(gg_trg____________________044,function Trig____________________044Actions)
endfunction
function Trig____________________146Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303852 or GetItemTypeId(GetManipulatedItem())==$49303849 or GetItemTypeId(GetManipulatedItem())==$4930384A or GetItemTypeId(GetManipulatedItem())==$4930384B or GetItemTypeId(GetManipulatedItem())==$4930384F or GetItemTypeId(GetManipulatedItem())==$49303850 or GetItemTypeId(GetManipulatedItem())==$49303851 or GetItemTypeId(GetManipulatedItem())==$4930384C or GetItemTypeId(GetManipulatedItem())==$4930384D or GetItemTypeId(GetManipulatedItem())==$49304130
endfunction
function Trig____________________146Actions takes nothing returns nothing
call SetHeroLevelBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])+(GetItemCharges(GetManipulatedItem())+1),true)
call RemoveItem(GetManipulatedItem())
endfunction
function InitTrig____________________146 takes nothing returns nothing
set gg_trg____________________146=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________146,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg____________________146,Condition(function Trig____________________146Conditions))
call TriggerAddAction(gg_trg____________________146,function Trig____________________146Actions)
endfunction
function Trig____________________165Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$49303058 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+10000000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+100.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+5000000.)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]),GetRandomDirectionDeg()))
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetOwningPlayer(GetTriggerUnit()))+YDWEGetPlayerColorString(Player(0),"服用了隐藏的丹药-帝尊丹，英雄实力提升了一大截！！！"))
else
endif
if GetItemTypeId(GetManipulatedItem())==$49304139 then
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
call CreateTextTagUnitBJ("这鸡蛋真补啊，我要打10个！！",udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],0,10,100,100,100,0)
call YDWETimerDestroyTextTag(2,GetLastCreatedTextTag())
else
endif
endfunction
function InitTrig____________________165 takes nothing returns nothing
set gg_trg____________________165=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________165,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg____________________165,function Trig____________________165Actions)
endfunction
function Trig____________________140Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________140Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$49303757 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303939)==1 and GetPlayerTechCountSimple($5230304D,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303939,2)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"野兽之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303757,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"野兽之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303157 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303946)==1 and GetPlayerTechCountSimple($52303053,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+10
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303946,2)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"灵兽之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303157,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"灵兽之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303847 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303859)==1 and GetPlayerTechCountSimple($52303052,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+15
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303859,2)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"散人之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303847,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"散人之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303846 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303858)==1 and GetPlayerTechCountSimple($52303054,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+20
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303858,2)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"大能之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303846,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"大能之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303845 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303857)==1 and GetPlayerTechCountSimple($52303055,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+25
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303857,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+10.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"尊者之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303845,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"尊者之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303844 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303854)==1 and GetPlayerTechCountSimple($52303056,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+30
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303854,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+20.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"圣兽之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303844,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"圣兽之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303843 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303737)==1 and GetPlayerTechCountSimple($52303057,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+35
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303737,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,300000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,300000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,300000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+30.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"龙凤之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303843,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"龙凤之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303839 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303736)==1 and GetPlayerTechCountSimple($52303058,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+40
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303736,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,400000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+40.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"帝尊之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303839,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"帝尊之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303833 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303735)==1 and GetPlayerTechCountSimple($52303059,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+45
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303735,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,500000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+50.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"混沌之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303833,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"混沌之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303848 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303738)==1 and GetPlayerTechCountSimple($5230305A,GetOwningPlayer(GetTriggerUnit()))==1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+50
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303738,2)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,600000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+60.)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您的"+YDWEGetPlayerColorString(Player(0),"太初之力")+"达到了圆满！！！"))
else
call UnitAddItemByIdSwapped($49303848,GetTriggerUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"太初之力")+"未被激活，或者已经达到了圆满，突破失败！"))
endif
else
endif
endfunction
function InitTrig____________________140 takes nothing returns nothing
set gg_trg____________________140=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________140,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddCondition(gg_trg____________________140,Condition(function Trig____________________140Conditions))
call TriggerAddAction(gg_trg____________________140,function Trig____________________140Actions)
endfunction
function Trig____________________013Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$49303354 and GetPlayerTechCountSimple($52303049,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($52303049,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+100000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+30.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+200000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303158 and GetPlayerTechCountSimple($5230304A,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($5230304A,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+200000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+50.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+400000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
else
endif
if GetItemTypeId(GetManipulatedItem())==$4930315A and GetPlayerTechCountSimple($5230304B,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($5230304B,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+400000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+80.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+800000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+33
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303231 and GetPlayerTechCountSimple($5230304C,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($5230304C,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+800000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+120.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+1600000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303232 and GetPlayerTechCountSimple($52303051,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($52303051,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+1600000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+180.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+3200000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.15
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+88
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303233 and GetPlayerTechCountSimple($5230304E,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($5230304E,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+3200000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+250.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+6400000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303237 and GetPlayerTechCountSimple($5230304F,GetOwningPlayer(GetTriggerUnit()))==0 then
call SetPlayerTechResearchedSwap($5230304F,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功激活了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"属性！！！"))
call YDWETimerRemoveItem(.2,GetManipulatedItem())
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+6400000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+350.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+12800000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],100)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+188
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.5
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+15
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
else
endif
endfunction
function InitTrig____________________013 takes nothing returns nothing
set gg_trg____________________013=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________013,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddAction(gg_trg____________________013,function Trig____________________013Actions)
endfunction
function Trig____________________060Actions takes nothing returns nothing
if GetItemTypeId(GetManipulatedItem())==$49303644 and GetPlayerTechCountSimple($52303131,GetOwningPlayer(GetTriggerUnit()))!=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$13AAB8)
call SetPlayerTechResearchedSwap($52303131,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功吸收了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"的属性！！！"))
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.4
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303642 and GetPlayerTechCountSimple($52303132,GetOwningPlayer(GetTriggerUnit()))!=1 then
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$13AAB8)
call SetPlayerTechResearchedSwap($52303132,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功吸收了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"的属性！！！"))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(81))+.88)
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303737 and GetPlayerTechCountSimple($52303133,GetOwningPlayer(GetTriggerUnit()))!=1 then
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,$13AAB8)
call SetPlayerTechResearchedSwap($52303133,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功吸收了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"的属性！！！"))
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.6
else
endif
if GetItemTypeId(GetManipulatedItem())==$49303659 and GetPlayerTechCountSimple($52303130,GetOwningPlayer(GetTriggerUnit()))!=1 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+128.)
call SetPlayerTechResearchedSwap($52303130,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功吸收了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(GetManipulatedItem())))+"的属性！！！"))
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
else
endif
endfunction
function InitTrig____________________060 takes nothing returns nothing
set gg_trg____________________060=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________060,EVENT_PLAYER_UNIT_USE_ITEM)
call TriggerAddAction(gg_trg____________________060,function Trig____________________060Actions)
endfunction
function Trig____________________141Conditions takes nothing returns boolean
return IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$49303457))==true
endfunction
function Trig____________________141Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*.6,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________141 takes nothing returns nothing
set gg_trg____________________141=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________141,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________141,Condition(function Trig____________________141Conditions))
call TriggerAddAction(gg_trg____________________141,function Trig____________________141Actions)
endfunction
function Trig____________________006Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________006Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303035))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303035),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303035))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303035))>=50 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303035))
call UnitAddItemByIdSwapped($49303036,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303036))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303036),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303036))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303036))>=60 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303036))
call UnitAddItemByIdSwapped($49303037,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303037))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303037),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303037))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303037))>=70 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303037))
call UnitAddItemByIdSwapped($49303038,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303038))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303038),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303038))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303038))>=80 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303038))
call UnitAddItemByIdSwapped($49303039,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________006 takes nothing returns nothing
set gg_trg____________________006=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________006,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________006,Condition(function Trig____________________006Conditions))
call TriggerAddAction(gg_trg____________________006,function Trig____________________006Actions)
endfunction
function Trig____________________010Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________010Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303031))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303031),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303031))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303031))>=50 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303031))
call UnitAddItemByIdSwapped($49303032,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303032))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303032),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303032))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303032))>=60 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303032))
call UnitAddItemByIdSwapped($49303033,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303033))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303033),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303033))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303033))>=70 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303033))
call UnitAddItemByIdSwapped($49303034,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303034))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303034),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303034))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303034))>=80 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303034))
call UnitAddItemByIdSwapped($49303030,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________010 takes nothing returns nothing
set gg_trg____________________010=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________010,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________010,Condition(function Trig____________________010Conditions))
call TriggerAddAction(gg_trg____________________010,function Trig____________________010Actions)
endfunction
function Trig____________________019Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________019Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303041))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303041),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303041))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303041))>=50 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303041))
call UnitAddItemByIdSwapped($49303042,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303042))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303042),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303042))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303042))>=60 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303042))
call UnitAddItemByIdSwapped($49303043,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303043))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303043),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303043))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303043))>=70 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303043))
call UnitAddItemByIdSwapped($49303044,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303044))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303044),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303044))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303044))>=80 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303044))
call UnitAddItemByIdSwapped($49303045,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________019 takes nothing returns nothing
set gg_trg____________________019=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________019,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________019,Condition(function Trig____________________019Conditions))
call TriggerAddAction(gg_trg____________________019,function Trig____________________019Actions)
endfunction
function Trig____________________020Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________020Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303047))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303047),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303047))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303047))>=50 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303047))
call UnitAddItemByIdSwapped($49303046,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303046))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303046),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303046))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303046))>=60 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303046))
call UnitAddItemByIdSwapped($49303048,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303048))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303048),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303048))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303048))>=70 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303048))
call UnitAddItemByIdSwapped($49303049,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303049))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303049),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303049))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303049))>=80 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303049))
call UnitAddItemByIdSwapped($4930304A,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________020 takes nothing returns nothing
set gg_trg____________________020=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________020,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________020,Condition(function Trig____________________020Conditions))
call TriggerAddAction(gg_trg____________________020,function Trig____________________020Actions)
endfunction
function Trig____________________022Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E30314A and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________022Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303039))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303039))
call UnitAddItemByIdSwapped($4930304B,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303030))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303030))
call UnitAddItemByIdSwapped($49303055,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303045))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303045))
call UnitAddItemByIdSwapped($4930305A,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930304A))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930304A))
call UnitAddItemByIdSwapped($49303050,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endif
endif
endfunction
function InitTrig____________________022 takes nothing returns nothing
set gg_trg____________________022=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________022,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________022,Condition(function Trig____________________022Conditions))
call TriggerAddAction(gg_trg____________________022,function Trig____________________022Actions)
endfunction
function Trig____________________004Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303149 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________004Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930304B))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930304B))
call UnitAddItemByIdSwapped($49303135,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303055))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303055))
call UnitAddItemByIdSwapped($49303138,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930305A))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930305A))
call UnitAddItemByIdSwapped($49303136,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303050))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303050))
call UnitAddItemByIdSwapped($49303137,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endif
endif
endfunction
function InitTrig____________________004 takes nothing returns nothing
set gg_trg____________________004=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________004,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________004,Condition(function Trig____________________004Conditions))
call TriggerAddAction(gg_trg____________________004,function Trig____________________004Actions)
endfunction
function Trig____________________112Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$6E303150 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________112Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303138))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303138))
call UnitAddItemByIdSwapped($49303134,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303135))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303135))
call UnitAddItemByIdSwapped($49303139,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303137))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303137))
call UnitAddItemByIdSwapped($49303142,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303136))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303136))
call UnitAddItemByIdSwapped($49303141,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endif
endif
endfunction
function InitTrig____________________112 takes nothing returns nothing
set gg_trg____________________112=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________112,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________112,Condition(function Trig____________________112Conditions))
call TriggerAddAction(gg_trg____________________112,function Trig____________________112Actions)
endfunction
function Trig____________________113Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303032 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________113Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303054))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303054))
call UnitAddItemByIdSwapped($49303053,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303051))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303051))
call UnitAddItemByIdSwapped($49303052,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________113 takes nothing returns nothing
set gg_trg____________________113=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________113,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________113,Condition(function Trig____________________113Conditions))
call TriggerAddAction(gg_trg____________________113,function Trig____________________113Actions)
endfunction
function Trig____________________114Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303033 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________114Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303053))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303053))
call UnitAddItemByIdSwapped($49303056,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303052))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303052))
call UnitAddItemByIdSwapped($49303057,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________114 takes nothing returns nothing
set gg_trg____________________114=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________114,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________114,Condition(function Trig____________________114Conditions))
call TriggerAddAction(gg_trg____________________114,function Trig____________________114Actions)
endfunction
function Trig____________________116Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303039 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________116Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303056))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303056))
call UnitAddItemByIdSwapped($49303133,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303057))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303057))
call UnitAddItemByIdSwapped($49303131,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________116 takes nothing returns nothing
set gg_trg____________________116=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________116,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________116,Condition(function Trig____________________116Conditions))
call TriggerAddAction(gg_trg____________________116,function Trig____________________116Actions)
endfunction
function Trig____________________123Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303247 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303134))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303141))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303134))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303141))
call UnitAddItemByIdSwapped($49303054,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功合成"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(50,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"合成失败，费用返还！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303248 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303142))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303139))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303142))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303139))
call UnitAddItemByIdSwapped($49303051,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功合成"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(50,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"合成失败，费用返还！")
endif
else
endif
endfunction
function InitTrig____________________123 takes nothing returns nothing
set gg_trg____________________123=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________123,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________123,function Trig____________________123Actions)
endfunction
function Trig____________________124Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303035 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________124Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303131))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303131))
call UnitAddItemByIdSwapped($49303147,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303133))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303133))
call UnitAddItemByIdSwapped($49303144,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________124 takes nothing returns nothing
set gg_trg____________________124=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________124,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________124,Condition(function Trig____________________124Conditions))
call TriggerAddAction(gg_trg____________________124,function Trig____________________124Actions)
endfunction
function Trig____________________118Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303036 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________118Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303144))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303144))
call UnitAddItemByIdSwapped($49303149,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303147))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303147))
call UnitAddItemByIdSwapped($4930314A,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________118 takes nothing returns nothing
set gg_trg____________________118=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________118,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________118,Condition(function Trig____________________118Conditions))
call TriggerAddAction(gg_trg____________________118,function Trig____________________118Actions)
endfunction
function Trig____________________119Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303034 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________119Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314A))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314A))
call UnitAddItemByIdSwapped($4930314D,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303149))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303149))
call UnitAddItemByIdSwapped($4930314C,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________119 takes nothing returns nothing
set gg_trg____________________119=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________119,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________119,Condition(function Trig____________________119Conditions))
call TriggerAddAction(gg_trg____________________119,function Trig____________________119Actions)
endfunction
function Trig____________________125Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303037 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________125Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314C))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314C))
call UnitAddItemByIdSwapped($4930314E,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314D))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314D))
call UnitAddItemByIdSwapped($4930314F,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________125 takes nothing returns nothing
set gg_trg____________________125=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________125,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________125,Condition(function Trig____________________125Conditions))
call TriggerAddAction(gg_trg____________________125,function Trig____________________125Actions)
endfunction
function Trig____________________126Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4F303038 and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________126Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314E))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314E))
call UnitAddItemByIdSwapped($49303150,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314F))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930314F))
call UnitAddItemByIdSwapped($49303151,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
endif
endfunction
function InitTrig____________________126 takes nothing returns nothing
set gg_trg____________________126=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________126,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________126,Condition(function Trig____________________126Conditions))
call TriggerAddAction(gg_trg____________________126,function Trig____________________126Actions)
endfunction
function Trig____________________106Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303633))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303633),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303633))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303633))>=188 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303633))
call UnitAddItemByIdSwapped($49303635,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303635))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303635),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303635))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303635))>=288 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303635))
call UnitAddItemByIdSwapped($49303632,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303632))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303632),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303632))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303632))>=388 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303632))
call UnitAddItemByIdSwapped($49303634,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303634))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303634),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303634))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303634))>=488 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303634))
call UnitAddItemByIdSwapped($49303642,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________106 takes nothing returns nothing
set gg_trg____________________106=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________106,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________106,function Trig____________________106Actions)
endfunction
function Trig____________________107Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303645))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303645),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303645))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303645))>=188 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303645))
call UnitAddItemByIdSwapped($49303646,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303646))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303646),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303646))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303646))>=288 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303646))
call UnitAddItemByIdSwapped($49303658,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303658))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303658),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303658))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303658))>=388 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303658))
call UnitAddItemByIdSwapped($49303643,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303643))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303643),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303643))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303643))>=488 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303643))
call UnitAddItemByIdSwapped($49303644,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________107 takes nothing returns nothing
set gg_trg____________________107=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________107,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________107,function Trig____________________107Actions)
endfunction
function Trig____________________108Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303733))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303733),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303733))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303733))>=188 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303733))
call UnitAddItemByIdSwapped($49303736,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303736))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303736),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303736))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303736))>=288 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303736))
call UnitAddItemByIdSwapped($49303734,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303734))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303734),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303734))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303734))>=388 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303734))
call UnitAddItemByIdSwapped($49303735,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303735))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303735),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303735))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303735))>=488 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303735))
call UnitAddItemByIdSwapped($49303737,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________108 takes nothing returns nothing
set gg_trg____________________108=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________108,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________108,function Trig____________________108Actions)
endfunction
function Trig____________________111Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930365A))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930365A),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930365A))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930365A))>=188 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$4930365A))
call UnitAddItemByIdSwapped($49303730,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303730))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303730),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303730))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303730))>=288 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303730))
call UnitAddItemByIdSwapped($49303732,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303732))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303732),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303732))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303732))>=388 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303732))
call UnitAddItemByIdSwapped($49303731,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303731))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303731),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303731))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303731))>=488 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303731))
call UnitAddItemByIdSwapped($49303659,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"成功升级为"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
endif
else
endif
endfunction
function InitTrig____________________111 takes nothing returns nothing
set gg_trg____________________111=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________111,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________111,function Trig____________________111Actions)
endfunction
function Trig____________________105Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________105Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetPlayerTechCountSimple($5230304B,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=8. then
call YDWETimerRemoveUnit(1.,CreateUnit(GetOwningPlayer(GetAttacker()),$6830304A,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetPlayerTechCountSimple($5230304A,GetOwningPlayer(GetAttacker()))>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+1.)
else
endif
if GetPlayerTechCountSimple($5230304E,GetOwningPlayer(GetAttacker()))>=1 then
if GetUnitState(GetTriggerUnit(),ConvertUnitState(32))>=20. then
call SetUnitState(GetTriggerUnit(),ConvertUnitState(32),GetUnitState(GetTriggerUnit(),ConvertUnitState(32))-10.)
else
endif
if GetRandomPercentageBJ()<=5. then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+2.)
else
endif
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________105 takes nothing returns nothing
set gg_trg____________________105=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________105,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________105,Condition(function Trig____________________105Conditions))
call TriggerAddAction(gg_trg____________________105,function Trig____________________105Actions)
endfunction
function Trig____________________002Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$4930364C))==true or IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$49303650))==true then
if GetRandomPercentageBJ()<=3. then
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303134,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$4930364C))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*GetRandomReal(1.,2.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$49303650))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$49303651))==true then
if GetRandomPercentageBJ()<=1. then
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetAttacker()),$68303133,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*GetRandomReal(2.,3.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$4930414B))==true then
if GetRandomPercentageBJ()<=4. then
call UnitResetCooldown(GetAttacker())
else
call DoNothing()
endif
else
endif
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetAttacker(),$4930414A))==true then
if GetRandomPercentageBJ()<=8. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*3.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________002 takes nothing returns nothing
set gg_trg____________________002=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________002,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddAction(gg_trg____________________002,function Trig____________________002Actions)
endfunction
function Trig____________________016Conditions takes nothing returns boolean
return IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303749))==true
endfunction
function Trig____________________016Actions takes nothing returns nothing
if GetRandomPercentageBJ()<=10. then
call SetUnitLifePercentBJ(GetTriggerUnit(),GetUnitLifePercent(GetTriggerUnit())+5.)
if udg_TX==true then
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetTriggerUnit()),$68303130,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetRandomDirectionDeg()))
else
endif
else
endif
endfunction
function InitTrig____________________016 takes nothing returns nothing
set gg_trg____________________016=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________016,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________016,Condition(function Trig____________________016Conditions))
call TriggerAddAction(gg_trg____________________016,function Trig____________________016Actions)
endfunction
function Trig____________________134Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303544 then
if GetPlayerTechCountSimple($52303134,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303135,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303136,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303137,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($5230304D,GetOwningPlayer(GetBuyingUnit()))!=1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+5
call SetPlayerTechResearchedSwap($5230304D,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"野兽之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetRandomDirectionDeg()))
call YDWESetLocalVariableAbilityIDArray("jn",1,$41304553)
call YDWESetLocalVariableAbilityIDArray("jn",2,$41304552)
call YDWESetLocalVariableAbilityIDArray("jn",3,$41304550)
call YDWESetLocalVariableAbilityIDArray("jn",4,$41303250)
call YDWESetLocalVariableAbilityIDArray("jn",5,$41304551)
call YDWESetLocalVariableAbilityIDArray("jn",6,$41304554)
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-.05*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552))
else
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(.1+.2*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)))
else
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-.05*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554))
else
endif
call YDWESetLocalVariableAbilityID("ab",YDWEGetLocalVariableAbilityIDArray("jn",GetRandomInt(1,6)))
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],YDWEGetLocalVariableAbilityID("ab"))
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,YDWEGetLocalVariableAbilityID("ab"))
if YDWEGetLocalVariableAbilityID("ab")==$41304552 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
else
endif
if YDWEGetLocalVariableAbilityID("ab")==$41304550 then
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
else
endif
if YDWEGetLocalVariableAbilityID("ab")==$41304554 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
else
endif
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您获取了体质"+YDWEGetPlayerColorString(Player(0),GetAbilityName(YDWEGetLocalVariableAbilityID("ab"))))
else
call AdjustPlayerStateBJ(4,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"解锁失败，费用返还！"))
endif
else
endif
endfunction
function InitTrig____________________134 takes nothing returns nothing
set gg_trg____________________134=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________134,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________134,function Trig____________________134Actions)
endfunction
function Trig____________________150Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303549 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303252))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303253))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303254))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303252))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303253))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303254))
call UnitAddItemByIdSwapped($49303548,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303455 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344A))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344C))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303449))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344B))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344A))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344C))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303449))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344B))
call UnitAddItemByIdSwapped($49303453,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(1000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303536 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303459))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303458))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344F))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344D))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303459))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303458))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344F))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930344D))
call UnitAddItemByIdSwapped($49303556,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
endfunction
function InitTrig____________________150 takes nothing returns nothing
set gg_trg____________________150=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________150,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________150,function Trig____________________150Actions)
endfunction
function Trig____________________153Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303639 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303636))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303638))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303637))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303636))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303638))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303637))
call UnitAddItemByIdSwapped($49303641,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(1500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930364D then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303648))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303649))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364A))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364B))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303648))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303649))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364A))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364B))
call UnitAddItemByIdSwapped($4930364C,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930385A then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303150))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303151))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303150))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303151))
call UnitAddItemByIdSwapped($49303749,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
endfunction
function InitTrig____________________153 takes nothing returns nothing
set gg_trg____________________153=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________153,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________153,function Trig____________________153Actions)
endfunction
function Trig____________________154Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303654 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303548))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303453))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303548))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303453))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))
call UnitAddItemByIdSwapped($49303651,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(6000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303656 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303556))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303556))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))
call UnitAddItemByIdSwapped($4930364E,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(8000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303653 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303641))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364C))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303641))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$4930364C))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))
call UnitAddItemByIdSwapped($49303650,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(7000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304148 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303657))
call UnitAddItemByIdSwapped($49303538,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(2000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304147 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303334))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303335))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303538))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303334))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303335))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303538))
call UnitAddItemByIdSwapped($4930414B,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303339 then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303336))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303447))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303538))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303336))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303447))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetBuyingUnit(),$49303538))
call UnitAddItemByIdSwapped($4930414A,GetBuyingUnit())
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您合成了"+YDWEGetPlayerColorString(Player(0),GetObjectName(GetItemTypeId(bj_lastCreatedItem)))+"！！！"))
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"合成失败，费用返还！"))
endif
else
endif
endfunction
function InitTrig____________________154 takes nothing returns nothing
set gg_trg____________________154=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________154,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________154,function Trig____________________154Actions)
endfunction
function Trig____________________050Actions takes nothing returns nothing
call YDWENewItemsFormula($4930334B,1,$4930334A,1,$4930334C,1,$63686573,0,$63686573,0,$63686573,0,$49303354)
call YDWENewItemsFormula($4930334E,1,$4930334D,1,$4930334F,1,$63686573,0,$63686573,0,$63686573,0,$49303158)
call YDWENewItemsFormula($49303353,1,$49303352,1,$49303355,1,$63686573,0,$63686573,0,$63686573,0,$4930315A)
call YDWENewItemsFormula($49303359,1,$49303358,1,$49303430,1,$63686573,0,$63686573,0,$63686573,0,$49303231)
call YDWENewItemsFormula($49303432,1,$49303431,1,$49303433,1,$63686573,0,$63686573,0,$63686573,0,$49303232)
call YDWENewItemsFormula($49303436,1,$49303435,1,$49303437,1,$63686573,0,$63686573,0,$63686573,0,$49303233)
call YDWENewItemsFormula($49303439,1,$49303438,1,$49303444,1,$63686573,0,$63686573,0,$63686573,0,$49303237)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________050 takes nothing returns nothing
set gg_trg____________________050=CreateTrigger()
call TriggerAddAction(gg_trg____________________050,function Trig____________________050Actions)
endfunction
function Trig_____________________________052Conditions takes nothing returns boolean
return GetUnitTypeId(GetSellingUnit())==$4870616C
endfunction
function Trig_____________________________052Func002Func001Func013Conditions takes nothing returns nothing
call DestroyTimer(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$437E2A40))
call DestroyTimerDialog(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger()),$D963A09F))
call PauseTimerBJ(false,udg_JSQ)
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),"停怪结束，大家注意时间的流失，小心被偷家！"))
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),"停怪结束，大家注意时间的流失，小心被偷家！"))
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),"停怪结束，大家注意时间的流失，小心被偷家！"))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger()))
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function Trig_____________________________052Actions takes nothing returns nothing
local trigger ydl_trigger
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49303246 then
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"购买了老家无敌，大家快谢谢他吧！")
call SetUnitInvulnerable(udg_DW[5],true)
call YDWEPolledWaitNull(60.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=60
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
call DisplayTimedTextToForce(GetPlayersAll(),5.,YDWEGetPlayerColorString(Player(0),"老家还有"+I2S(16-bj_forLoopAIndex)+"秒，将会失去无敌效果，注意防守！"))
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SetUnitInvulnerable(udg_DW[5],false)
else
endif
if GetItemTypeId(GetSoldItem())==$49303558 then
if YDWEGetLocalVariableInteger("i")<3 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
call PauseTimerBJ(true,udg_JSQ)
call DisplayTimedTextToForce(GetPlayersAll(),10.,GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+YDWEGetPlayerColorString(Player(0),"进行了停怪行为！"))
call SaveTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40,CreateTimer())
call StartTimerBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),false,120.)
call CreateTimerDialogBJ(LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40),YDWEGetPlayerColorString(Player(6),"停怪倒计时！"))
call SaveTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F,bj_lastCreatedTimerDialog)
call TimerDialogDisplay(LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F),true)
call SaveTriggerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$29D7AD84,CreateTrigger())
set ydl_trigger=CreateTrigger()
call SaveTimerHandle(YDLOC,GetHandleId(ydl_trigger),$437E2A40,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call SaveTimerDialogHandle(YDLOC,GetHandleId(ydl_trigger),$D963A09F,LoadTimerDialogHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$D963A09F))
call TriggerRegisterTimerExpireEvent(ydl_trigger,LoadTimerHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$437E2A40))
call TriggerAddCondition(ydl_trigger,Condition(function Trig_____________________________052Func002Func001Func013Conditions))
call DisplayTimedTextToForce(GetPlayersAll(),10.,"当前停怪次数为"+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableInteger("i"))))
else
call AdjustPlayerStateBJ(300,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),10.,"当前停怪次数为达到上限，木材返还！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303159 then
if GetPlayerTechCountSimple($52303050,Player(4))!=10*udg_NDXS then
call AddPlayerTechResearched(Player(4),$52303050,1)
call SetUnitState(gg_unit_Hpal_0030,UNIT_STATE_MAX_LIFE,GetUnitState(gg_unit_Hpal_0030,UNIT_STATE_MAX_LIFE)+2000000.)
call SetUnitLifePercentBJ(gg_unit_Hpal_0030,100)
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetBuyingUnit())))+"：提升了老家的护甲上限，使其护甲等级达到了"+YDWEGetPlayerColorString(Player(0),I2S(GetPlayerTechCountSimple($52303050,Player(4)))))
else
call AdjustPlayerStateBJ(200,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(GetPlayersAll(),"老家升级达到上限，无法升级！木材返还！")
endif
else
call DoNothing()
endif
if GetItemTypeId(GetSoldItem())==$49303243 and GetPlayerState(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=1 then
call AdjustPlayerStateBJ(-1,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),GetUnitName(GetBuyingUnit())+"成功兑换了10000金币！")
else
endif
if GetItemTypeId(GetSoldItem())==$49303244 and GetPlayerState(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call AdjustPlayerStateBJ(100000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),GetUnitName(GetBuyingUnit())+"成功兑换了100000金币！")
else
endif
if GetItemTypeId(GetSoldItem())==$49303242 and GetPlayerState(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=10000 then
call AdjustPlayerStateBJ(-10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),GetUnitName(GetBuyingUnit())+"成功兑换了1点木材！")
else
endif
if GetItemTypeId(GetSoldItem())==$49303241 and GetPlayerState(GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)>=100000 then
call AdjustPlayerStateBJ(-100000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_GOLD)
call AdjustPlayerStateBJ(10,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),GetUnitName(GetBuyingUnit())+"成功兑换了10点木材！")
else
endif
if GetItemTypeId(GetSoldItem())==$49303955 then
if udg_SJ<=170. then
set udg_SJ=udg_SJ+10.
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,Xg_StrColor()+("现在每波的进攻怪的时间为"+YDWEGetPlayerColorString(Player(0),R2S(udg_SJ))))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),Xg_StrColor()+"现在每波小怪的进攻时间不能再增加了！！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303956 then
if udg_SJ>=40. then
set udg_SJ=udg_SJ-5.
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,Xg_StrColor()+("现在每波的进攻怪的时间为"+YDWEGetPlayerColorString(Player(0),R2S(udg_SJ))))
else
call AdjustPlayerStateBJ(500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),Xg_StrColor()+"现在每波小怪的进攻时间不能再减少了！！！！")
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_trigger=null
endfunction
function InitTrig_____________________________052 takes nothing returns nothing
set gg_trg_____________________________052=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg_____________________________052,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg_____________________________052,Condition(function Trig_____________________________052Conditions))
call TriggerAddAction(gg_trg_____________________________052,function Trig_____________________________052Actions)
endfunction
function Trig____________________222Conditions takes nothing returns boolean
return GetUnitTypeId(GetSellingUnit())==$4870616C
endfunction
function Trig____________________222Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49303559 then
if udg_BS>=10 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF,GetRectCenter(gg_rct______________035))
call h__CreateNUnitsAtLoc(1,$4F626C61,Player(5),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF),270.)
set udg_DW[GetConvertedPlayerId(Player(5))]=bj_lastCreatedUnit
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$67E711DF))
call PauseTimer(udg_JSQ)
call TimerDialogDisplay(udg_JSQCK[1],false)
call StartTimerBJ(udg_ZZJSQ,false,360.)
call CreateTimerDialogBJ(udg_ZZJSQ,"最终时刻！")
set udg_JSQCK[2]=bj_lastCreatedTimerDialog
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if GetPlayerSlotState(ConvertedPlayer(bj_forLoopAIndex))==PLAYER_SLOT_STATE_PLAYING then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetRectCenter(gg_rct______________035))
call PanCameraToTimedLocForPlayer(ConvertedPlayer(bj_forLoopAIndex),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"终极BOSS已经被解禁，开始进攻老家！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"终极BOSS已经被解禁，开始进攻老家！！！"))
call DisplayTextToForce(GetPlayersAll(),YDWEGetPlayerColorString(Player(0),"终极BOSS已经被解禁，开始进攻老家！！！"))
call DestroyTrigger(GetTriggeringTrigger())
else
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),Xg_StrColor()+"现在还不到10波，解禁失败，木材返还！！！")
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________222 takes nothing returns nothing
set gg_trg____________________222=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________222,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________222,Condition(function Trig____________________222Conditions))
call TriggerAddAction(gg_trg____________________222,function Trig____________________222Actions)
endfunction
function Trig____________________024_______uConditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________024_______uActions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$4930304D then
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$AB821904)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$AB821904,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303047,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[十一级]创世元灵的秩序！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[十一级]创世元灵的秩序！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+188880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$112A880)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1888
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+8.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+8.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$E3AFD287)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$E3AFD287,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303046,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[十级]神魔之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[十级]神魔之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+18880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$5B8D80)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$4130425A)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$4130425A)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$857539C6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$857539C6,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303045,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[九级]天行者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[九级]天行者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+8880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$3567E0)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$4130464B)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$4130464B)
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$4130464B,udg_NDXS)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.28
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.28
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$302535D5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$302535D5,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303048,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[八级]第十三个守护者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[八级]第十三个守护者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+5280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,$1E8480)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$4130464C)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$4130464C)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.68
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.68
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3F83A062)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3F83A062,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303044,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[七级]天脊骨狱镰！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[七级]天脊骨狱镰！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+3280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,900000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.38
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.38
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C8905035)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C8905035,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303043,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[六级]血之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[六级]血之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+2680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,600000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.18
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.18
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C4AF41B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C4AF41B,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303041,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[五级]破极卸刃！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[五级]破极卸刃！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+1980000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$4130464D)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$4130464D)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.08
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.08
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3D02D8A9)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3D02D8A9,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303039,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[四级]烈焰裁决！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[四级]烈焰裁决！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+1580000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,260000)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$669CC344)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$669CC344,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303038,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[三级]狂龙之怒！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[三级]狂龙之怒！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+1080000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,180000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81))+.88)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$5EFBC46C)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$5EFBC46C,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303037,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[二级]闪耀毁灭者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[二级]闪耀毁灭者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,120000)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.12
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$40BC9EA6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$40BC9EA6,true)
call AddPlayerTechResearched(GetOwningPlayer(GetBuyingUnit()),$52303036,1)
call DisplayTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,"|cffff0000恭喜你抽中了[一级]净魂战矛！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了[一级]净魂战矛！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304259)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$41304259)
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])+"点！！！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$E3CD1F0)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303633,GetBuyingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$E3CD1F0,true)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81))+2.88)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了飞星剑！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C6B5B03A)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303645,GetBuyingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$C6B5B03A,true)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.4
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了斩月刀！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$AD26CFF4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($4930365A,GetBuyingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$AD26CFF4,true)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了羽日袍！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$EB9209F4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303733,GetBuyingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$EB9209F4,true)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.6
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(GetBuyingUnit()))+"抽中了流云杖！")
else
if GetRandomPercentageBJ()<=10. then
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6,GetRandomInt(100,1000))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"全属性+"+I2S(LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8793002,GetRandomReal(500.,5000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_STATE_MAX_LIFE)+LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8793002))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"生命值+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8793002)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$40536706,GetRandomReal(1.,5.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(32))+LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$40536706))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"护甲+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$40536706)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$301CC1D8,GetRandomReal(300.,3000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$301CC1D8))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"攻击力+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$301CC1D8)))+"")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________024_______u takes nothing returns nothing
set gg_trg____________________024_______u=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________024_______u,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________024_______u,Condition(function Trig____________________024_______uConditions))
call TriggerAddAction(gg_trg____________________024_______u,function Trig____________________024_______uActions)
endfunction
function Trig____________________128Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________128Func002Func002T takes nothing returns nothing
if YDWEGetLocalVariableInteger("i")<10 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$AB821904)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$AB821904,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303047,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[十一级]创世元灵的秩序！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[十一级]创世元灵的秩序！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+188880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1888
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+8.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+8.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$E3AFD287)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$E3AFD287,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303046,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[十级]神魔之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[十级]神魔之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+18880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130425A)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130425A)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$857539C6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$857539C6,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303045,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[九级]天行者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[九级]天行者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+8880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464B)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464B)
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464B,udg_NDXS)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1.28
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1.28
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$302535D5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$302535D5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303048,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[八级]第十三个守护者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[八级]第十三个守护者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+5280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464C)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464C)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.68
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.68
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3F83A062)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3F83A062,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303044,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[七级]天脊骨狱镰！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[七级]天脊骨狱镰！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+3280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.38
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.38
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C8905035)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C8905035,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303043,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[六级]血之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[六级]血之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+2680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.18
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.18
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C4AF41B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C4AF41B,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303041,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[五级]破极卸刃！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[五级]破极卸刃！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1980000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464D)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464D)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.08
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.08
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3D02D8A9)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3D02D8A9,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303039,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[四级]烈焰裁决！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[四级]烈焰裁决！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1580000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$669CC344)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$669CC344,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303038,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[三级]狂龙之怒！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[三级]狂龙之怒！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1080000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(81))+.88)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5EFBC46C)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5EFBC46C,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303037,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[二级]闪耀毁灭者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[二级]闪耀毁灭者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.12
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$40BC9EA6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$40BC9EA6,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303036,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[一级]净魂战矛！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[一级]净魂战矛！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$41304259)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$41304259)
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])+"点！！！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$E3CD1F0)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303633,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$E3CD1F0,true)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(81))+2.88)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了飞星剑！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$C6B5B03A)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303645,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$C6B5B03A,true)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.4
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了斩月刀！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$AD26CFF4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($4930365A,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$AD26CFF4,true)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了羽日袍！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$EB9209F4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303733,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$EB9209F4,true)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.6
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了流云杖！")
else
if GetRandomPercentageBJ()<=10. then
call SaveInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6,GetRandomInt(100,1000))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"全属性+"+I2S(LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002,GetRandomReal(500.,5000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],UNIT_STATE_MAX_LIFE)+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"生命值+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706,GetRandomReal(1.,5.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(32))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"护甲+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8,GetRandomReal(300.,3000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(19))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"攻击力+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8)))+"")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________128Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$4930304E then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetBuyingUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$867628C3,GetBuyingUnit())
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call SaveInteger(YDLOC,GetHandleId(ydl_timer),$353BD8A6,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$40536706,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$40536706))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$301CC1D8,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$301CC1D8))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$8793002,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8793002))
call TimerStart(ydl_timer,.01,true,function Trig____________________128Func002Func002T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________128 takes nothing returns nothing
set gg_trg____________________128=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________128,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________128,Condition(function Trig____________________128Conditions))
call TriggerAddAction(gg_trg____________________128,function Trig____________________128Actions)
endfunction
function Trig____________________130Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________130Func002Func002T takes nothing returns nothing
if YDWEGetLocalVariableInteger("i")<100 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$AB821904)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$AB821904,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303047,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[十一级]创世元灵的秩序！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[十一级]创世元灵的秩序！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+188880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$112A880)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1888
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+8.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+8.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$E3AFD287)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$E3AFD287,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303046,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[十级]神魔之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[十级]神魔之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+18880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$5B8D80)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130425A)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130425A)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$857539C6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$857539C6,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303045,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[九级]天行者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[九级]天行者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+8880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$3567E0)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464B)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464B)
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464B,udg_NDXS)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1.28
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1.28
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$302535D5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$302535D5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303048,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[八级]第十三个守护者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[八级]第十三个守护者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+5280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1E8480)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464C)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464C)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.68
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.68
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3F83A062)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3F83A062,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303044,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[七级]天脊骨狱镰！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[七级]天脊骨狱镰！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+3280000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,900000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.38
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.38
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C8905035)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C8905035,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303043,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[六级]血之挽歌！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[六级]血之挽歌！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+2680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,600000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.18
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.18
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C4AF41B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C4AF41B,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303041,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[五级]破极卸刃！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[五级]破极卸刃！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1980000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,400000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$4130464D)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$4130464D)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.08
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.08
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3D02D8A9)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$3D02D8A9,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303039,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[四级]烈焰裁决！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[四级]烈焰裁决！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1580000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,260000)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$669CC344)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$669CC344,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303038,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[三级]狂龙之怒！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[三级]狂龙之怒！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+1080000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,180000)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(81))+.88)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5EFBC46C)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5EFBC46C,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303037,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[二级]闪耀毁灭者！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[二级]闪耀毁灭者！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+880000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,120000)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.12
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$40BC9EA6)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$40BC9EA6,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303036,1)
call DisplayTextToPlayer(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),0,0,"|cffff0000恭喜你抽中了[一级]净魂战矛！")
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+"抽中了[一级]净魂战矛！")
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],ConvertUnitState(19))+680000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,60000)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],$41304259)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],true,$41304259)
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])+"点！！！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$E3CD1F0)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303633,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$E3CD1F0,true)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(81))+2.88)
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了飞星剑！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$C6B5B03A)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303645,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$C6B5B03A,true)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.4
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了斩月刀！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$AD26CFF4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($4930365A,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$AD26CFF4,true)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.1
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了羽日袍！")
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$EB9209F4)==false and GetRandomPercentageBJ()<=.7 then
call UnitAddItemByIdSwapped($49303733,LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),$EB9209F4,true)
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))]+.6
call DisplayTextToForce(GetPlayersAll(),"|cffff0000恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))+"抽中了流云杖！")
else
if GetRandomPercentageBJ()<=10. then
call SaveInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6,GetRandomInt(100,1000))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],bj_MODIFYMETHOD_ADD,LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"全属性+"+I2S(LoadInteger(YDLOC,GetHandleId(GetExpiredTimer()),$353BD8A6))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002,GetRandomReal(500.,5000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],UNIT_STATE_MAX_LIFE)+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"生命值+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$8793002)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706,GetRandomReal(1.,5.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(32))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"护甲+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$40536706)))+"")
else
if GetRandomPercentageBJ()<=20. then
call SaveReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8,GetRandomReal(300.,3000.))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3)))],ConvertUnitState(19))+LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$867628C3))),"攻击力+"+I2S(R2I(LoadReal(YDLOC,GetHandleId(GetExpiredTimer()),$301CC1D8)))+"")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________130Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$4930304F then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetBuyingUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$867628C3,GetBuyingUnit())
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call SaveInteger(YDLOC,GetHandleId(ydl_timer),$353BD8A6,LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$353BD8A6))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$40536706,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$40536706))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$301CC1D8,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$301CC1D8))
call SaveReal(YDLOC,GetHandleId(ydl_timer),$8793002,LoadReal(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8793002))
call TimerStart(ydl_timer,.01,true,function Trig____________________130Func002Func002T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________130 takes nothing returns nothing
set gg_trg____________________130=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________130,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________130,Condition(function Trig____________________130Conditions))
call TriggerAddAction(gg_trg____________________130,function Trig____________________130Actions)
endfunction
function Trig____________________194Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________194Func001Func002T takes nothing returns nothing
if YDWEGetLocalVariableInteger("i")<1 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303341,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"云海飘渺录")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+200000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.15
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+15
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303342,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九霄云雷决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+120000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303343,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣阳焚天决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+80000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303344,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"五雷天心法")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+60000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.5
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303345,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九幽御魔决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+48000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.2
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303346,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"幽鬼太阴箓")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+36000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303339,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"大衍玄光图")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+24000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.4
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303347,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"梵天丹决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+12000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303348,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣龙妖书")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+6000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303349,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"不死仙经")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+3000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$5230334A,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"金乌圣典")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+100000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])+"点！！！")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________194Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49304153 then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetBuyingUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.01,true,function Trig____________________194Func001Func002T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________194 takes nothing returns nothing
set gg_trg____________________194=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________194,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________194,Condition(function Trig____________________194Conditions))
call TriggerAddAction(gg_trg____________________194,function Trig____________________194Actions)
endfunction
function Trig____________________195Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________195Func001Func002T takes nothing returns nothing
if YDWEGetLocalVariableInteger("i")<10 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303341,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"云海飘渺录")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+200000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.15
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+15
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303342,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九霄云雷决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+120000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303343,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣阳焚天决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+80000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303344,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"五雷天心法")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+60000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.5
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303345,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九幽御魔决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+48000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.2
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303346,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"幽鬼太阴箓")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+36000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303339,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"大衍玄光图")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+24000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.4
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303347,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"梵天丹决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+12000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303348,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣龙妖书")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+6000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303349,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"不死仙经")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+3000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$5230334A,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"金乌圣典")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+100000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])+"点！！！")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________195Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49304151 then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetBuyingUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.01,true,function Trig____________________195Func001Func002T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________195 takes nothing returns nothing
set gg_trg____________________195=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________195,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________195,Condition(function Trig____________________195Conditions))
call TriggerAddAction(gg_trg____________________195,function Trig____________________195Actions)
endfunction
function Trig____________________196Conditions takes nothing returns boolean
return IsUnitType(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_TYPE_DEAD)==false
endfunction
function Trig____________________196Func003Func002T takes nothing returns nothing
if YDWEGetLocalVariableInteger("i")<100 then
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if GetRandomReal(0,100.)<=.01 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$2FE204E5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303341,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"云海飘渺录")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+200000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$1201600)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.15
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+15
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$5A6AFC82,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303342,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九霄云雷决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+120000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$877F80)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+2.88
else
if GetRandomReal(0,100.)<=.02 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$82AEE3CF,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303343,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣阳焚天决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+80000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$59B8C0)
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$88829FA5,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303344,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"五雷天心法")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+60000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$2BF200)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.5
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$EAB84A89,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303345,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"九幽御魔决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+48000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,$107AC0)
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.2
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$C44072F4,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303346,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"幽鬼太阴箓")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+36000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,880000)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.03 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$B5DDAF5B,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303339,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"大衍玄光图")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+24000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,680000)
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.4
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7C26B0FC,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303347,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"梵天丹决")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+12000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,460000)
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$6C2C723A,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303348,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"圣龙妖书")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+6000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,320000)
else
if GetRandomReal(0,100.)<=.1 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$CAC2EE64,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$52303349,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"不死仙经")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+3000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,160000)
else
if GetRandomReal(0,100.)<=.5 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),$7404DE86,true)
call AddPlayerTechResearched(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),$5230334A,1)
call DisplayTextToForce(GetPlayersAll(),"|cffffff00恭喜"+GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))+("抽中了"+YDWEGetPlayerColorString(Player(0),"金乌圣典")))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],UNIT_STATE_MAX_LIFE)+100000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))],bj_MODIFYMETHOD_ADD,80000)
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+.3
else
if udg_NDXS!=0 and GetRandomReal(0,100.)<=1. then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),"|cff00ff00抽中了1个紫极碎片，现在碎片数量为"+I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])+"点！！！")
else
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
endif
else
call YDWESetLocalVariableInteger("i",0)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
endfunction
function Trig____________________196Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49304153 then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetBuyingUnit())
set ydl_timer=CreateTimer()
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.01,true,function Trig____________________196Func003Func002T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________196 takes nothing returns nothing
set gg_trg____________________196=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________196,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________196,Condition(function Trig____________________196Conditions))
call TriggerAddAction(gg_trg____________________196,function Trig____________________196Actions)
endfunction
function Trig____________________065Conditions takes nothing returns boolean
return GetItemTypeId(GetSoldItem())==$4930304D or GetItemTypeId(GetSoldItem())==$4930304E or GetItemTypeId(GetSoldItem())==$4930304F
endfunction
function Trig____________________065Actions takes nothing returns nothing
if xgdg_xzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and GetPlayerTechCountSimple($52303047,GetOwningPlayer(GetBuyingUnit()))>=1 then
set xgdg_xzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,26))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($5230325A,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了欧皇附体彩蛋！！！")
else
endif
if xgdg_DzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and GetPlayerTechCountSimple($52303036,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303037,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303038,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303039,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303041,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303043,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303044,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303048,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303045,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303046,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303047,GetOwningPlayer(GetBuyingUnit()))>=1 then
set xgdg_DzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,27))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303330,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了超级欧皇彩蛋！！！")
else
endif
endfunction
function InitTrig____________________065 takes nothing returns nothing
set gg_trg____________________065=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________065,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________065,Condition(function Trig____________________065Conditions))
call TriggerAddAction(gg_trg____________________065,function Trig____________________065Actions)
endfunction
function Trig____________________219Conditions takes nothing returns boolean
return GetItemTypeId(GetSoldItem())==$49304152 or GetItemTypeId(GetSoldItem())==$49304151 or GetItemTypeId(GetSoldItem())==$49304153
endfunction
function Trig____________________219Actions takes nothing returns nothing
if xgdg_dzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and GetPlayerTechCountSimple($52303339,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303341,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303342,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303343,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303344,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303345,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303346,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303347,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303348,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($52303349,GetOwningPlayer(GetBuyingUnit()))>=1 and GetPlayerTechCountSimple($5230334A,GetOwningPlayer(GetBuyingUnit()))>=1 then
set xgdg_dzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,14))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($5230335A,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了饱览群书彩蛋！！！")
else
endif
endfunction
function InitTrig____________________219 takes nothing returns nothing
set gg_trg____________________219=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________219,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________219,Condition(function Trig____________________219Conditions))
call TriggerAddAction(gg_trg____________________219,function Trig____________________219Actions)
endfunction
function Trig____________________018Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________018Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetPlayerTechCountSimple($52303043,GetOwningPlayer(GetAttacker()))>=1 then
call SetUnitLifePercentBJ(GetAttacker(),GetUnitLifePercent(GetAttacker())+1.)
else
endif
if GetPlayerTechCountSimple($52303044,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=5. then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),5000000.*I2R(udg_NDXS),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
if GetPlayerTechCountSimple($52303048,GetOwningPlayer(GetAttacker()))>=1 then
call SetUnitLifeBJ(GetAttacker(),GetUnitState(GetAttacker(),UNIT_STATE_LIFE)+500000.*I2R(udg_NDXS))
else
endif
if GetPlayerTechCountSimple($52303348,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=4. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*2.5,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetPlayerTechCountSimple($52303343,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=1. then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),500.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,GetUnitState(ydl_unit,UNIT_STATE_LIFE)*.01,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
else
endif
if GetPlayerTechCountSimple($52303342,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=2. then
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnit(GetOwningPlayer(GetAttacker()),$68303144,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0))
call IssueImmediateOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"stomp")
call YDWETimerRemoveUnit(1.,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________018 takes nothing returns nothing
set gg_trg____________________018=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________018,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________018,Condition(function Trig____________________018Conditions))
call TriggerAddAction(gg_trg____________________018,function Trig____________________018Actions)
endfunction
function Trig____________________023Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
endfunction
function Trig____________________023Actions takes nothing returns nothing
if GetSpellAbilityId()==$41303449 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==0 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,5000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,5000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,5000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303449)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,1)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303541 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=20 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==1 then
call AdjustPlayerStateBJ(-20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303541)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,2)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130354D then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=40 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==2 then
call AdjustPlayerStateBJ(-40,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,20000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130354D)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,3)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130354E then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=60 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==3 then
call AdjustPlayerStateBJ(-60,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,40000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,40000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,40000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130354E)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,4)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303550 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=80 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==4 then
call AdjustPlayerStateBJ(-80,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,60000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303550)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,5)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303552 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=100 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==5 then
call AdjustPlayerStateBJ(-100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,80000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,80000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303552)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,6)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303739 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=120 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==6 then
call AdjustPlayerStateBJ(-120,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,100000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303739)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,7)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303741 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=240 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==7 then
call AdjustPlayerStateBJ(-240,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,120000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,120000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303741)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,8)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303742 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=480 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==8 then
call AdjustPlayerStateBJ(-480,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,140000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,140000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,140000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303742)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,9)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303743 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=960 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A)==9 then
call AdjustPlayerStateBJ(-960,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,160000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,160000)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303743)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"全属性已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$E2EC434A,10)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
endfunction
function InitTrig____________________023 takes nothing returns nothing
set gg_trg____________________023=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________023,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________023,Condition(function Trig____________________023Conditions))
call TriggerAddAction(gg_trg____________________023,function Trig____________________023Actions)
endfunction
function Trig____________________024Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
endfunction
function Trig____________________024Actions takes nothing returns nothing
if GetSpellAbilityId()==$41303339 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==0 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+10000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303339)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,1)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130334C then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=20 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==1 then
call AdjustPlayerStateBJ(-20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+20000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130334C)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,2)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130334D then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=40 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==2 then
call AdjustPlayerStateBJ(-40,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+40000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130334D)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,3)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303430 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=60 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==3 then
call AdjustPlayerStateBJ(-60,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+80000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303430)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,4)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303438 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=80 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==4 then
call AdjustPlayerStateBJ(-80,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+120000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303438)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,5)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303439 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=100 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==5 then
call AdjustPlayerStateBJ(-100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+200000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303439)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,6)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303441 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=120 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==6 then
call AdjustPlayerStateBJ(-120,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+300000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303441)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,7)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303442 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=240 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==7 then
call AdjustPlayerStateBJ(-240,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+450000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303442)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,8)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303446 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=480 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==8 then
call AdjustPlayerStateBJ(-480,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+600000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303446)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,9)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303448 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=960 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C)==9 then
call AdjustPlayerStateBJ(-960,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],UNIT_STATE_MAX_LIFE)+800000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303448)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"生命值已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$DDFD471C,10)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
endfunction
function InitTrig____________________024 takes nothing returns nothing
set gg_trg____________________024=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________024,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________024,Condition(function Trig____________________024Conditions))
call TriggerAddAction(gg_trg____________________024,function Trig____________________024Actions)
endfunction
function Trig____________________025Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
endfunction
function Trig____________________025Actions takes nothing returns nothing
if GetSpellAbilityId()==$41303031 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==0 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+10000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303031)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,1)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303032 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=20 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==1 then
call AdjustPlayerStateBJ(-20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+20000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303032)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,2)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303033 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=40 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==2 then
call AdjustPlayerStateBJ(-40,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+40000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303033)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,3)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303035 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=60 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==3 then
call AdjustPlayerStateBJ(-60,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+80000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303035)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,4)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303037 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=80 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==4 then
call AdjustPlayerStateBJ(-80,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+120000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303037)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,5)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303041 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=100 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==5 then
call AdjustPlayerStateBJ(-100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+200000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303041)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,6)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303043 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=120 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==6 then
call AdjustPlayerStateBJ(-120,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+300000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303043)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,7)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303044 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=240 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==7 then
call AdjustPlayerStateBJ(-240,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+450000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303044)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,8)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303047 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=480 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==8 then
call AdjustPlayerStateBJ(-480,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+600000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303047)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,9)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303048 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=960 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C)==9 then
call AdjustPlayerStateBJ(-960,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+800000.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303048)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"攻击力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$6A431A9C,10)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
endfunction
function InitTrig____________________025 takes nothing returns nothing
set gg_trg____________________025=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________025,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________025,Condition(function Trig____________________025Conditions))
call TriggerAddAction(gg_trg____________________025,function Trig____________________025Actions)
endfunction
function Trig____________________026Conditions takes nothing returns boolean
return GetTriggerUnit()==udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
endfunction
function Trig____________________026Actions takes nothing returns nothing
if GetSpellAbilityId()==$41303049 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=10 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==0 then
call AdjustPlayerStateBJ(-10,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+10.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303049)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,1)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130304D then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=20 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==1 then
call AdjustPlayerStateBJ(-20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+20.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130304D)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,2)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130304E then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=40 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==2 then
call AdjustPlayerStateBJ(-40,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+30.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130304E)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,3)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130304F then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=60 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==3 then
call AdjustPlayerStateBJ(-60,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+40.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130304F)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,4)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303051 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=80 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==4 then
call AdjustPlayerStateBJ(-80,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+50.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303051)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,5)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303052 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=100 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==5 then
call AdjustPlayerStateBJ(-100,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+60.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303052)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,6)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303232 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=120 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==6 then
call AdjustPlayerStateBJ(-120,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+70.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303232)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,7)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303233 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=240 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==7 then
call AdjustPlayerStateBJ(-240,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+80.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303233)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,8)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$4130324A then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=480 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==8 then
call AdjustPlayerStateBJ(-480,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+90.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130324A)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,9)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
if GetSpellAbilityId()==$41303251 then
if GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=960 and LoadInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27)==9 then
call AdjustPlayerStateBJ(-960,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+100.)
call UnitRemoveAbility(udg_LG[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$41303251)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"防御力已经得到了提升！！！")
call SaveInteger(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$BC8CFB27,10)
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您需要先购买上一级！！！")
endif
else
endif
endfunction
function InitTrig____________________026 takes nothing returns nothing
set gg_trg____________________026=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________026,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________026,Condition(function Trig____________________026Conditions))
call TriggerAddAction(gg_trg____________________026,function Trig____________________026Actions)
endfunction
function Trig____________________148Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303830 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"幽魂兽")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303059))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303857 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"骷髅战将")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303239))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303856 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"蛮荒妖牛")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303858 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"炼狱傀儡")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303141))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303854 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"失落的傀儡")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033))))
else
endif
if GetItemTypeId(GetSoldItem())==$4930384E then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"树魔狂战士")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303236))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303859 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"小虚灵")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303136))))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"大虚灵")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303142))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303853 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"幽冥女妖")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303132))))
else
endif
if GetItemTypeId(GetSoldItem())==$49303855 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"狱卒兽")+"的当前杀敌数量为"+YDWEGetPlayerColorString(Player(7),I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E30314E))))
else
endif
endfunction
function InitTrig____________________148 takes nothing returns nothing
set gg_trg____________________148=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________148,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________148,function Trig____________________148Actions)
endfunction
function Trig____________________149Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303236 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$BCE2EF42)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303059)>=100 then
call UnitAddItemByIdSwapped($49303253,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303059,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303059)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$BCE2EF42,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"浮世万千—入梦"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303343 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$11675004)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303236)>=100 then
call UnitAddItemByIdSwapped($49303254,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303236,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303236)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$11675004,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"浮世万千—造梦"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303342 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$12475A86)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303132)>=100 then
call UnitAddItemByIdSwapped($49303252,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303132,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303132)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$12475A86,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"浮世万千—梦中杀人"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303534 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$D97F6A31)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)>=100 then
call UnitAddItemByIdSwapped($4930344A,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$D97F6A31,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"邪恶天灾"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303533 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$58F68C23)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)>=100 then
call UnitAddItemByIdSwapped($4930344C,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$58F68C23,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"邪恶之魂"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303532 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$ED1472CF)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)>=100 then
call UnitAddItemByIdSwapped($49303449,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$ED1472CF,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"邪恶之力"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303535 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$83BFCA3F)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)>=100 then
call UnitAddItemByIdSwapped($4930344B,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303033)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$83BFCA3F,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"邪恶之魄"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
endfunction
function InitTrig____________________149 takes nothing returns nothing
set gg_trg____________________149=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________149,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________149,function Trig____________________149Actions)
endfunction
function Trig____________________152Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303249 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$BC3A4C06)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)>=100 then
call UnitAddItemByIdSwapped($49303458,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$BC3A4C06,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"惊雷护手"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303245 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$DF1DAAC0)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)>=100 then
call UnitAddItemByIdSwapped($49303459,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$DF1DAAC0,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"惊雷护肩"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303539 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$A18E1EC0)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)>=100 then
call UnitAddItemByIdSwapped($4930344F,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$A18E1EC0,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"惊雷战盔"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303541 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3BF85E8F)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)>=100 then
call UnitAddItemByIdSwapped($4930344D,GetBuyingUnit())
call SaveInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135,LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),$6E303135)-100)
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3BF85E8F,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"惊雷战刃"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或者已经兑换过！"+YDWEGetPlayerColorString(Player(7),"兑换失败！"))
endif
else
endif
endfunction
function InitTrig____________________152 takes nothing returns nothing
set gg_trg____________________152=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________152,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________152,function Trig____________________152Actions)
endfunction
function Trig____________________059Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303938 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(19))+50000.)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"50000点攻击力"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303939 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(32))+5.)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"5点护甲"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303941 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],UNIT_STATE_MAX_LIFE)+200000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],100)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"200000点生命上限"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303942 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,20000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,20000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],bj_MODIFYMETHOD_ADD,20000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"20000点全属性"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303944 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=750 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-750
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"5%的伤害增幅"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303954 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"5%的物理吸血"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303357 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.03
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"3%的法术吸血"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303945 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$B085893F)==false and udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=2500 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-2500
set udg_SDSZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDSZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$B085893F,true)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"恭喜您成功兑换了"+YDWEGetPlayerColorString(Player(7),"杀敌数+1"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"杀敌数不足，或已经兑换过"+YDWEGetPlayerColorString(Player(7),"兑换失败！！！"))
endif
else
endif
endfunction
function InitTrig____________________059 takes nothing returns nothing
set gg_trg____________________059=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________059,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________059,function Trig____________________059Actions)
endfunction
function Trig____________________073Conditions takes nothing returns boolean
return GetSpellAbilityId()==$41304257 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________073Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call YDWESetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())),YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))+1)
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetRectCenter(gg_rct______________022))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手商店-购买新手四件套！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
else
endif
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==2 and GetPlayerTechCountSimple($52303042,GetOwningPlayer(GetTriggerUnit()))<1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D,GetRectCenter(gg_rct______________017))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手任务-击杀30个鸡！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A1614B4D))
else
endif
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==3 and GetPlayerTechCountSimple($52303032,GetOwningPlayer(GetTriggerUnit()))<1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E,GetRectCenter(gg_rct______________018))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手任务-击杀30个小蜥蜴！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9C0F555E))
else
endif
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==4 and GetPlayerTechCountSimple($52303033,GetOwningPlayer(GetTriggerUnit()))<1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2,GetRectCenter(gg_rct______________052))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手任务-击杀1个大蜘蛛！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$A3098AE2))
else
endif
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==5 and GetPlayerTechCountSimple($52303035,GetOwningPlayer(GetTriggerUnit()))<1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________019))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手任务-击杀30个狗头人！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())))==6 and GetPlayerTechCountSimple($52303034,GetOwningPlayer(GetTriggerUnit()))<1 then
call YDWESetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit())),0)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$239F3A6E,GetRectCenter(gg_rct______________020))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$239F3A6E))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetTriggerUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$239F3A6E),0)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),"传送到了新手任务-击杀1个山林守护者！！！")
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$239F3A6E))
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________073 takes nothing returns nothing
set gg_trg____________________073=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________073,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trg____________________073,Condition(function Trig____________________073Conditions))
call TriggerAddAction(gg_trg____________________073,function Trig____________________073Actions)
endfunction
function Trig____________________062Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303935 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，修罗体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是修罗体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303931 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，九幽体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是九幽体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303934 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.2
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，圣皇体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是圣皇体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303933 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，五行体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是五行体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303930 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，元灵体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是元灵体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303932 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)!=5 then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)>=1 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)*1000 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(0+GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)*1000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call IncUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您，天魔体提升成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，提升失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"您的体质不是天魔体，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303936 then
if udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=700 then
set udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-700
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit())),3),YDWEGetPlayerColorString(GetOwningPlayer(GetBuyingUnit()),I2S(udg_SDS[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
call YDWESetLocalVariableAbilityIDArray("jn",1,$41304553)
call YDWESetLocalVariableAbilityIDArray("jn",2,$41304552)
call YDWESetLocalVariableAbilityIDArray("jn",3,$41304550)
call YDWESetLocalVariableAbilityIDArray("jn",4,$41303250)
call YDWESetLocalVariableAbilityIDArray("jn",5,$41304551)
call YDWESetLocalVariableAbilityIDArray("jn",6,$41304554)
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304553)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41303250)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304551)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552)
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-.05*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304552))
else
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(.1+.2*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304550)))
else
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554)
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-.05*I2R(GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304554))
else
endif
call YDWESetLocalVariableAbilityID("ab",YDWEGetLocalVariableAbilityIDArray("jn",GetRandomInt(1,6)))
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],YDWEGetLocalVariableAbilityID("ab"))
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,YDWEGetLocalVariableAbilityID("ab"))
if YDWEGetLocalVariableAbilityID("ab")==$41304552 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
else
endif
if YDWEGetLocalVariableAbilityID("ab")==$41304550 then
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
else
endif
if YDWEGetLocalVariableAbilityID("ab")==$41304554 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
else
endif
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"恭喜您获取了体质"+YDWEGetPlayerColorString(Player(0),GetAbilityName(YDWEGetLocalVariableAbilityID("ab"))))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),"杀怪数不足，抽取失败！！！")
endif
set udg_FKZR[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FKZR[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
else
endif
endfunction
function InitTrig____________________062 takes nothing returns nothing
set gg_trg____________________062=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________062,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________062,function Trig____________________062Actions)
endfunction
function Trig____________________155Actions takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())==$6E303035 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$638621D6)==false then
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303035)>=30 then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$638621D6,true)
call SetPlayerTechResearchedSwap($52303042,1,GetOwningPlayer(GetKillingUnit()))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+5000.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"新手任务："+YDWEGetPlayerColorString(Player(0),"杀鸡任务")+"已经完成了！+5000点攻击力！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(8),"新手任务："+"杀野鸡30/"+I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303035))))
endif
else
endif
if xgdg_XAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303035)>=250 then
set xgdg_XAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,9))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303244,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了吃鸡者彩蛋！！！")
else
endif
else
endif
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$53AC7232)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303035)>=588 then
call UnitAddItemByIdSwapped($49303450,GetKillingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$53AC7232,true)
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303057 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$3C6AF4DD)==false then
call SetPlayerTechResearchedSwap($52303034,1,GetOwningPlayer(GetKillingUnit()))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$3C6AF4DD,true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(8),"新手任务："+YDWEGetPlayerColorString(Player(0),"山林守护者")+"已经完成了！护甲+5点！！！"))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+5.)
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303038 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$294A8D57)==false then
call SetPlayerTechResearchedSwap($52303033,1,GetOwningPlayer(GetKillingUnit()))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$294A8D57,true)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(8),"新手任务："+YDWEGetPlayerColorString(Player(0),"大蜘蛛任务")+"已经完成了！攻击速度+30%！！！"))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(81))+.3)
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E30314C then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$D06FE295)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E30314C)>=30 then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$D06FE295,true)
call SetPlayerTechResearchedSwap($52303035,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"新手任务："+YDWEGetPlayerColorString(Player(0),"杀狗头人")+"已经完成了！奖励5000全属性！！！"))
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,5000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,5000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,5000)
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(8),"新手任务："+"杀狗头人30/"+I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E30314C))))
endif
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$C61542B)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E30314C)>=666 then
call UnitAddItemByIdSwapped($49303452,GetKillingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$C61542B,true)
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303036 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$25BFE036)==false then
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303036)>=30 then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$25BFE036,true)
call SetPlayerTechResearchedSwap($52303032,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"新手任务："+YDWEGetPlayerColorString(Player(0),"杀蜥蜴")+"已经完成了！+50000最大生命值！！！"))
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+50000.)
call SetUnitLifePercentBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],100)
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(8),"新手任务："+"杀小蜥蜴30/"+I2S(LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303036))))
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303052 then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$6822DE31)==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303052)>=888 then
call UnitAddItemByIdSwapped($49303451,GetKillingUnit())
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$6822DE31,true)
else
endif
else
endif
endfunction
function InitTrig____________________155 takes nothing returns nothing
set gg_trg____________________155=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________155,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________155,function Trig____________________155Actions)
endfunction
function Trig____________________110Conditions takes nothing returns boolean
return IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false
endfunction
function Trig____________________110Actions takes nothing returns nothing
local group ydl_group
local unit ydl_unit
if GetUnitAbilityLevel(GetAttacker(),$41304551)>=1 then
if GetRandomPercentageBJ()<=15. then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*(I2R(GetUnitAbilityLevel(GetAttacker(),$41304551))/1.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
else
endif
if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true and GetUnitAbilityLevel(GetAttacker(),$41304553)>=1 then
call UnitDamageTargetBJ(GetAttacker(),GetTriggerUnit(),(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*(0.+.1*I2R(GetUnitAbilityLevel(GetAttacker(),$41304553))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41303250)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),400.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(GetUnitState(GetAttacker(),ConvertUnitState(18))+GetUnitState(GetAttacker(),ConvertUnitState(19)))*(0.+I2R(GetUnitAbilityLevel(GetAttacker(),$41303250))/10.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304550)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),600.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,(I2R(GetHeroStr(GetAttacker(),true))+I2R(GetHeroAgi(GetAttacker(),true))+I2R(GetHeroInt(GetAttacker(),true)))*(I2R(GetUnitAbilityLevel(GetAttacker(),$41304550))/20.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
if GetUnitAbilityLevel(GetAttacker(),$41304554)>=1 then
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),400.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetAttacker()))==true then
call UnitDamageTargetBJ(GetAttacker(),ydl_unit,I2R(GetHeroStr(GetAttacker(),true))*(I2R(GetUnitAbilityLevel(GetAttacker(),$41304554))/2.),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
else
endif
set ydl_group=null
set ydl_unit=null
endfunction
function InitTrig____________________110 takes nothing returns nothing
set gg_trg____________________110=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________110,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________110,Condition(function Trig____________________110Conditions))
call TriggerAddAction(gg_trg____________________110,function Trig____________________110Actions)
endfunction
function Trig____________________117Conditions takes nothing returns boolean
return IsUnitType(GetKillingUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________117Actions takes nothing returns nothing
if GetUnitAbilityLevel(GetKillingUnit(),$41304551)>=1 then
call ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnit(),bj_MODIFYMETHOD_ADD,30*GetUnitAbilityLevel(GetKillingUnit(),$41304551))
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41304553)>=1 then
call SetUnitState(GetKillingUnit(),ConvertUnitState(19),GetUnitState(GetKillingUnit(),ConvertUnitState(19))+I2R(GetUnitAbilityLevel(GetKillingUnit(),$41304553))*30.)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41304552)>=1 then
call SetUnitState(GetKillingUnit(),UNIT_STATE_MAX_LIFE,GetUnitState(GetKillingUnit(),UNIT_STATE_MAX_LIFE)+(100.+50.*I2R(GetUnitAbilityLevel(GetKillingUnit(),$41304552))))
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41303250)>=1 then
if GetRandomPercentageBJ()<=15. then
call AdjustPlayerStateBJ(GetUnitAbilityLevel(GetKillingUnit(),$41303250),GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
endif
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41304550)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,GetUnitAbilityLevel(GetKillingUnit(),$41304550)*20)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetKillingUnit(),bj_MODIFYMETHOD_ADD,GetUnitAbilityLevel(GetKillingUnit(),$41304550)*20)
call ModifyHeroStat(bj_HEROSTAT_INT,GetKillingUnit(),bj_MODIFYMETHOD_ADD,GetUnitAbilityLevel(GetKillingUnit(),$41304550)*20)
else
endif
if GetUnitAbilityLevel(GetKillingUnit(),$41304554)>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,GetKillingUnit(),bj_MODIFYMETHOD_ADD,30*GetUnitAbilityLevel(GetKillingUnit(),$41304554))
else
endif
endfunction
function InitTrig____________________117 takes nothing returns nothing
set gg_trg____________________117=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________117,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________117,Condition(function Trig____________________117Conditions))
call TriggerAddAction(gg_trg____________________117,function Trig____________________117Actions)
endfunction
function Trig____________________009Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetBuyingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________009Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetItemTypeId(GetSoldItem())==$49303837 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),3),0)==true then
call XG_ReleaseTask_Player(3,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),3),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你击杀"+"50个半人马"+"！"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________001))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$42B825A)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________001))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"该任务只可接取一次！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303838 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),4),0)==true then
call XG_ReleaseTask_Player(4,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),4),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你击杀"+"50个北极熊怪"+"！"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________002))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$3DF7F08F)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________002))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"该任务只可接取一次！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303842 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),5),0)==true then
call XG_ReleaseTask_Player(5,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),5),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你击杀"+"50个野蛮人"+"！"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________016))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$33854533)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________016))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"该任务只可接取一次！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303841 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),6),0)==true then
call XG_ReleaseTask_Player(6,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),6),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你击杀"+"50个豪猪"+"！"))
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________003))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$21D03CD0)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________003))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),5.)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"该任务只可接取一次！！！"))
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________009 takes nothing returns nothing
set gg_trg____________________009=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________009,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________009,Condition(function Trig____________________009Conditions))
call TriggerAddAction(gg_trg____________________009,function Trig____________________009Actions)
endfunction
function Trig____________________015Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_CREEP
endfunction
function Trig____________________015Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetUnitTypeId(GetDyingUnit())==$6E303148 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),4),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),4),StringHash(""))>=49. then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$3DF7F08F)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$3DF7F08F,true)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________021))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SetPlayerTechResearchedSwap($52303135,1,GetOwningPlayer(GetKillingUnit()))
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,"[剿灭北极熊怪]任务已经完成了！！！")
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),4),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),4),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"已击杀"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),4),StringHash(""))))+" /50个")
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303158 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),5),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),5),StringHash(""))>=49. then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$33854533)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$33854533,true)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________021))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SetPlayerTechResearchedSwap($52303136,1,GetOwningPlayer(GetKillingUnit()))
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,"[剿灭野蛮人]任务已经完成了！！！")
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),5),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),5),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"已击杀"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),5),StringHash(""))))+" /50个")
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303056 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),3),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),3),StringHash(""))>=49. then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$42B825A)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$42B825A,true)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________021))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SetPlayerTechResearchedSwap($52303134,1,GetOwningPlayer(GetKillingUnit()))
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,"[剿灭半人马]任务已经完成了！！！")
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),3),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),3),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"已击杀"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),3),StringHash(""))))+" /50个")
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303052 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),6),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),6),StringHash(""))>=49. then
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$21D03CD0)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$21D03CD0,true)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________021))
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SetPlayerTechResearchedSwap($52303137,1,GetOwningPlayer(GetKillingUnit()))
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,"[剿灭豪猪]任务已经完成了！！！")
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
endif
else
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),6),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),6),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"已击杀"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),6),StringHash(""))))+" /50个")
endif
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________015 takes nothing returns nothing
set gg_trg____________________015=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________015,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________015,Condition(function Trig____________________015Conditions))
call TriggerAddAction(gg_trg____________________015,function Trig____________________015Actions)
endfunction
function Trig____________________136Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetBuyingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________136Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303755 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),7),0)==true then
call XG_ReleaseTask_Player(7,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),7),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"10点灵力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303831 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),8),0)==true then
call XG_ReleaseTask_Player(8,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),8),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"20点散力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303832 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),9),0)==true then
call XG_ReleaseTask_Player(9,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),9),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"40点能力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930375A then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),10),0)==true then
call XG_ReleaseTask_Player(10,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),10),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"60点尊力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303834 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),11),0)==true then
call XG_ReleaseTask_Player(11,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),11),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"80点圣力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303835 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),12),0)==true then
call XG_ReleaseTask_Player(12,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),12),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"100点神力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303754 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),13),0)==true then
call XG_ReleaseTask_Player(13,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),13),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"120点帝力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303759 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),14),0)==true then
call XG_ReleaseTask_Player(14,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),14),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"140点幻力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303758 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),15),0)==true then
call XG_ReleaseTask_Player(15,GetOwningPlayer(GetBuyingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetBuyingUnit())),15),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"160点虚力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetBuyingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetBuyingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
endif
endfunction
function InitTrig____________________136 takes nothing returns nothing
set gg_trg____________________136=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________136,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________136,Condition(function Trig____________________136Conditions))
call TriggerAddAction(gg_trg____________________136,function Trig____________________136Actions)
endfunction
function Trig____________________137Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function Trig____________________137Actions takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())==$6E303059 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),StringHash(""))>=9. then
if GetPlayerTechCountSimple($52303053,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+10
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303053,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"灵兽之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),2)
call UnitAddItemByIdSwapped($49303852,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),0)==true then
call XG_ReleaseTask_Player(7,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"10点灵力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$3DB7B0D6,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前灵力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),7),StringHash(""))))+" /10点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303236 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),StringHash(""))>=19. then
if GetPlayerTechCountSimple($52303052,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+15
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303052,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"散人之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),2)
call UnitAddItemByIdSwapped($49303849,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),0)==true then
call XG_ReleaseTask_Player(8,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"20点散力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$F8B304FF,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前散力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),8),StringHash(""))))+" /20点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303132 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),StringHash(""))>=39. then
if GetPlayerTechCountSimple($52303054,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+20
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303054,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"大能之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),2)
call UnitAddItemByIdSwapped($4930384A,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),0)==true then
call XG_ReleaseTask_Player(9,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"40点能力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$1A7AF277,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前能力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),9),StringHash(""))))+" /40点")
else
endif
endif
else
endif
else
endif
endfunction
function InitTrig____________________137 takes nothing returns nothing
set gg_trg____________________137=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________137,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________137,Condition(function Trig____________________137Conditions))
call TriggerAddAction(gg_trg____________________137,function Trig____________________137Actions)
endfunction
function Trig____________________138Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function Trig____________________138Actions takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())==$6E303033 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),StringHash(""))>=59. then
if GetPlayerTechCountSimple($52303055,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+25
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303055,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"尊者之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),2)
call UnitAddItemByIdSwapped($4930384B,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),0)==true then
call XG_ReleaseTask_Player(10,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"60点尊力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$11EC011D,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前尊力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),10),StringHash(""))))+" /60点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303135 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),StringHash(""))>=79. then
if GetPlayerTechCountSimple($52303056,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+30
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303056,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"圣兽之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),2)
call UnitAddItemByIdSwapped($4930384F,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),0)==true then
call XG_ReleaseTask_Player(11,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"80点圣力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$A2D721C5,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前圣力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),11),StringHash(""))))+" /80点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E30314E then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),StringHash(""))>=99. then
if GetPlayerTechCountSimple($52303057,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+35
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303057,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"龙凤之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),2)
call UnitAddItemByIdSwapped($49303850,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),0)==true then
call XG_ReleaseTask_Player(12,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"100点神力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$7653C95A,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前神力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),12),StringHash(""))))+" /100点")
else
endif
endif
else
endif
else
endif
endfunction
function InitTrig____________________138 takes nothing returns nothing
set gg_trg____________________138=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________138,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________138,Condition(function Trig____________________138Conditions))
call TriggerAddAction(gg_trg____________________138,function Trig____________________138Actions)
endfunction
function Trig____________________139Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE)
endfunction
function Trig____________________139Actions takes nothing returns nothing
if GetUnitTypeId(GetDyingUnit())==$6E303239 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),StringHash(""))>=120. then
if GetPlayerTechCountSimple($52303058,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+40
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303058,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"帝尊之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),2)
call UnitAddItemByIdSwapped($49303851,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("a",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),0)==true then
call XG_ReleaseTask_Player(13,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"120点帝力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$F2653EF2,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前帝力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),13),StringHash(""))))+" /120点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303141 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),StringHash(""))>=139. then
if GetPlayerTechCountSimple($52303059,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+45
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($52303059,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"混沌之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),2)
call UnitAddItemByIdSwapped($4930384C,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("b",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),0)==true then
call XG_ReleaseTask_Player(14,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"140点幻力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$7D9B5B70,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前幻力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),14),StringHash(""))))+" /140点")
else
endif
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E303142 then
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),1)==true then
if LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),StringHash(""))>=159. then
if GetPlayerTechCountSimple($5230305A,GetOwningPlayer(GetKillingUnit()))!=1 then
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),2)
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+50
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
call SetPlayerTechResearchedSwap($5230305A,15,GetOwningPlayer(GetKillingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+YDWEGetPlayerColorString(Player(6),"恭喜您激活了"+YDWEGetPlayerColorString(Player(0),"太初之力")+"！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
if YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))<5 then
call YDWESetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))+1)
call XG_Task_Logout(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),2)
call UnitAddItemByIdSwapped($4930384D,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+(YDWEGetPlayerColorString(Player(6),"任务完成，获得丹药奖励，")+YDWEGetPlayerColorString(Player(0),I2S(YDWEGetLocalVariableIntegerArray("c",GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())))))+"/5"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303051,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
if XG_Task_GetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),0)==true then
call XG_ReleaseTask_Player(15,GetOwningPlayer(GetKillingUnit()),YDWEGetPlayerColorString(Player(0),""))
call XG_Task_SetState(LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),1)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(4),"任务已接取！"))
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(7),"需要你积攒"+"160点虚力"+"！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303050,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),270.))
else
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,5.,YDWEGetPlayerColorString(Player(0),"任务已接取,或者还没完成上一个任务！"))
endif
else
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$91149D59,true)
endif
endif
else
if GetRandomPercentageBJ()<=70. then
call SaveReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),StringHash(""),(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),StringHash(""))+1.)*1.)
call DisplayTimedTextToPlayer(GetOwningPlayer(GetKillingUnit()),0,0,2.,"当前虚力点数为"+I2S(R2I(LoadReal(XGTask__db_d,LoadInteger(XGTask__db_u,GetHandleId(GetOwningPlayer(GetKillingUnit())),15),StringHash(""))))+" /160点")
else
endif
endif
else
endif
else
endif
endfunction
function InitTrig____________________139 takes nothing returns nothing
set gg_trg____________________139=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________139,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________139,Condition(function Trig____________________139Conditions))
call TriggerAddAction(gg_trg____________________139,function Trig____________________139Actions)
endfunction
function Trig____________________162Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303953 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=2 then
if xgdg_OAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.03
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+50.
set xgdg_OAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,0))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-20
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303138,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"清曜剑")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303836 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=4 then
if xgdg_lAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=40 then
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+5
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+100.
set xgdg_lAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,1))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-40
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303139,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"玄冰盾")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303951 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=6 then
if xgdg_kAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=60 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],ConvertUnitState(81))+1.)
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.5
set xgdg_kAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,2))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-60
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303141,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"星闪烈焰刀")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303952 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=8 then
if xgdg_QAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=80 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+50
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+100.
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+150.
set udg_SDjb[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDjb[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1888
set xgdg_QAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,3))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-80
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303142,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"斩龙剑")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303957 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 then
if xgdg_PAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100 then
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.15
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.1
set xgdg_PAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,4))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303143,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"风鸣琴")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303059 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=12 then
if xgdg_RAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=120 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+70
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+15
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+10
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.5
set xgdg_RAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,5))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-120
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303144,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"圣光裁决")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303130 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=14 then
if xgdg_jAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=150 then
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+200.
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.05
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+5
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2
set xgdg_jAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,6))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-150
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303145,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"神之叹息")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304145 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=15 then
if xgdg_wzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=300 then
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+138.
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.2
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.5
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.2
set xgdg_wzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,28))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-300
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303333,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"九天龙魂")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930414D then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=16 then
if xgdg_yzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=400 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+108
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.7
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.15
set xgdg_yzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,29))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-400
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303334,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"炼狱魔刀")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930414E then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=17 then
if xgdg_EzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=500 then
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+288.
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.6
set udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_GDJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+8
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+10
set udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+8
set xgdg_EzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,30))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-500
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303335,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"苍天帝剑")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930414F then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=18 then
if xgdg_FzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=800 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+168
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+288.
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+399.
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.7
set udg_SDSZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDSZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
set xgdg_FzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,0))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-800
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303336,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"圣器-封神榜")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930415A then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=20 then
if xgdg_ZzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1500 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+188
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+308.
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.
set xgdg_ZzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,19))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1500
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303356,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"圣器-盘古开天斧")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304230 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=22 then
if xgdg_azA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=3000 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+208
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+348.
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.3
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.5
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1.
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+4
set xgdg_azA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,20))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-3000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303436,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"圣器-万古寰宇棍")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者通关积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304141 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的通关积分为"+YDWEGetPlayerColorString(Player(0),I2S(udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
endfunction
function InitTrig____________________162 takes nothing returns nothing
set gg_trg____________________162=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________162,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________162,function Trig____________________162Actions)
endfunction
function Trig____________________216Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49304150 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 then
if xgdg_GzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set xgdg_GzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,3))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"九霄龙吟剑")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304156 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 then
if xgdg_hzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set xgdg_hzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,4))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"九霄龙吟甲")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304157 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 then
if xgdg_TzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set xgdg_TzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,5))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"九霄龙吟环")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304158 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 then
if xgdg_SzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set xgdg_SzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,6))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"九霄龙吟靴")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304236 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=18 then
if xgdg_zBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=2000 then
set xgdg_zBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,11))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-2000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"血羽赤灵枪")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304237 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=21 then
if xgdg_BBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=3000 then
set xgdg_BBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,12))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-3000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"赤霄冥炎剑")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304238 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=25 then
if xgdg_WzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=4000 then
set xgdg_WzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,13))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-4000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"六合混元鼎")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，或者无尽积分不足，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304239 then
if udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<0 then
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的无尽积分成功修复了，直接设置为了1000，还有补偿礼包哦！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的无尽积分没有问题啊，不用修复呢！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304231 then
if udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<0 then
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的通关积分成功修复了，直接设置为了1000！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的通关积分没有问题啊，不用修复呢！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304159 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的无尽积分为"+YDWEGetPlayerColorString(Player(0),I2S(udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
endfunction
function InitTrig____________________216 takes nothing returns nothing
set gg_trg____________________216=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________216,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________216,function Trig____________________216Actions)
endfunction
function Trig____________________157Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49304135 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=5 and udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100 then
if xgdg_UAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set xgdg_UAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,20))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303255,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"紫极光环")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足或者碎片不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304142 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=5 and udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100 then
if xgdg_fAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set xgdg_fAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,21))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303256,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"紫极印记")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足或者碎片不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304143 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=5 and udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100 then
if xgdg_eAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set xgdg_eAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,22))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303257,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"紫极之翼")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足或者碎片不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304144 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=5 and udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100 then
if xgdg_VAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set xgdg_VAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,23))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303258,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"紫极之刃")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足或者碎片不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304155 then
if DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=10 and udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1500 then
if xgdg_vzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set xgdg_vzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,2))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1500
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"英雄-七杀")+"成功，并且永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经兑换过，兑换失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的地图等级不足或者碎片不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304246 then
if udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<20 then
if udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=5000 then
set udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-5000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZJSP",udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"CDSDJMC",udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换杀敌加木材等级为"+YDWEGetPlayerColorString(Player(7),I2S(udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))+"次！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"碎片不足！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"该兑换已经达到了上限！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304146 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的紫极碎片为"+YDWEGetPlayerColorString(Player(0),I2S(udg_ZJSP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
endfunction
function InitTrig____________________157 takes nothing returns nothing
set gg_trg____________________157=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________157,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________157,function Trig____________________157Actions)
endfunction
function Trig____________________127Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49303958 then
if udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXbadao",udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的霸刀成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXbadao[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303132 then
if udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXyinjian",udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的隐剑成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXyinjian[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303959 then
if udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXlizhua",udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的利爪成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXlizhua[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930395A then
if udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXguishi",udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的诡师成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXguishi[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304131 then
if udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXzhanfa",udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的战法成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXzhanfa[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304132 then
if udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXtianqiang",udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的天枪成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXtianqiang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304133 then
if udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXzhongzhuang",udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的重装成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXzhongzhuang[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304134 then
if udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXlinggong",udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的灵弓成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXlinggong[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304149 then
if udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]!=5 then
if udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=20+20*udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))] and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]*2+2 then
set udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(20+20*udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"ZGZ",udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"YXpojun",udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("您的破军成功升级了一颗星，下一局该英雄"+YDWEGetPlayerColorString(Player(0),I2S(udg_YXpojun[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1))+"星状态！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"战功值或者地图等级不足，升星失败！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您的英雄已经处于五星状态，无法升星了！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304136 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的战功值为"+YDWEGetPlayerColorString(Player(0),I2S(udg_ZGZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
endfunction
function InitTrig____________________127 takes nothing returns nothing
set gg_trg____________________127=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________127,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________127,function Trig____________________127Actions)
endfunction
function Trig____________________131Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49304232 then
if udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<=100. and udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDZ",udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+10.
call DzAPI_Map_StoreReal(GetOwningPlayer(GetBuyingUnit()),"HDZJL",udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"护道者触发几率成功提升了10%！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"护道者积分不足，提升失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304233 then
if udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<1 and udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=100000 then
set udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-100000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDZ",udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDZMC",udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"护道者触发获得木材奖励+1")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"护道者积分不足，或者已经提升过！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304138 then
if udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=6666 then
if xgdg_WAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-6666
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDZ",udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_WAA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,7))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303243,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换"+YDWEGetPlayerColorString(Player(7),"护道者")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经永久激活了护道者活动成就，不可重复激活！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"护道者积分不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304241 then
if xgdg_bzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
set xgdg_bzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,18))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303433,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"补偿礼包")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了补偿礼包，不可重复激活！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304154 then
if xgdg_uzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+33
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
set xgdg_uzA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,1))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($5230334B,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"补偿礼包")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了补偿礼包，不可重复激活！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304137 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的护道者积分为"+YDWEGetPlayerColorString(Player(0),I2S(udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
if GetItemTypeId(GetSoldItem())==$49304235 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的护道者木材为"+YDWEGetPlayerColorString(Player(0),I2S(udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1)))
else
endif
if GetItemTypeId(GetSoldItem())==$49304234 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的护道者触发几率为"+YDWEGetPlayerColorString(Player(0),I2S(20+R2I(udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))))
else
endif
if GetItemTypeId(GetSoldItem())==$49304248 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的粽子数量为"+YDWEGetPlayerColorString(Player(0),I2S(udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
if GetItemTypeId(GetSoldItem())==$49304247 then
if xgdg_mBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=4444 then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.2
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+5
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+88
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+66.
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+188.
set udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-4444
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDBP",udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_mBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,9))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303455,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"端午印记")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包或者粽子数量不足，不可重复兑换！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304245 then
if xgdg_NBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=9999 then
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.66
set udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHjm[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+.18
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+5
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+188
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+166.
set udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDsmz[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+266.
set udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-9999
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"HDBP",udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_NBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,10))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303456,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"端午香包")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包或者粽子数量不足，不可重复兑换！！！")
endif
else
endif
endfunction
function InitTrig____________________131 takes nothing returns nothing
set gg_trg____________________131=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________131,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________131,function Trig____________________131Actions)
endfunction
function Trig____________________242Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49304249 then
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"游戏提示：")+"您当前的金元宝数量为"+YDWEGetPlayerColorString(Player(0),I2S(udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])))
else
endif
if GetItemTypeId(GetSoldItem())==$4930424A then
if xgdg_lBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=3333 then
set udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-3333
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"JYBSL",udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_lBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,11))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303447,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"财神印记")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包或者金元宝数量不足，不可重复兑换！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930424B then
if xgdg_OBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=4444 then
set udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-4444
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"JYBSL",udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_OBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,12))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303459,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"财神福袋")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包或者金元宝数量不足，不可重复兑换！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930424C then
if xgdg_PBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==false and udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=9999 then
set udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-9999
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"JYBSL",udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_PBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+R2I(Pow(2,13))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetPlayerTechResearchedSwap($52303457,1,GetOwningPlayer(GetBuyingUnit()))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("礼包"+YDWEGetPlayerColorString(Player(7),"财神大礼包")+"永久激活了！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包或者金元宝数量不足，不可重复兑换！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304244 then
if xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<10 then
if udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1000 then
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-1000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"CDSDJMC01",xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换杀敌加木材等级为"+YDWEGetPlayerColorString(Player(7),I2S(xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))+"次！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"积分不足！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"该兑换已经达到了上限！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930424D then
if xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<10 then
if udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=2000 then
set udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-2000
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"WJJF",udg_WJJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"CDSDJMC02",xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+("兑换杀敌加木材等级为"+YDWEGetPlayerColorString(Player(7),I2S(xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]/2))+"次！！！"))
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"积分不足！！！")
endif
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"该兑换已经达到了上限！！！")
endif
else
endif
endfunction
function InitTrig____________________242 takes nothing returns nothing
set gg_trg____________________242=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________242,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________242,function Trig____________________242Actions)
endfunction
function Trig____________________232Actions takes nothing returns nothing
if GetItemTypeId(GetSoldItem())==$49304242 then
if udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]==0 and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=300 and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=3 then
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-300
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"SYTC",udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304D31)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],true,$41304D31)
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"神技-圣阳天裁决兑换成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"通关积分不足或者已经兑换过了，或者地图等级不足，兑换失败！！！")
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49304243 then
if udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]<10 and udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=1 and DzAPI_Map_GetMapLevel(GetOwningPlayer(GetBuyingUnit()))>=(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1)*3 and udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]>=(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1)*500 then
set udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]-(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1)*500
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"TGJF",udg_TGJF[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetBuyingUnit()),"SYTC",udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
call SetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304D31,udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"神技-圣阳天裁升级成功！！！")
else
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(0),"系统提示：")+"通关积分不足或者已经满级了，或者地图等级不足，升级失败！！！")
endif
else
endif
endfunction
function InitTrig____________________232 takes nothing returns nothing
set gg_trg____________________232=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________232,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddAction(gg_trg____________________232,function Trig____________________232Actions)
endfunction
function Trig____________________163Conditions takes nothing returns boolean
return IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_USER
endfunction
function Trig____________________163Actions takes nothing returns nothing
if xgdg_RAA[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))]==true then
call ModifyHeroStat(bj_HEROSTAT_STR,GetAttacker(),bj_MODIFYMETHOD_ADD,120)
call ModifyHeroStat(bj_HEROSTAT_AGI,GetAttacker(),bj_MODIFYMETHOD_ADD,120)
call ModifyHeroStat(bj_HEROSTAT_INT,GetAttacker(),bj_MODIFYMETHOD_ADD,120)
else
endif
if GetPlayerTechCountSimple($52303257,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=15. then
call AdjustPlayerStateBJ(1,GetOwningPlayer(GetAttacker()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
endif
if GetPlayerTechCountSimple($52303359,GetOwningPlayer(GetAttacker()))>=1 then
if GetRandomPercentageBJ()<=30. then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetAttacker()))],ConvertUnitState(32))+1.)
else
call DoNothing()
endif
else
endif
endfunction
function InitTrig____________________163 takes nothing returns nothing
set gg_trg____________________163=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________163,EVENT_PLAYER_UNIT_ATTACKED)
call TriggerAddCondition(gg_trg____________________163,Condition(function Trig____________________163Conditions))
call TriggerAddAction(gg_trg____________________163,function Trig____________________163Actions)
endfunction
function Trig____________________133Conditions takes nothing returns boolean
return GetPlayerController(GetOwningPlayer(GetKillingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________133Actions takes nothing returns nothing
if GetOwningPlayer(GetDyingUnit())==Player(5) then
set udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"HDZ",udg_HDZ[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
if GetRandomPercentageBJ()<=5. then
set udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"HDBP",udg_HDBP[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"活动提示：")+YDWEGetPlayerColorString(Player(0),"恭喜您获得一个端午粽子！"))
else
endif
if GetRandomPercentageBJ()<=2. then
set udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"JYBSL",udg_JYBSL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"活动提示：")+YDWEGetPlayerColorString(Player(0),"恭喜您获得一个金元宝！"))
else
endif
else
endif
if GetOwningPlayer(GetDyingUnit())==Player(5) and GetPlayerTechCountSimple($52303243,GetOwningPlayer(GetKillingUnit()))>=1 then
if udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]<=1 then
if GetRandomPercentageBJ()<=20.+udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))] then
call AdjustPlayerStateBJ(udg_HDZMC[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
else
if GetRandomPercentageBJ()<=20.+udg_HDZJL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))] then
call AdjustPlayerStateBJ(2,GetOwningPlayer(GetKillingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
else
call DoNothing()
endif
endif
else
endif
endfunction
function InitTrig____________________133 takes nothing returns nothing
set gg_trg____________________133=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________133,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________133,Condition(function Trig____________________133Conditions))
call TriggerAddAction(gg_trg____________________133,function Trig____________________133Actions)
endfunction
function Trig____________________167Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$41270F20)==false
endfunction
function Trig____________________167Actions takes nothing returns nothing
if DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="星悦会员俱乐部" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="星悦俱乐部" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="星悦会员公会" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="星空殿丶" then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.2
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.88
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.88
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1.88
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.88
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+88
call SetPlayerTechResearchedSwap($52303237,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
if DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="天玑团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="玉衡团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="摇光团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="天权团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="天枢团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="天璇团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="开阳团" or DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="北斗七星" then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.99
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.48
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.99
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.48
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+66
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],$4130484D)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],true,$4130484D)
call SetPlayerTechResearchedSwap($52303238,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
if DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="魔域主播公会" then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.99
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.48
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.99
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.48
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+66
call SetPlayerTechResearchedSwap($52303239,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=5
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="Mvp丶苍穹团"+I2S(bj_forLoopAIndex)+"号" then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.1
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.66
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.66
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.3
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+30
call SetPlayerTechResearchedSwap($52303242,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=30
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if DzAPI_Map_GetGuildName(GetOwningPlayer(GetTriggerUnit()))=="Mvp丶家族"+I2S(bj_forLoopAIndex)+"号" then
set udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLXX[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.05
set udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+.25
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+18
call SetPlayerTechResearchedSwap($52303241,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$41270F20,true)
endfunction
function InitTrig____________________167 takes nothing returns nothing
set gg_trg____________________167=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________167,gg_rct______________040)
call TriggerAddCondition(gg_trg____________________167,Condition(function Trig____________________167Conditions))
call TriggerAddAction(gg_trg____________________167,function Trig____________________167Actions)
endfunction
function Trig____________________164Conditions takes nothing returns boolean
return GetEventPlayerChatString()=="-ch1" or GetEventPlayerChatString()=="-ch2" or GetEventPlayerChatString()=="-ch3" or GetEventPlayerChatString()=="-ch4"
endfunction
function Trig____________________164Actions takes nothing returns nothing
if IsUnitType(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],UNIT_TYPE_DEAD)==false then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484F)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484F)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484D)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484D)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484E)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484E)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304852)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304852)
else
call DoNothing()
endif
if GetEventPlayerChatString()=="-ch1" then
if GetPlayerTechCountSimple($52303237,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484F)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$4130484F)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"星悦称号")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-ch2" then
if GetPlayerTechCountSimple($52303238,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484D)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$4130484D)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"北斗称号")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-ch3" then
if GetPlayerTechCountSimple($52303241,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$4130484E)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$4130484E)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"MVP公会称号")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-ch4" then
if GetPlayerTechCountSimple($52303239,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304852)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304852)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"魔域称号")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"英雄是死亡的，切换失败！！！")
endif
endfunction
function InitTrig____________________164 takes nothing returns nothing
set gg_trg____________________164=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(0),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(1),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(2),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(3),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(4),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(5),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(6),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(7),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(8),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(9),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(10),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(11),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(12),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(13),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(14),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________164,Player(15),GetEventPlayerChatString(),false)
call TriggerAddCondition(gg_trg____________________164,Condition(function Trig____________________164Conditions))
call TriggerAddAction(gg_trg____________________164,function Trig____________________164Actions)
endfunction
function Trig____________________170Conditions takes nothing returns boolean
return GetEventPlayerChatString()=="-cb1" or GetEventPlayerChatString()=="-cb2" or GetEventPlayerChatString()=="-cb3" or GetEventPlayerChatString()=="-cb4"
endfunction
function Trig____________________170Actions takes nothing returns nothing
if IsUnitType(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],UNIT_TYPE_DEAD)==false then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304857)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304857)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304847)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304847)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304854)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304854)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304956)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304956)
else
call DoNothing()
endif
if GetEventPlayerChatString()=="-cb1" then
if GetPlayerTechCountSimple($52303148,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304857)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304857)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"阳神之翼")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-cb2" then
if GetPlayerTechCountSimple($52303159,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304847)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304847)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"月华之翼")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-cb3" then
if GetPlayerTechCountSimple($52303237,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304854)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304854)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"星悦翅膀")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-cb4" then
if GetPlayerTechCountSimple($52303257,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304956)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304956)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"紫极翅膀")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"英雄是死亡的，切换失败！！！")
endif
endfunction
function InitTrig____________________170 takes nothing returns nothing
set gg_trg____________________170=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(0),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(1),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(2),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(3),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(4),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(5),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(6),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(7),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(8),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(9),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(10),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(11),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(12),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(13),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(14),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________170,Player(15),GetEventPlayerChatString(),false)
call TriggerAddCondition(gg_trg____________________170,Condition(function Trig____________________170Conditions))
call TriggerAddAction(gg_trg____________________170,function Trig____________________170Actions)
endfunction
function Trig____________________171Conditions takes nothing returns boolean
return GetEventPlayerChatString()=="-gh1" or GetEventPlayerChatString()=="-gh2" or GetEventPlayerChatString()=="-gh3" or GetEventPlayerChatString()=="-gh4" or GetEventPlayerChatString()=="-gh5"
endfunction
function Trig____________________171Actions takes nothing returns nothing
if IsUnitType(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],UNIT_TYPE_DEAD)==false then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304851)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304851)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304855)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304855)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304850)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304850)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304932)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304932)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304853)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304853)
else
call DoNothing()
endif
if GetEventPlayerChatString()=="-gh1" then
if GetPlayerTechCountSimple($52303237,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304851)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304851)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"星悦光环")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-gh2" then
if GetPlayerTechCountSimple($52303238,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304855)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304855)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"北斗光环")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-gh3" then
if GetPlayerTechCountSimple($52303234,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304850)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304850)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"阳神光环")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-gh4" then
if GetPlayerTechCountSimple($52303233,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304932)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304932)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"月华光环")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-gh5" then
if GetPlayerTechCountSimple($52303255,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304853)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304853)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"紫极光环")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"英雄是死亡的，切换失败！！！")
endif
endfunction
function InitTrig____________________171 takes nothing returns nothing
set gg_trg____________________171=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(0),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(1),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(2),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(3),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(4),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(5),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(6),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(7),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(8),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(9),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(10),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(11),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(12),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(13),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(14),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________171,Player(15),GetEventPlayerChatString(),false)
call TriggerAddCondition(gg_trg____________________171,Condition(function Trig____________________171Conditions))
call TriggerAddAction(gg_trg____________________171,function Trig____________________171Actions)
endfunction
function Trig____________________172Conditions takes nothing returns boolean
return GetEventPlayerChatString()=="-wq1" or GetEventPlayerChatString()=="-wq2" or GetEventPlayerChatString()=="-wq3"
endfunction
function Trig____________________172Actions takes nothing returns nothing
if IsUnitType(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],UNIT_TYPE_DEAD)==false then
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304848)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304848)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304930)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304930)
else
call DoNothing()
endif
if GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304957)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304957)
else
call DoNothing()
endif
if GetEventPlayerChatString()=="-wq1" then
if GetPlayerTechCountSimple($52303231,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304848)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304848)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"阳神之剑")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-wq2" then
if GetPlayerTechCountSimple($52303230,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304930)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304930)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"月华之剑")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
if GetEventPlayerChatString()=="-wq3" then
if GetPlayerTechCountSimple($52303258,GetTriggerPlayer())>=1 then
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],$41304957)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetTriggerPlayer())],true,$41304957)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+("英雄称号成功切换为了"+YDWEGetPlayerColorString(Player(0),"紫极之刃")))
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您不具备该效果，切换失败！！！")
endif
else
endif
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"英雄是死亡的，切换失败！！！")
endif
endfunction
function InitTrig____________________172 takes nothing returns nothing
set gg_trg____________________172=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(0),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(1),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(2),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(3),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(4),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(5),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(6),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(7),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(8),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(9),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(10),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(11),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(12),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(13),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(14),GetEventPlayerChatString(),false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________172,Player(15),GetEventPlayerChatString(),false)
call TriggerAddCondition(gg_trg____________________172,Condition(function Trig____________________172Conditions))
call TriggerAddAction(gg_trg____________________172,function Trig____________________172Actions)
endfunction
function Trig____________________135Actions takes nothing returns nothing
if GetEventPlayerChatString()=="作者最帅" then
if xgdg_dAA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_dAA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,8))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了作者最帅彩蛋！！！")
call SetPlayerTechResearchedSwap($52303232,1,GetTriggerPlayer())
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该彩蛋，不可重复获得！！！")
endif
else
endif
if GetEventPlayerChatString()=="我是帅批" then
if xgdg_gzA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_gzA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,10))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetTriggerPlayer())])
set udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]=udg_FSXX[GetConvertedPlayerId(GetTriggerPlayer())]+.05
call SetPlayerTechResearchedSwap($52303350,1,GetTriggerPlayer())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了我是帅批彩蛋！！！")
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该彩蛋，不可重复获得！！！")
endif
else
endif
if GetEventPlayerChatString()=="sllb" or GetEventPlayerChatString()=="SLLB" then
if xgdg_aAA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_aAA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,14))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您永久激活了三连礼包！！！")
call SetPlayerTechResearchedSwap($5230324B,1,GetTriggerPlayer())
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包，不可重复获得！！！")
endif
else
endif
if GetEventPlayerChatString()=="809965890" then
if xgdg_zzA[GetConvertedPlayerId(GetTriggerPlayer())]==false then
set xgdg_zzA[GetConvertedPlayerId(GetTriggerPlayer())]=true
set udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]=udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())]+R2I(Pow(2,15))
call DzAPI_Map_StoreInteger(GetTriggerPlayer(),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetTriggerPlayer())])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您永久激活了加群礼包！！！")
call SetPlayerTechResearchedSwap($5230324A,1,GetTriggerPlayer())
else
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"您已经获得了该礼包，不可重复获得！！！")
endif
else
endif
endfunction
function InitTrig____________________135 takes nothing returns nothing
set gg_trg____________________135=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(0),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(1),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(2),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(3),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(4),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(5),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(6),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(7),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(8),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(9),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(10),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(11),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(12),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(13),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(14),"",false)
call TriggerRegisterPlayerChatEvent(gg_trg____________________135,Player(15),"",false)
call TriggerAddAction(gg_trg____________________135,function Trig____________________135Actions)
endfunction
function Trig____________________159Conditions takes nothing returns boolean
return GetUnitTypeId(GetKillingUnit())==$6E303038
endfunction
function Trig____________________159Actions takes nothing returns nothing
if xgdg_cAA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]==false then
set xgdg_cAA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]+R2I(Pow(2,10))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetDyingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])
call SetPlayerTechResearchedSwap($52303247,1,GetOwningPlayer(GetDyingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetDyingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了黑寡妇彩蛋！！！")
else
endif
endfunction
function InitTrig____________________159 takes nothing returns nothing
set gg_trg____________________159=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________159,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________159,Condition(function Trig____________________159Conditions))
call TriggerAddAction(gg_trg____________________159,function Trig____________________159Actions)
endfunction
function Trig____________________169Conditions takes nothing returns boolean
return xgdg_YAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false
endfunction
function Trig____________________169Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$B5B7555E)==false then
if GetUnitTypeId(GetDyingUnit())==$6E303035 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetDyingUnit()))
call CreateItemLoc($49303446,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$B5B7555E,true)
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$6E30314C then
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303446))==true then
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303446),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303446))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303446))>=100 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303446))
set xgdg_YAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,11))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303246,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了鸡飞狗跳彩蛋！！！")
else
endif
else
endif
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________169 takes nothing returns nothing
set gg_trg____________________169=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________169,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________169,Condition(function Trig____________________169Conditions))
call TriggerAddAction(gg_trg____________________169,function Trig____________________169Actions)
endfunction
function Trig____________________175Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetItemTypeId(GetManipulatedItem())==$49303448
endfunction
function Trig____________________175Actions takes nothing returns nothing
if xgdg_bAA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
set xgdg_bAA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+R2I(Pow(2,12))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetTriggerUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetPlayerTechResearchedSwap($52303248,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了纵火犯彩蛋！！！")
else
endif
endfunction
function InitTrig____________________175 takes nothing returns nothing
set gg_trg____________________175=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________175,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg____________________175,Condition(function Trig____________________175Conditions))
call TriggerAddAction(gg_trg____________________175,function Trig____________________175Actions)
endfunction
function Trig____________________178Actions takes nothing returns nothing
if xgdg_ZAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
if GetUnitTypeId(GetDyingUnit())==$6E303150 then
if UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],1)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],2)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],3)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],4)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],5)==null and UnitItemInSlotBJ(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],6)==null then
set xgdg_ZAA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,13))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH1",udg_PointsItem1[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303245,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了无所畏惧彩蛋！！！")
else
endif
else
endif
else
endif
if udg_BS<=20 and xgdg_ezA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303234)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303235)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303236)>=1 then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+44
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+33.
set xgdg_ezA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,21))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303439,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了灭世三圣彩蛋！！！")
else
endif
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303136)>=250 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303142)>=250 and xgdg_xBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+88
set xgdg_xBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,24))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303443,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了唱跳rap彩蛋！！！")
else
endif
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303049)>=1000 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E30304B)>=1000 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E30304E)>=1000 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$6E303041)>=1000 and xgdg_qBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set xgdg_qBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+2
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,8))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303450,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了伐木累彩蛋！！！")
else
endif
endfunction
function InitTrig____________________178 takes nothing returns nothing
set gg_trg____________________178=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________178,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddAction(gg_trg____________________178,function Trig____________________178Actions)
endfunction
function Trig____________________221Conditions takes nothing returns boolean
return IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________221Actions takes nothing returns nothing
if GetUnitTypeId(GetKillingUnit())==$4F626C61 then
if xgdg_YzA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]==false then
call YDWESetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())),YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())))+1)
if YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())))==3 then
set xgdg_YzA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]+R2I(Pow(2,17))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetDyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetDyingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了前赴后继彩蛋！！！")
call SetPlayerTechResearchedSwap($52303432,1,GetOwningPlayer(GetDyingUnit()))
else
endif
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303059 then
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$5530305A)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303130)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303131)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303132)>=1 and xgdg_wBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.3
set xgdg_wBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,23))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303442,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了一夫当关，万夫莫开彩蛋！！！")
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$4F746872 then
if GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),1))==$4930364A and GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),2))==$4930364A and GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),3))==$4930364A and GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),4))==$4930364A and GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),5))==$4930364A and GetItemTypeId(UnitItemInSlotBJ(GetKillingUnit(),6))==$4930364A and xgdg_EBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_WLBJJL[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+10
set xgdg_EBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,26))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303444,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了多目怪彩蛋！！！")
else
endif
else
endif
if LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303133)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303055)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303134)>=1 and LoadInteger(YDHT,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),$55303056)>=1 and xgdg_vBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]==false then
set xgdg_vBA[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,27))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetKillingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call SetPlayerTechResearchedSwap($52303446,1,GetOwningPlayer(GetKillingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了山海经彩蛋！！！")
else
endif
if GetUnitTypeId(GetKillingUnit())==$4E6D6167 then
if xgdg_GBA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]==false then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))],ConvertUnitState(32))+200.)
set xgdg_GBA[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))]=true
set udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+R2I(Pow(2,28))
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetDyingUnit()),"DJDH2",udg_PointsItem2[GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit()))])
call SetPlayerTechResearchedSwap($52303449,1,GetOwningPlayer(GetDyingUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetDyingUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了我还是个孩子彩蛋！！！")
else
endif
else
endif
endfunction
function InitTrig____________________221 takes nothing returns nothing
set gg_trg____________________221=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________221,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________221,Condition(function Trig____________________221Conditions))
call TriggerAddAction(gg_trg____________________221,function Trig____________________221Actions)
endfunction
function Trig____________________233Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(5)
endfunction
function Trig____________________233Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
set udg_HCDS[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_HCDS[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1
if GetRandomPercentageBJ()<=.5 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetUnitLoc(GetDyingUnit()))
call CreateItemLoc($49303454,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________233 takes nothing returns nothing
set gg_trg____________________233=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________233,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________233,Condition(function Trig____________________233Conditions))
call TriggerAddAction(gg_trg____________________233,function Trig____________________233Actions)
endfunction
function Trig____________________235Conditions takes nothing returns boolean
return GetItemTypeId(GetManipulatedItem())==$49303454
endfunction
function Trig____________________235Actions takes nothing returns nothing
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303450))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303452))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303451))==true and GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=100000 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303452))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303450))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303451))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303454))
if xgdg_LBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false then
set xgdg_LBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=true
set udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+R2I(Pow(2,7))
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+5
call DzAPI_Map_StoreInteger(GetOwningPlayer(GetTriggerUnit()),"DJDH3",udg_PointsItem3[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetPlayerTechResearchedSwap($5230344F,1,GetOwningPlayer(GetTriggerUnit()))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetTriggerUnit())),3.,YDWEGetPlayerColorString(Player(0),"系统提示：")+"恭喜您探索到了大碗宽面彩蛋！！！")
else
endif
else
endif
endfunction
function InitTrig____________________235 takes nothing returns nothing
set gg_trg____________________235=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________235,EVENT_PLAYER_UNIT_PICKUP_ITEM)
call TriggerAddCondition(gg_trg____________________235,Condition(function Trig____________________235Conditions))
call TriggerAddAction(gg_trg____________________235,function Trig____________________235Actions)
endfunction
function Trig____________________120Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
set udg_PointsItem1[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH1")
set udg_PointsItem2[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH2")
set udg_PointsItem3[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"DJDH3")
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex],2)==1 then
set xgdg_OAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/2,2)==1 then
set xgdg_lAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/4,2)==1 then
set xgdg_kAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/8,2)==1 then
set xgdg_QAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/16,2)==1 then
set xgdg_PAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/32,2)==1 then
set xgdg_RAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/64,2)==1 then
set xgdg_jAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/128,2)==1 then
set xgdg_WAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/256,2)==1 then
set xgdg_dAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/512,2)==1 then
set xgdg_XAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/1024,2)==1 then
set xgdg_cAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/2048,2)==1 then
set xgdg_YAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/4096,2)==1 then
set xgdg_bAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/8192,2)==1 then
set xgdg_ZAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/16384,2)==1 then
set xgdg_aAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/32768,2)==1 then
set xgdg_zzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/65536,2)==1 then
set xgdg_SAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/131072,2)==1 then
set xgdg_hAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/262144,2)==1 then
set xgdg_TAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,19)),2)==1 then
set xgdg_gAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,20)),2)==1 then
set xgdg_UAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,21)),2)==1 then
set xgdg_fAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,22)),2)==1 then
set xgdg_eAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,23)),2)==1 then
set xgdg_VAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,24)),2)==1 then
set xgdg_iAA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,25)),2)==1 then
set xgdg_CzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,26)),2)==1 then
set xgdg_xzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,27)),2)==1 then
set xgdg_DzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,28)),2)==1 then
set xgdg_wzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,29)),2)==1 then
set xgdg_yzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem1[bj_forLoopAIndex]/R2I(Pow(2,30)),2)==1 then
set xgdg_EzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,0)),2)==1 then
set xgdg_FzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,1)),2)==1 then
set xgdg_uzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,2)),2)==1 then
set xgdg_vzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,3)),2)==1 then
set xgdg_GzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,4)),2)==1 then
set xgdg_hzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,5)),2)==1 then
set xgdg_TzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,6)),2)==1 then
set xgdg_SzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,7)),2)==1 then
set xgdg_UzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,8)),2)==1 then
set xgdg_fzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,9)),2)==1 then
set xgdg_VzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,10)),2)==1 then
set xgdg_gzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,11)),2)==1 then
set xgdg_zBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,12)),2)==1 then
set xgdg_BBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,13)),2)==1 then
set xgdg_WzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,14)),2)==1 then
set xgdg_dzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,15)),2)==1 then
set xgdg_XzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,16)),2)==1 then
set xgdg_czA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,17)),2)==1 then
set xgdg_YzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,18)),2)==1 then
set xgdg_bzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,19)),2)==1 then
set xgdg_ZzA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,20)),2)==1 then
set xgdg_azA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,21)),2)==1 then
set xgdg_ezA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,22)),2)==1 then
set xgdg_DBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,23)),2)==1 then
set xgdg_wBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,24)),2)==1 then
set xgdg_xBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,25)),2)==1 then
set xgdg_FBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,26)),2)==1 then
set xgdg_EBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,27)),2)==1 then
set xgdg_vBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,28)),2)==1 then
set xgdg_GBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,29)),2)==1 then
set xgdg_tBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem2[bj_forLoopAIndex]/R2I(Pow(2,30)),2)==1 then
set xgdg_HBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,0)),2)==1 then
set xgdg_uBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,1)),2)==1 then
set xgdg_IBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,2)),2)==1 then
set xgdg_rBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,3)),2)==1 then
set xgdg_JBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,4)),2)==1 then
set xgdg_sBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,5)),2)==1 then
set xgdg_KBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,6)),2)==1 then
set xgdg_pBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,7)),2)==1 then
set xgdg_LBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,8)),2)==1 then
set xgdg_qBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,9)),2)==1 then
set xgdg_mBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,10)),2)==1 then
set xgdg_NBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,11)),2)==1 then
set xgdg_lBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,12)),2)==1 then
set xgdg_OBA[bj_forLoopAIndex]=true
endif
if ModuloInteger(udg_PointsItem3[bj_forLoopAIndex]/R2I(Pow(2,13)),2)==1 then
set xgdg_PBA[bj_forLoopAIndex]=true
endif
set udg_SYTC[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"SYTC")
set udg_TGJF[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"TGJF")
set udg_ZGZ[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"ZGZ")
set udg_HDZ[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"HDZ")
set udg_HDBP[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"HDBP")
set udg_HDZMC[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"HDZMC")
set udg_HDZJL[bj_forLoopAIndex]=DzAPI_Map_GetStoredReal(ConvertedPlayer(bj_forLoopAIndex),"HDZJL")
set udg_JXSD[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"JXSD")
set udg_ZJSP[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"ZJSP")
set udg_WJJF[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"WJJF")
set udg_CDSDJMC[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDSDJMC")
set xgdg_QBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDSDJMC01")
set xgdg_kBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDSDJMC02")
set udg_JYBSL[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"JYBSL")
set xgdg_MzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL01")
set xgdg_NzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL02")
set xgdg_mzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL03")
set xgdg_OzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL04")
set xgdg_lzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL05")
set xgdg_PzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL06")
set xgdg_kzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL07")
set xgdg_QzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL08")
set xgdg_nzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL09")
set xgdg_jzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL10")
set xgdg_RzA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL11")
set xgdg_izA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL12")
set xgdg_CBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL14")
set xgdg_yBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL15")
set xgdg_MBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL20")
set xgdg_oBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL25")
set xgdg_nBA[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopAIndex),"CDTGJL30")
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
set bj_forLoopBIndex=1
set bj_forLoopBIndexEnd=4
loop
exitwhen bj_forLoopBIndex>bj_forLoopBIndexEnd
set udg_YXbadao[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXbadao")
set udg_YXguishi[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXguishi")
set udg_YXlinggong[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXlinggong")
set udg_YXlizhua[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXlizhua")
set udg_YXtianqiang[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXtianqiang")
set udg_YXyinjian[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXyinjian")
set udg_YXzhanfa[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXzhanfa")
set udg_YXzhongzhuang[bj_forLoopBIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXzhongzhuang")
set udg_YXpojun[bj_forLoopAIndex]=DzAPI_Map_GetStoredInteger(ConvertedPlayer(bj_forLoopBIndex),"YXpojun")
set bj_forLoopBIndex=bj_forLoopBIndex+1
endloop
endfunction
function InitTrig____________________120 takes nothing returns nothing
set gg_trg____________________120=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________120,.1)
call TriggerAddAction(gg_trg____________________120,function Trig____________________120Actions)
endfunction
function Trig____________________132Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=3 then
set udg_SDjb[bj_forLoopAIndex]=udg_SDjb[bj_forLoopAIndex]+888
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303155,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=5 then
call SetPlayerTechResearchedSwap($52303147,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=7 then
set udg_SDjb[bj_forLoopAIndex]=udg_SDjb[bj_forLoopAIndex]+1888
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+15
call SetPlayerTechResearchedSwap($5230314F,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+15
call SetPlayerTechResearchedSwap($52303152,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=15 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+50
call SetPlayerTechResearchedSwap($52303153,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=20 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($52303157,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=25 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+100
call SetPlayerTechResearchedSwap($52303154,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=30 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+10
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+1.
call SetPlayerTechResearchedSwap($52303156,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_MzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303146,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_MzA[bj_forLoopAIndex]<21 then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.05
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+2*xgdg_MzA[bj_forLoopAIndex]
else
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.05
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+2*20
endif
else
endif
if xgdg_NzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303151,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_NzA[bj_forLoopAIndex]<21 then
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.05
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+4*xgdg_NzA[bj_forLoopAIndex]
else
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.05
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+4*20
endif
else
endif
if xgdg_mzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303150,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_mzA[bj_forLoopAIndex]<21 then
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+20
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+6*xgdg_mzA[bj_forLoopAIndex]
else
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+20
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+6*20
endif
else
endif
if xgdg_OzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303149,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_OzA[bj_forLoopAIndex]<21 then
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+10
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+8*xgdg_OzA[bj_forLoopAIndex]
else
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+10
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+8*20
endif
else
endif
if xgdg_lzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230314A,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_lzA[bj_forLoopAIndex]<21 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+10*xgdg_lzA[bj_forLoopAIndex]
else
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+10*20
endif
else
endif
if xgdg_PzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230314B,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_PzA[bj_forLoopAIndex]<21 then
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.5
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+12*xgdg_PzA[bj_forLoopAIndex]
else
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.5
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+12*20
endif
else
endif
if xgdg_kzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230314C,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_kzA[bj_forLoopAIndex]<21 then
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.3
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+14*xgdg_kzA[bj_forLoopAIndex]
else
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.3
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+14*20
endif
else
endif
if xgdg_QzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230314D,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_QzA[bj_forLoopAIndex]<21 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+16*xgdg_QzA[bj_forLoopAIndex]
else
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+16*20
endif
else
endif
if xgdg_nzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230314E,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_nzA[bj_forLoopAIndex]<21 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+20*xgdg_nzA[bj_forLoopAIndex]
else
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+20*20
endif
else
endif
if xgdg_jzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303332,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_jzA[bj_forLoopAIndex]<21 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+25*xgdg_jzA[bj_forLoopAIndex]
else
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+25*20
endif
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________132 takes nothing returns nothing
set gg_trg____________________132=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________132,2.)
call TriggerAddAction(gg_trg____________________132,function Trig____________________132Actions)
endfunction
function Trig____________________166Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_OAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=2 then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.05
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.03
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+50.
call SetPlayerTechResearchedSwap($52303138,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_lAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=4 then
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.05
set udg_GDJL[bj_forLoopAIndex]=udg_GDJL[bj_forLoopAIndex]+5
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+100.
call SetPlayerTechResearchedSwap($52303139,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_kAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=6 then
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+1.
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($52303141,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_QAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=8 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+50
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+100.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+150.
set udg_SDjb[bj_forLoopAIndex]=udg_SDjb[bj_forLoopAIndex]+1888
call SetPlayerTechResearchedSwap($52303142,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_PAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.3
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.15
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303143,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_RAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=12 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+70
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+15
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+10
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($52303144,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_jAA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=14 then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+200.
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.05
set udg_GDJL[bj_forLoopAIndex]=udg_GDJL[bj_forLoopAIndex]+5
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))]+2
call SetPlayerTechResearchedSwap($52303145,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_WAA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303243,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_dAA[bj_forLoopAIndex]==true then
call AdjustPlayerStateBJ(10,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($52303232,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_XAA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303244,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_cAA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303247,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_YAA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303246,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_bAA[bj_forLoopAIndex]==true then
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303248,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_ZAA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+18
call SetPlayerTechResearchedSwap($52303245,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_aAA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+8
call SetPlayerTechResearchedSwap($5230324B,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_zzA[bj_forLoopAIndex]==true then
call AdjustPlayerStateBJ(20,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($5230324A,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________166 takes nothing returns nothing
set gg_trg____________________166=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________166,2.5)
call TriggerAddAction(gg_trg____________________166,function Trig____________________166Actions)
endfunction
function Trig____________________168Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043733")==true then
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.28
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+60
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+3.5
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+3.5
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+350
call SetPlayerTechResearchedSwap($52303159,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043732")==true then
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.6
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+120
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+7.6
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+3.5
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+750
call SetPlayerTechResearchedSwap($52303148,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043729")==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+4.
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+80
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+8.
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+8.
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+750.
call SetPlayerTechResearchedSwap($52303230,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043728")==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+8.
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+120
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+20.
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+20.
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+1500.
call SetPlayerTechResearchedSwap($52303231,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043725")==true then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.8
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.4
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+20
call SetPlayerTechResearchedSwap($52303233,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043724")==true then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+1.6
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.8
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+40
call SetPlayerTechResearchedSwap($52303234,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043727")==true then
call SetPlayerHandicapXP(ConvertedPlayer(bj_forLoopAIndex),1.8)
call SetPlayerTechResearchedSwap($52303235,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043726")==true then
call SetPlayerHandicapXP(ConvertedPlayer(bj_forLoopAIndex),4.)
call SetPlayerTechResearchedSwap($52303236,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043727")==true and DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043726")==true then
set udg_SDSZF[bj_forLoopAIndex]=udg_SDSZF[bj_forLoopAIndex]+4
else
endif
if DzAPI_Map_HasMallItem(ConvertedPlayer(bj_forLoopAIndex),"20043723")==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
call AdjustPlayerStateBJ(800,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($52303250,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________168 takes nothing returns nothing
set gg_trg____________________168=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________168,3.)
call TriggerAddAction(gg_trg____________________168,function Trig____________________168Actions)
endfunction
function Trig____________________035Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if udg_JXSD[bj_forLoopAIndex]>=100000 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+18
call SetPlayerTechResearchedSwap($5230324D,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if udg_JXSD[bj_forLoopAIndex]>=200000 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+28
call SetPlayerTechResearchedSwap($5230324E,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if udg_JXSD[bj_forLoopAIndex]>=300000 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+38
call SetPlayerTechResearchedSwap($5230324F,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if udg_JXSD[bj_forLoopAIndex]>=500000 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+58
call SetPlayerTechResearchedSwap($5230324C,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_SAA[bj_forLoopAIndex]==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.2
call SetPlayerTechResearchedSwap($52303252,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_hAA[bj_forLoopAIndex]==true then
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+8
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+5
call SetPlayerTechResearchedSwap($52303253,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_TAA[bj_forLoopAIndex]==true then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+88.
call SetPlayerTechResearchedSwap($52303254,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_gAA[bj_forLoopAIndex]==true then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+20.
call SetPlayerTechResearchedSwap($52303251,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_UAA[bj_forLoopAIndex]==true then
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.1
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.1
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.5
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.2
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303255,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_fAA[bj_forLoopAIndex]==true then
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+10
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+10
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.3
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303256,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_eAA[bj_forLoopAIndex]==true then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+166.
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+66.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+33
call SetPlayerTechResearchedSwap($52303257,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_VAA[bj_forLoopAIndex]==true then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+200.
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+88.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+66
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($52303258,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_GzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+138.
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+10
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+1.
call SetPlayerTechResearchedSwap($52303331,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_hzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+266.
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.15
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.15
call SetPlayerTechResearchedSwap($5230334C,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_TzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+88
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+5
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($5230334D,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_SzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=10 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+1.
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+.8
call SetPlayerTechResearchedSwap($5230334E,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________035 takes nothing returns nothing
set gg_trg____________________035=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________035,3.5)
call TriggerAddAction(gg_trg____________________035,function Trig____________________035Actions)
endfunction
function Trig____________________192Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_iAA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303249,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_CzA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
call SetPlayerTechResearchedSwap($52303259,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_xzA[bj_forLoopAIndex]==true then
call AdjustPlayerStateBJ(1000,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($5230325A,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_DzA[bj_forLoopAIndex]==true then
call AdjustPlayerStateBJ(10000,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($52303330,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_wzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=15 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+138.
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+1.2
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+.5
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.2
call SetPlayerTechResearchedSwap($52303333,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=16 and xgdg_yzA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+108
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.7
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+.3
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.15
call SetPlayerTechResearchedSwap($52303334,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_EzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=17 then
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+288.
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_GDJL[bj_forLoopAIndex]=udg_GDJL[bj_forLoopAIndex]+8
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+10
set udg_FSBJJL[bj_forLoopAIndex]=udg_FSBJJL[bj_forLoopAIndex]+8
call SetPlayerTechResearchedSwap($52303335,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_FzA[bj_forLoopAIndex]==true and DzAPI_Map_GetMapLevel(ConvertedPlayer(bj_forLoopAIndex))>=18 then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+168
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+288.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+399.
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.7
set udg_SDSZF[bj_forLoopAIndex]=udg_SDSZF[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303336,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_RzA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303337,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_RzA[bj_forLoopAIndex]<21 then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+166.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+388.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+28*xgdg_RzA[bj_forLoopAIndex]
else
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+166.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+388.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+28*20
endif
else
endif
if xgdg_izA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303338,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_izA[bj_forLoopAIndex]<21 then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+188.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+488.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+32*xgdg_izA[bj_forLoopAIndex]
else
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.6
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+188.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+488.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+32*20
endif
else
endif
if xgdg_uzA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+33
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($5230334B,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_UzA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+128
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+128.
call SetPlayerTechResearchedSwap($52303351,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_fzA[bj_forLoopAIndex]==true then
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.25
call SetPlayerTechResearchedSwap($52303352,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_VzA[bj_forLoopAIndex]==true then
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.2
call SetPlayerTechResearchedSwap($52303353,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_gzA[bj_forLoopAIndex]==true then
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.05
call SetPlayerTechResearchedSwap($52303350,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_zBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+208
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+.5
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+1.
call SetPlayerTechResearchedSwap($52303357,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_BBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+328.
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+.7
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+1.4
call SetPlayerTechResearchedSwap($52303358,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_WzA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+398.
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+348.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+228
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.8
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.05
call SetPlayerTechResearchedSwap($52303359,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________192 takes nothing returns nothing
set gg_trg____________________192=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________192,4.)
call TriggerAddAction(gg_trg____________________192,function Trig____________________192Actions)
endfunction
function Trig____________________220Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_dzA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+88
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+188.
call SetPlayerTechResearchedSwap($5230335A,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_XzA[bj_forLoopAIndex]==true then
set udg_GDJL[bj_forLoopAIndex]=udg_GDJL[bj_forLoopAIndex]+5
call SetPlayerTechResearchedSwap($52303430,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_czA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303431,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_YzA[bj_forLoopAIndex]==true then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+108.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+88
call SetPlayerTechResearchedSwap($52303432,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_bzA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303433,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_CBA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303437,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_CBA[bj_forLoopAIndex]<21 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+208.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+108
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.7
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+40*xgdg_CBA[bj_forLoopAIndex]
else
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+208.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+108
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.7
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+40*20
endif
else
endif
if xgdg_yBA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303438,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_yBA[bj_forLoopAIndex]<21 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+228.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+138
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.7
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+40*xgdg_yBA[bj_forLoopAIndex]
else
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+228.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+138
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.7
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+40*20
endif
else
endif
if xgdg_ZzA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+188
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+308.
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.3
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+1.
call SetPlayerTechResearchedSwap($52303356,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_azA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+208
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+348.
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.3
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+.5
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+1.
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
call SetPlayerTechResearchedSwap($52303436,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_ezA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+44
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+33.
call SetPlayerTechResearchedSwap($52303439,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_DBA[bj_forLoopAIndex]==true then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+58.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+128.
call SetPlayerTechResearchedSwap($52303441,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_wBA[bj_forLoopAIndex]==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303442,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_xBA[bj_forLoopAIndex]==true then
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+88
call SetPlayerTechResearchedSwap($52303443,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_FBA[bj_forLoopAIndex]==true then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.1
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303445,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_EBA[bj_forLoopAIndex]==true then
set udg_WLBJJL[bj_forLoopAIndex]=udg_WLBJJL[bj_forLoopAIndex]+10
call SetPlayerTechResearchedSwap($52303444,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_vBA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303446,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_GBA[bj_forLoopAIndex]==true then
call SetPlayerTechResearchedSwap($52303449,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_tBA[bj_forLoopAIndex]==true then
call AdjustPlayerStateBJ(500,ConvertedPlayer(bj_forLoopAIndex),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($52303448,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_HBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($52303434,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________220 takes nothing returns nothing
set gg_trg____________________220=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________220,4.5)
call TriggerAddAction(gg_trg____________________220,function Trig____________________220Actions)
endfunction
function Trig____________________234Actions takes nothing returns nothing
set bj_forLoopAIndex=1
set bj_forLoopAIndexEnd=4
loop
exitwhen bj_forLoopAIndex>bj_forLoopAIndexEnd
if xgdg_uBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+5
call SetPlayerTechResearchedSwap($5230334F,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_IBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
call SetPlayerTechResearchedSwap($5230344E,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_rBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+1
call SetPlayerTechResearchedSwap($5230344D,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_JBA[bj_forLoopAIndex]==true then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+22.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+22
call SetPlayerTechResearchedSwap($5230344C,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_sBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
call SetPlayerTechResearchedSwap($5230344B,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_KBA[bj_forLoopAIndex]==true then
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.05
call SetPlayerTechResearchedSwap($52303451,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_pBA[bj_forLoopAIndex]==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.1
call SetPlayerTechResearchedSwap($52303452,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_LBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+5
call SetPlayerTechResearchedSwap($5230344F,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_qBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
call SetPlayerTechResearchedSwap($52303450,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if udg_CDSDJMC[bj_forLoopAIndex]>0 and udg_CDSDJMC[bj_forLoopAIndex]<25 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+udg_CDSDJMC[bj_forLoopAIndex]
else
endif
if xgdg_MBA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303454,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_MBA[bj_forLoopAIndex]<21 then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+45*xgdg_MBA[bj_forLoopAIndex]
else
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+6
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+40*20
endif
else
endif
if xgdg_oBA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($5230344A,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_oBA[bj_forLoopAIndex]<21 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+248.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+158
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.9
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+50*xgdg_oBA[bj_forLoopAIndex]
else
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+248.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+158
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.9
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+3
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+50*20
endif
else
endif
if xgdg_nBA[bj_forLoopAIndex]>0 then
call SetPlayerTechResearchedSwap($52303453,1,ConvertedPlayer(bj_forLoopAIndex))
if xgdg_nBA[bj_forLoopAIndex]<21 then
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+268.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+178
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.9
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+60*xgdg_nBA[bj_forLoopAIndex]
else
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+268.
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+178
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.9
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+60*20
endif
else
endif
if xgdg_mBA[bj_forLoopAIndex]==true then
set udg_WLXX[bj_forLoopAIndex]=udg_WLXX[bj_forLoopAIndex]+.2
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+5
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+88
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+66.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+188.
call SetPlayerTechResearchedSwap($52303455,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_NBA[bj_forLoopAIndex]==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.66
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.18
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+5
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+188
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+166.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+266.
call SetPlayerTechResearchedSwap($52303456,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_lBA[bj_forLoopAIndex]==true then
set udg_FSXX[bj_forLoopAIndex]=udg_FSXX[bj_forLoopAIndex]+.1
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+2
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+48
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+88.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+128.
call SetPlayerTechResearchedSwap($52303447,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_OBA[bj_forLoopAIndex]==true then
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.66
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.05
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+4
set udg_SDqsx[bj_forLoopAIndex]=udg_SDqsx[bj_forLoopAIndex]+166
set udg_SDgjl[bj_forLoopAIndex]=udg_SDgjl[bj_forLoopAIndex]+188.
set udg_SDsmz[bj_forLoopAIndex]=udg_SDsmz[bj_forLoopAIndex]+333.
call SetPlayerTechResearchedSwap($52303459,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
if xgdg_PBA[bj_forLoopAIndex]==true then
set udg_SDmc[bj_forLoopAIndex]=udg_SDmc[bj_forLoopAIndex]+10
set udg_SDSZF[bj_forLoopAIndex]=udg_SDSZF[bj_forLoopAIndex]+1
set udg_SHzf[bj_forLoopAIndex]=udg_SHzf[bj_forLoopAIndex]+.88
set udg_SHjm[bj_forLoopAIndex]=udg_SHjm[bj_forLoopAIndex]+.1
set udg_FSSHZF[bj_forLoopAIndex]=udg_FSSHZF[bj_forLoopAIndex]+.5
set udg_WLSHZF[bj_forLoopAIndex]=udg_WLSHZF[bj_forLoopAIndex]+.5
set udg_FSBJSH[bj_forLoopAIndex]=udg_FSBJSH[bj_forLoopAIndex]+.5
set udg_WLBJSH[bj_forLoopAIndex]=udg_WLBJSH[bj_forLoopAIndex]+.5
call SetPlayerTechResearchedSwap($52303457,1,ConvertedPlayer(bj_forLoopAIndex))
else
endif
set bj_forLoopAIndex=bj_forLoopAIndex+1
endloop
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________234 takes nothing returns nothing
set gg_trg____________________234=CreateTrigger()
call TriggerRegisterTimerEventSingle(gg_trg____________________234,5.)
call TriggerAddAction(gg_trg____________________234,function Trig____________________234Actions)
endfunction
function Trig____________________121Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$14D043D8)==false
endfunction
function Trig____________________121Actions takes nothing returns nothing
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+udg_CDSDJMC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+xgdg_QBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
set udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDmc[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+xgdg_kBA[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetTriggerUnit()),"20043731")==true then
call UnitAddItemByIdSwapped($49304130,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
call SetPlayerTechResearchedSwap($52303158,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
if DzAPI_Map_HasMallItem(GetOwningPlayer(GetTriggerUnit()),"20043730")==true then
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call SetPlayerTechResearchedSwap($5230315A,1,GetOwningPlayer(GetTriggerUnit()))
else
endif
if GetPlayerTechCountSimple($52303244,GetOwningPlayer(GetTriggerUnit()))>=1 then
call UnitAddItemByIdSwapped($49304139,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
else
endif
if GetPlayerTechCountSimple($52303247,GetOwningPlayer(GetTriggerUnit()))>=1 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(19))+10000.)
else
endif
if GetPlayerTechCountSimple($52303246,GetOwningPlayer(GetTriggerUnit()))>=1 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+10.)
else
endif
if GetPlayerTechCountSimple($5230324B,GetOwningPlayer(GetTriggerUnit()))>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,10000)
else
endif
if GetPlayerTechCountSimple($52303250,GetOwningPlayer(GetTriggerUnit()))>=1 then
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],bj_MODIFYMETHOD_ADD,200000)
else
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303231 and DzAPI_Map_HasMallItem(GetOwningPlayer(GetTriggerUnit()),"20043722")==true then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+999
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+999.
else
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303230 and DzAPI_Map_HasMallItem(GetOwningPlayer(GetTriggerUnit()),"20043721")==true then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+999
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+999.
else
endif
if GetUnitTypeId(GetTriggerUnit())==$4E303330 and DzAPI_Map_HasMallItem(GetOwningPlayer(GetTriggerUnit()),"20043734")==true then
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+666
set udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SDgjl[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+666.
else
endif
if GetPlayerTechCountSimple($52303449,GetOwningPlayer(GetTriggerUnit()))>=1 then
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))],ConvertUnitState(32))+200.)
else
endif
if udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]>0 then
call UnitAddAbility(GetTriggerUnit(),$41304D31)
call UnitMakeAbilityPermanent(GetTriggerUnit(),true,$41304D31)
call SetUnitAbilityLevel(GetTriggerUnit(),$41304D31,udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))])
set udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_SHzf[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
set udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_WLBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
set udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]=udg_FSBJSH[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]+(.3+.2*I2R(udg_SYTC[GetConvertedPlayerId(GetOwningPlayer(GetTriggerUnit()))]))
else
endif
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetTriggerUnit())),$14D043D8,true)
endfunction
function InitTrig____________________121 takes nothing returns nothing
set gg_trg____________________121=CreateTrigger()
call YDWETriggerRegisterEnterRectSimpleNull(gg_trg____________________121,gg_rct______________040)
call TriggerAddCondition(gg_trg____________________121,Condition(function Trig____________________121Conditions))
call TriggerAddAction(gg_trg____________________121,function Trig____________________121Actions)
endfunction
function Trig____________________067Conditions takes nothing returns boolean
return GetItemTypeId(GetSoldItem())==$49303937 or GetItemTypeId(GetSoldItem())==$49303946 or GetItemTypeId(GetSoldItem())==$49303947 or GetItemTypeId(GetSoldItem())==$49303948 or GetItemTypeId(GetSoldItem())==$49303949 or GetItemTypeId(GetSoldItem())==$4930394A or GetItemTypeId(GetSoldItem())==$4930394B or GetItemTypeId(GetSoldItem())==$4930394C or GetItemTypeId(GetSoldItem())==$4930394D or GetItemTypeId(GetSoldItem())==$4930394E or GetItemTypeId(GetSoldItem())==$4930394F or GetItemTypeId(GetSoldItem())==$49303950
endfunction
function Trig____________________067Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8,YDWEGetUnitsInRectOfPlayerNull(gg_rct______________063,Player(PLAYER_NEUTRAL_AGGRESSIVE)))
if GetItemTypeId(GetSoldItem())==$49303937 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=50 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetBuyingUnit())),$8502D75A)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303241,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(20,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303946 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=100 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304637)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303242,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(80,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303947 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=200 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304636)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303243,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(160,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303948 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=400 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304641)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303244,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(320,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303949 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=600 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304634)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303246,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(640,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394A then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=800 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304633)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303247,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(1280,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394B then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=1000 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304639)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303248,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(2500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394C then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=1200 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304643)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$55303249,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(3000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394D then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=1400 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304638)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$5530324A,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(3500,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394E then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=1600 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304635)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$5530324B,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(4000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$4930394F then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=1800 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304642)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$5530324C,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(5000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
if GetItemTypeId(GetSoldItem())==$49303950 then
if IsUnitGroupEmptyBJ(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))==true and GetHeroLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))])>=2000 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],$41304630)>=1 then
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________063))
call h__CreateNUnitsAtLoc(1,$5530324D,Player(PLAYER_NEUTRAL_AGGRESSIVE),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),bj_UNIT_FACING)
call h__SetUnitPositionLoc(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetBuyingUnit()))],LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetBuyingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
else
call AdjustPlayerStateBJ(10000,GetOwningPlayer(GetBuyingUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetBuyingUnit())),YDWEGetPlayerColorString(Player(6),"系统提示：")+"英雄等级不够，"+YDWEGetPlayerColorString(Player(7),"或者上一个境界还未突破，或者有人正在挑战！！！"))
endif
else
endif
call h__DestroyGroup(LoadGroupHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$7B2D08E8))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________067 takes nothing returns nothing
set gg_trg____________________067=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________067,EVENT_PLAYER_UNIT_SELL_ITEM)
call TriggerAddCondition(gg_trg____________________067,Condition(function Trig____________________067Conditions))
call TriggerAddAction(gg_trg____________________067,function Trig____________________067Actions)
endfunction
function Trig____________________069Conditions takes nothing returns boolean
return GetOwningPlayer(GetDyingUnit())==Player(PLAYER_NEUTRAL_AGGRESSIVE) and RectContainsUnit(gg_rct______________063,GetDyingUnit())==true
endfunction
function Trig____________________069Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if GetUnitTypeId(GetDyingUnit())==$55303241 and HaveSavedBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$8502D75A)==false then
call SaveBoolean(YDHT,GetHandleId(GetOwningPlayer(GetKillingUnit())),$8502D75A,true)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304637)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304637)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+50000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+10.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+100000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,10000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,10000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"筑基期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.1
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了筑基期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303242 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304637)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304637)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304636)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304636)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+100000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+20.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+250000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,30000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,30000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,30000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"开光期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.2
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了开光期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303243 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304636)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304636)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304641)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304641)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+200000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+40.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+400000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,60000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"融合期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.3
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了融合期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303244 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304641)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304641)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304634)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304634)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+400000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+60.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+600000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,100000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,100000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"心动期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.4
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了心动期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303246 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304634)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304634)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304633)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304633)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+800000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+80.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+900000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,200000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,200000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"金丹期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.5
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了金丹期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
if YDWEGetLocalVariableBoolean("bl")==false then
call YDWESetLocalVariableBoolean("bl",true)
call UnitAddItemByIdSwapped($49303445,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call DisplayTextToForce(GetPlayersAll(),GetPlayerName(GetOwningPlayer(GetKillingUnit()))+YDWEGetPlayerColorString(Player(0),"：触发了隐藏任务（只有一个玩家可以触发）"))
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),GetPlayerName(GetOwningPlayer(GetKillingUnit()))+"老子只是修练个金丹期，天雷为毛劈我？？？？？？？")
else
endif
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303247 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304633)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304633)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304639)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304639)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+1600000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+100.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+1200000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,300000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,300000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,300000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"元婴期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.6
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了元婴期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303248 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304639)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304639)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304643)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304643)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+3200000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+120.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+1500000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,400000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"出窍期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.7
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了出窍期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$55303249 and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304643)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304643)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304638)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304638)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+6400000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+140.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+1800000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,500000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,500000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,500000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"分神期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.8
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了分神期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$5530324A and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304638)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304638)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304635)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304635)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+12800000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+160.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+2000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,600000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,600000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"合体期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+.9
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了合体期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$5530324B and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304635)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304635)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304642)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304642)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+25600000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+180.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+2400000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,700000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,700000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,700000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"洞虚期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1.
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了洞虚期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$5530324C and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304642)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304642)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304630)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304630)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+51200000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+200.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+2700000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,800000)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,800000)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,800000)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"大乘期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1.1
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了大乘期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
if GetUnitTypeId(GetDyingUnit())==$5530324D and GetUnitAbilityLevel(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304630)>=1 then
call UnitRemoveAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304630)
call UnitAddAbility(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$41304631)
call UnitMakeAbilityPermanent(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],true,$41304631)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE,GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],UNIT_STATE_MAX_LIFE)+88880000.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(32))+250.)
call SetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19),GetUnitState(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],ConvertUnitState(19))+3000000.)
call ModifyHeroStat(bj_HEROSTAT_STR,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call ModifyHeroStat(bj_HEROSTAT_AGI,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call ModifyHeroStat(bj_HEROSTAT_INT,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],bj_MODIFYMETHOD_ADD,$F4240)
call MultiboardSetItemValue(MultiboardGetItem(bj_lastCreatedMultiboard,GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit())),4),"渡劫期")
set udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_FSSHZF[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+1.2
call DisplayTextToForce(bj_FORCE_ALL_PLAYERS,YDWEGetPlayerColorString(Player(6),"系统提示：")+YDWEGetPlayerColorString(Player(0),GetPlayerName(GetOwningPlayer(GetKillingUnit())))+YDWEGetPlayerColorString(Player(7),"境界达到了渡劫期！！！"))
call YDWETimerRemoveUnit(2,CreateUnit(GetOwningPlayer(GetKillingUnit()),$68303033,GetUnitX(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetUnitY(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),GetRandomDirectionDeg()))
else
endif
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________000))
call h__SetUnitPositionLoc(GetKillingUnit(),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call SelectUnitForPlayerSingle(gg_unit_n017_0235,GetOwningPlayer(GetKillingUnit()))
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________069 takes nothing returns nothing
set gg_trg____________________069=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________069,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________069,Condition(function Trig____________________069Conditions))
call TriggerAddAction(gg_trg____________________069,function Trig____________________069Actions)
endfunction
function Trig____________________147Actions takes nothing returns nothing
call ShowUnit(gg_unit_Nmag_0246,false)
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________147 takes nothing returns nothing
set gg_trg____________________147=CreateTrigger()
call TriggerAddAction(gg_trg____________________147,function Trig____________________147Actions)
endfunction
function Trig____________________129Conditions takes nothing returns boolean
return IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303258))==true
endfunction
function Trig____________________129Actions takes nothing returns nothing
call SetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303258),GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303258))+1)
if GetItemCharges(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303258))>=200 then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))],$49303258))
call UnitAddItemByIdSwapped($49303259,udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))])
call AdjustPlayerStateBJ(50,GetOwningPlayer(udg_DW[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]),PLAYER_STATE_RESOURCE_LUMBER)
call DestroyTrigger(GetTriggeringTrigger())
else
endif
endfunction
function InitTrig____________________129 takes nothing returns nothing
set gg_trg____________________129=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________129,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________129,Condition(function Trig____________________129Conditions))
call TriggerAddAction(gg_trg____________________129,function Trig____________________129Actions)
endfunction
function Trig____________________144Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4E626263 and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetKillingUnit(),$49303259))==true
endfunction
function Trig____________________144Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call ShowUnit(gg_unit_Nmag_0246,true)
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),"神秘人出现了呢！！！")
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetRectCenter(gg_rct______________026))
call PingMinimapLocForForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),10.)
call PanCameraToTimedLocForPlayer(GetOwningPlayer(GetKillingUnit()),LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call EnableTrigger(gg_trg____________________145)
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________144 takes nothing returns nothing
set gg_trg____________________144=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________144,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________144,Condition(function Trig____________________144Conditions))
call TriggerAddAction(gg_trg____________________144,function Trig____________________144Actions)
endfunction
function Trig____________________145Conditions takes nothing returns boolean
return IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true
endfunction
function Trig____________________145Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
if IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303259))==true and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303636))==true then
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303636))
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303259))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"大佬")+"：哎呦，骚年还是蛮强的吗，居然真的带过来了！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：你不是说我给你带过来就给我一个机缘么，什么机缘？")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"大佬")+"等着啊，这就给你！（突然一阵烟雾袭来），（烟雾中传出声音），（哈哈哈，大SB被骗了吧，现在宝物是我的了，逃跑ing）")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：我草，我星星你个星星，站住，把宝物还给我！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"=系统提示=")+"：获得任务：击杀大佬")
call SetUnitOwner(gg_unit_Nmag_0246,Player(5),true)
call DestroyTrigger(GetTriggeringTrigger())
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________145 takes nothing returns nothing
set gg_trg____________________145=CreateTrigger()
call DisableTrigger(gg_trg____________________145)
call TriggerRegisterUnitInRangeSimple(gg_trg____________________145,600.,gg_unit_Nmag_0246)
call TriggerAddCondition(gg_trg____________________145,Condition(function Trig____________________145Conditions))
call TriggerAddAction(gg_trg____________________145,function Trig____________________145Actions)
endfunction
function Trig____________________151Conditions takes nothing returns boolean
return GetUnitTypeId(GetDyingUnit())==$4E6D6167
endfunction
function Trig____________________151Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetKillingUnit())
set udg_SDjb[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDjb[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+999
set udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]=udg_SDqsx[GetConvertedPlayerId(GetOwningPlayer(GetKillingUnit()))]+66
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"大佬")+"别别别，别打脸，大佬我错了 你才是大佬")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"香蕉你个巴拉，居然敢骗我，老老实实宝物还给我，还有你身上值钱的东西交出来，")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"大佬")+"可不可以，高抬贵手给我留点！！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"不行，打.打..打劫！！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(GetKillingUnit())),5.,YDWEGetPlayerColorString(Player(6),"获得奖励：杀敌金币+999，杀敌全属性+66"))
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________151 takes nothing returns nothing
set gg_trg____________________151=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________151,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________151,Condition(function Trig____________________151Conditions))
call TriggerAddAction(gg_trg____________________151,function Trig____________________151Actions)
endfunction
function Trig____________________160Conditions takes nothing returns boolean
return IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303445))==true
endfunction
function Trig____________________160Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$49303445))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：师傅..师傅..")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：等会，别过来，你丫是谁？（定睛仔细看过去）")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：我曹，傻徒儿？你咋这么黑呢？")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：师傅，我被天雷劈了...呜呜-----")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：what?被天雷劈了，你做了什么事，居然被天雷劈了？")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：我不知道啊，今天破入了金丹期，还没反应过来就被劈了")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：嗯，金丹期，嗯，嗯？金丹期！！！你破入金丹期了！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：是啊，就在刚才（师傅思索ing.....疯狂掐中。。。）")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：没想到啊，没想到，你居然是天妒之人！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：什么是天妒之人啊，师傅！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：就是，你的天赋之高，连天都要嫉妒，都害怕你！！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：啊，那我这么厉害，我以后岂不是无敌了！！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：哪有这么简单，天妒之人，每次破镜之后都会招来天雷之祸，扛过去就是一飞冲天，抗不过可是灰飞烟灭啊！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),GetPlayerName(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))))+"：那我咋办啊师傅，能不能蒙蔽天机啊！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：看你天赋不错，竟然能第一个修炼到金丹境，帮你一下吧！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：你帮我觅得未来之眼一枚和5000木材，我帮你度过此劫！！！")
call YDWEPolledWaitNull(1.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),"=系统提示=")+"获得任务：取得未来之眼给师傅，并带上5000木材！！！")
call EnableTrigger(gg_trg____________________161)
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________160 takes nothing returns nothing
set gg_trg____________________160=CreateTrigger()
call TriggerRegisterUnitInRangeSimple(gg_trg____________________160,600.,gg_unit_n017_0235)
call TriggerAddCondition(gg_trg____________________160,Condition(function Trig____________________160Conditions))
call TriggerAddAction(gg_trg____________________160,function Trig____________________160Actions)
endfunction
function Trig____________________161Conditions takes nothing returns boolean
return GetPlayerState(GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)>=5000 and IsItemOwned(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$4930364A))==true
endfunction
function Trig____________________161Actions takes nothing returns nothing
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call AdjustPlayerStateBJ(-5000,GetOwningPlayer(GetTriggerUnit()),PLAYER_STATE_RESOURCE_LUMBER)
call RemoveItem(YDWEGetItemOfTypeFromUnitBJNull(GetTriggerUnit(),$4930364A))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(0),"师傅")+"：好，都集齐了，下面看我的吧！！")
call YDWEPolledWaitNull(2.)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call UnitAddItemByIdSwapped($49303058,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))),5.,YDWEGetPlayerColorString(Player(6),"=系统提示=")+"获得物品：帝尊丹")
call DestroyTrigger(GetTriggeringTrigger())
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
endfunction
function InitTrig____________________161 takes nothing returns nothing
set gg_trg____________________161=CreateTrigger()
call DisableTrigger(gg_trg____________________161)
call TriggerRegisterUnitInRangeSimple(gg_trg____________________161,600.,gg_unit_n017_0235)
call TriggerAddCondition(gg_trg____________________161,Condition(function Trig____________________161Conditions))
call TriggerAddAction(gg_trg____________________161,function Trig____________________161Actions)
endfunction
function Trig____________________036Conditions takes nothing returns boolean
return IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)==true and GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER
endfunction
function Trig____________________036Func006Func001T takes nothing returns nothing
call SaveInteger(YDLOC,GetHandleId(GetExpiredTimer()),$8B1FFFFC,1)
call UnitAddItemByIdSwapped($49303258,udg_DW[GetConvertedPlayerId(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))])
call DisplayTextToForce(YDWEGetForceOfPlayerNull(GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D))),GetPlayerName(Player(3))+YDWEGetPlayerColorString(Player(0),"：触发了隐藏任务（只有一个玩家可以触发）"))
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
call DestroyTrigger(LoadTriggerHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C8EDF03E))
endfunction
function Trig____________________036Actions takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetDyingUnit())
call YDWESetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())),YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())))+1)
if LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$8B1FFFFC)==0 and YDWEGetLocalVariableIntegerArray("i",GetConvertedPlayerId(GetOwningPlayer(GetDyingUnit())))==2 then
set ydl_timer=CreateTimer()
call SaveTriggerHandle(YDLOC,GetHandleId(ydl_timer),$C8EDF03E,GetTriggeringTrigger())
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,6.,false,function Trig____________________036Func006Func001T)
else
endif
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function InitTrig____________________036 takes nothing returns nothing
set gg_trg____________________036=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trg____________________036,EVENT_PLAYER_UNIT_DEATH)
call TriggerAddCondition(gg_trg____________________036,Condition(function Trig____________________036Conditions))
call TriggerAddAction(gg_trg____________________036,function Trig____________________036Actions)
endfunction
function Trig____________________012Conditions takes nothing returns boolean
return GetPlayerName(GetTriggerPlayer())=="庆幸能够遇见你"
endfunction
function Trig____________________012Actions takes nothing returns nothing
call AdjustPlayerStateBJ(200,GetTriggerPlayer(),PLAYER_STATE_RESOURCE_LUMBER)
call DisplayTimedTextToForce(YDWEGetForceOfPlayerNull(GetTriggerPlayer()),10.,"兄弟，多谢你帮我们提前发现了BUG，这200木材略表心意！！！")
call DestroyTrigger(GetTriggeringTrigger())
endfunction
function InitTrig____________________012 takes nothing returns nothing
set gg_trg____________________012=CreateTrigger()
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(0),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(1),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(2),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(3),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(4),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(5),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(6),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(7),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(8),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(9),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(10),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(11),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(12),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(13),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(14),"123",true)
call TriggerRegisterPlayerChatEvent(gg_trg____________________012,Player(15),"123",true)
call TriggerAddCondition(gg_trg____________________012,Condition(function Trig____________________012Conditions))
call TriggerAddAction(gg_trg____________________012,function Trig____________________012Actions)
endfunction
function InitCustomTriggers takes nothing returns nothing
call InitTrig____________________269()
call InitTrig____________________270()
call InitTrig____________________079()
call InitTrig____________________271()
call InitTrig____________________037()
call InitTrig____________________039()
call InitTrig____________________038()
call InitTrig____________________057()
call InitTrig____________________104()
call InitTrig____________________098()
call InitTrig_Start_SpellSystem()
call InitTrig_______________________________166()
call InitTrig______________________________030()
call InitTrig______________________________068()
call InitTrig_____________________________011()
call InitTrig_______________________________026()
call InitTrig_______________________________085()
call InitTrig_______________________________009()
call InitTrig____________________205()
call InitTrig____________________205_______u()
call InitTrig____________________214()
call InitTrig______________________________009()
call InitTrig______________________________013()
call InitTrig______________________________056()
call InitTrig_____________________________006()
call InitTrig____________________193()
call InitTrig________________________________008()
call InitTrig____________________122()
call InitTrig_______________________________015()
call InitTrig______________________________100()
call InitTrig______________________________016()
call InitTrig_______________________________101()
call InitTrig______________________________102()
call InitTrig____________________115()
call InitTrig_D________________________036()
call InitTrig____________________052()
call InitTrig____________________054()
call InitTrig____________________007()
call InitTrig______________________________020()
call InitTrig_____________________________024()
call InitTrig____________________082()
call InitTrig____________________003()
call InitTrig____________________011()
call InitTrig____________________074()
call InitTrig____________________077()
call InitTrig____________________078()
call InitTrig____________________080()
call InitTrig____________________064()
call InitTrig____________________081()
call InitTrig____________________109()
call InitTrig____________________075()
call InitTrig____________________181()
call InitTrig____________________177()
call InitTrig____________________215()
call InitTrig_______________________________007()
call InitTrig_______________________________181()
call InitTrig_______________________________075()
call InitTrig______________________________236()
call InitTrig_______BOSS_________________018()
call InitTrig_BOSS_______________________019()
call InitTrig____________________217()
call InitTrig______________________________053()
call InitTrig_______________________________068()
call InitTrig_____________25_______________066()
call InitTrig_______________________________136()
call InitTrig_______________________________012()
call InitTrig________________________________006()
call InitTrig________________________________116()
call InitTrig_______________________________035()
call InitTrig____________________027()
call InitTrig____________________028()
call InitTrig____________________029()
call InitTrig____________________032()
call InitTrig____________________034()
call InitTrig____________________030()
call InitTrig____________________199()
call InitTrig____________________200()
call InitTrig____________________206()
call InitTrig____________________207()
call InitTrig____________________231()
call InitTrig____________________040()
call InitTrig____________________041()
call InitTrig____________________096()
call InitTrig____________________042()
call InitTrig____________________043()
call InitTrig____________________072()
call InitTrig____________________097()
call InitTrig____________________047()
call InitTrig____________________046()
call InitTrig____________________048()
call InitTrig____________________099()
call InitTrig____________________058()
call InitTrig____________________061()
call InitTrig____________________066()
call InitTrig____________________068()
call InitTrig____________________070()
call InitTrig____________________071()
call InitTrig____________________076()
call InitTrig____________________084()
call InitTrig____________________085()
call InitTrig____________________091()
call InitTrig____________________094()
call InitTrig____________________095()
call InitTrig____________________100()
call InitTrig____________________101()
call InitTrig____________________102()
call InitTrig____________________103()
call InitTrig____________________031()
call InitTrig____________________182()
call InitTrig____________________183()
call InitTrig____________________063()
call InitTrig____________________197()
call InitTrig____________________198()
call InitTrig____________________201()
call InitTrig____________________202()
call InitTrig____________________204()
call InitTrig____________________203()
call InitTrig____________________208()
call InitTrig____________________209()
call InitTrig____________________210()
call InitTrig____________________211()
call InitTrig____________________212()
call InitTrig____________________213()
call InitTrig____________________218()
call InitTrig____________________223()
call InitTrig____________________224()
call InitTrig____________________225()
call InitTrig____________________226()
call InitTrig____________________227()
call InitTrig____________________228()
call InitTrig____________________229()
call InitTrig____________________236()
call InitTrig____________________237()
call InitTrig____________________238()
call InitTrig____________________239()
call InitTrig____________________240()
call InitTrig____________________241()
call InitTrig____________________230()
call InitTrig____________________191()
call InitTrig____________________173()
call InitTrig____________________174()
call InitTrig____________________179()
call InitTrig____________________176()
call InitTrig____________________045()
call InitTrig____________________044()
call InitTrig____________________146()
call InitTrig____________________165()
call InitTrig____________________140()
call InitTrig____________________013()
call InitTrig____________________060()
call InitTrig____________________141()
call InitTrig____________________006()
call InitTrig____________________010()
call InitTrig____________________019()
call InitTrig____________________020()
call InitTrig____________________022()
call InitTrig____________________004()
call InitTrig____________________112()
call InitTrig____________________113()
call InitTrig____________________114()
call InitTrig____________________116()
call InitTrig____________________123()
call InitTrig____________________124()
call InitTrig____________________118()
call InitTrig____________________119()
call InitTrig____________________125()
call InitTrig____________________126()
call InitTrig____________________106()
call InitTrig____________________107()
call InitTrig____________________108()
call InitTrig____________________111()
call InitTrig____________________105()
call InitTrig____________________002()
call InitTrig____________________016()
call InitTrig____________________134()
call InitTrig____________________150()
call InitTrig____________________153()
call InitTrig____________________154()
call InitTrig____________________050()
call InitTrig_____________________________052()
call InitTrig____________________222()
call InitTrig____________________024_______u()
call InitTrig____________________128()
call InitTrig____________________130()
call InitTrig____________________194()
call InitTrig____________________195()
call InitTrig____________________196()
call InitTrig____________________065()
call InitTrig____________________219()
call InitTrig____________________018()
call InitTrig____________________023()
call InitTrig____________________024()
call InitTrig____________________025()
call InitTrig____________________026()
call InitTrig____________________148()
call InitTrig____________________149()
call InitTrig____________________152()
call InitTrig____________________059()
call InitTrig____________________073()
call InitTrig____________________062()
call InitTrig____________________155()
call InitTrig____________________110()
call InitTrig____________________117()
call InitTrig____________________009()
call InitTrig____________________015()
call InitTrig____________________136()
call InitTrig____________________137()
call InitTrig____________________138()
call InitTrig____________________139()
call InitTrig____________________162()
call InitTrig____________________216()
call InitTrig____________________157()
call InitTrig____________________127()
call InitTrig____________________131()
call InitTrig____________________242()
call InitTrig____________________232()
call InitTrig____________________163()
call InitTrig____________________133()
call InitTrig____________________167()
call InitTrig____________________164()
call InitTrig____________________170()
call InitTrig____________________171()
call InitTrig____________________172()
call InitTrig____________________135()
call InitTrig____________________159()
call InitTrig____________________169()
call InitTrig____________________175()
call InitTrig____________________178()
call InitTrig____________________221()
call InitTrig____________________233()
call InitTrig____________________235()
call InitTrig____________________120()
call InitTrig____________________132()
call InitTrig____________________166()
call InitTrig____________________168()
call InitTrig____________________035()
call InitTrig____________________192()
call InitTrig____________________220()
call InitTrig____________________234()
call InitTrig____________________121()
call InitTrig____________________067()
call InitTrig____________________069()
call InitTrig____________________147()
call InitTrig____________________129()
call InitTrig____________________144()
call InitTrig____________________145()
call InitTrig____________________151()
call InitTrig____________________160()
call InitTrig____________________161()
call InitTrig____________________036()
call InitTrig____________________012()
endfunction
function RunInitializationTriggers takes nothing returns nothing
call ConditionalTriggerExecute(gg_trg_Start_SpellSystem)
call ConditionalTriggerExecute(gg_trg_______________________________166)
call ConditionalTriggerExecute(gg_trg______________________________030)
call ConditionalTriggerExecute(gg_trg______________________________068)
call ConditionalTriggerExecute(gg_trg_____________________________011)
call ConditionalTriggerExecute(gg_trg_______________________________026)
call ConditionalTriggerExecute(gg_trg____________________050)
call ConditionalTriggerExecute(gg_trg____________________147)
endfunction
function InitCustomPlayerSlots takes nothing returns nothing
call SetPlayerStartLocation(Player(0),0)
call ForcePlayerStartLocation(Player(0),0)
call SetPlayerColor(Player(0),ConvertPlayerColor(0))
call SetPlayerRacePreference(Player(0),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(0),false)
call SetPlayerController(Player(0),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(1),1)
call ForcePlayerStartLocation(Player(1),1)
call SetPlayerColor(Player(1),ConvertPlayerColor(1))
call SetPlayerRacePreference(Player(1),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(1),false)
call SetPlayerController(Player(1),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(2),2)
call ForcePlayerStartLocation(Player(2),2)
call SetPlayerColor(Player(2),ConvertPlayerColor(2))
call SetPlayerRacePreference(Player(2),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(2),false)
call SetPlayerController(Player(2),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(3),3)
call ForcePlayerStartLocation(Player(3),3)
call SetPlayerColor(Player(3),ConvertPlayerColor(3))
call SetPlayerRacePreference(Player(3),RACE_PREF_HUMAN)
call SetPlayerRaceSelectable(Player(3),false)
call SetPlayerController(Player(3),MAP_CONTROL_USER)
call SetPlayerStartLocation(Player(4),4)
call ForcePlayerStartLocation(Player(4),4)
call SetPlayerColor(Player(4),ConvertPlayerColor(4))
call SetPlayerRacePreference(Player(4),RACE_PREF_ORC)
call SetPlayerRaceSelectable(Player(4),false)
call SetPlayerController(Player(4),MAP_CONTROL_COMPUTER)
call SetPlayerStartLocation(Player(5),5)
call ForcePlayerStartLocation(Player(5),5)
call SetPlayerColor(Player(5),ConvertPlayerColor(5))
call SetPlayerRacePreference(Player(5),RACE_PREF_UNDEAD)
call SetPlayerRaceSelectable(Player(5),false)
call SetPlayerController(Player(5),MAP_CONTROL_COMPUTER)
endfunction
function InitCustomTeams takes nothing returns nothing
call SetPlayerTeam(Player(0),0)
call SetPlayerState(Player(0),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(1),0)
call SetPlayerState(Player(1),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(2),0)
call SetPlayerState(Player(2),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(3),0)
call SetPlayerState(Player(3),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerTeam(Player(4),0)
call SetPlayerState(Player(4),PLAYER_STATE_ALLIED_VICTORY,1)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateAllyBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateAllyBJ(Player(4),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(0),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(1),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(3),true)
call SetPlayerAllianceStateVisionBJ(Player(2),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(3),Player(4),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(0),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(1),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(2),true)
call SetPlayerAllianceStateVisionBJ(Player(4),Player(3),true)
call SetPlayerTeam(Player(5),1)
call SetPlayerState(Player(5),PLAYER_STATE_ALLIED_VICTORY,1)
endfunction
function InitAllyPriorities takes nothing returns nothing
call SetStartLocPrioCount(0,3)
call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(1,3)
call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(2,3)
call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)
call SetStartLocPrioCount(3,3)
call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)
call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)
endfunction
function Trig_ChangESkillEDamage takes nothing returns nothing
local group enemyGroup=CreateGroup()
local unit majia=LoadUnitHandle(SkillHashTable,GetHandleId(GetExpiredTimer()),110)
local location loc=GetUnitLoc(majia)
local unit hero=LoadUnitHandle(SkillHashTable,GetHandleId(GetExpiredTimer()),111)
local integer damageNum=udg_ChangESKillENum[GetConvertedPlayerId(GetOwningPlayer(hero))]
local unit ydl_unit
if damageNum>=100 then
call PauseTimer(GetExpiredTimer())
call DestroyTimer(GetExpiredTimer())
call RemoveUnit(majia)
set udg_ChangESKillENum[GetConvertedPlayerId(GetOwningPlayer(hero))]=0
call FlushChildHashtable(SkillHashTable,GetHandleId(GetExpiredTimer()))
else
set udg_ChangESKillENum[GetConvertedPlayerId(GetOwningPlayer(hero))]=damageNum+1
set loc=PolarProjectionBJ(GetUnitLoc(hero),300,I2R(damageNum)*.03*360)
call SetUnitPositionLocFacingBJ(majia,loc,I2R(damageNum)*.03*360+90)
call GroupEnumUnitsInRange(enemyGroup,GetUnitX(majia),GetUnitY(majia),150.,null)
set ydl_unit=FirstOfGroup(enemyGroup)
loop
set ydl_unit=FirstOfGroup(enemyGroup)
exitwhen ydl_unit==null
call GroupRemoveUnit(enemyGroup,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(hero))==true then
call UnitDamageTargetBJ(hero,ydl_unit,GetHeroInt(hero,true)*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
endif
endloop
endif
call DestroyGroup(enemyGroup)
call RemoveLocation(loc)
set enemyGroup=null
set majia=null
set hero=null
set loc=null
set ydl_unit=null
endfunction
function Trig_ChangESkillE_Action takes nothing returns nothing
local timer skillTimer=CreateTimer()
local unit majia
local real x=GetUnitX(GetTriggerUnit())+100.
local real y=GetUnitY(GetTriggerUnit())
set majia=CreateUnit(GetTriggerPlayer(),$6830315A,x,y,270)
call SaveUnitHandle(SkillHashTable,GetHandleId(skillTimer),110,majia)
call SaveUnitHandle(SkillHashTable,GetHandleId(skillTimer),111,GetTriggerUnit())
call TimerStart(skillTimer,.03,true,function Trig_ChangESkillEDamage)
set majia=null
set skillTimer=null
endfunction
function Trig_ChangESkillE_Condition takes nothing returns boolean
return GetSpellAbilityId()==$41304D56
endfunction
function InitTrig_ChangESkillE takes nothing returns nothing
set gg_trig_change_skillE=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trig_change_skillE,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trig_change_skillE,Condition(function Trig_ChangESkillE_Condition))
call TriggerAddAction(gg_trig_change_skillE,function Trig_ChangESkillE_Action)
endfunction
function Trig_ChangESkillWDamge takes nothing returns nothing
local group ydl_group
local unit ydl_unit
call YDWESetLocalVariableInteger("i",YDWEGetLocalVariableInteger("i")+1)
if YDWEGetLocalVariableInteger("i")<100 and IsUnitType(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),UNIT_TYPE_DEAD)==false then
call SaveLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476,GetUnitLoc(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetUnitX(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),GetUnitY(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D)))==true then
call UnitDamageTargetBJ(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ydl_unit,(GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(18))+GetUnitState(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),ConvertUnitState(19)))*1.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetExpiredTimer()),$9CD60476))
else
call YDWESetLocalVariableInteger("i",0)
call UnitRemoveAbility(LoadUnitHandle(YDLOC,GetHandleId(GetExpiredTimer()),$C303079D),$41304D58)
call FlushChildHashtable(YDLOC,GetHandleId(GetExpiredTimer()))
call DestroyTimer(GetExpiredTimer())
endif
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_ChangESkillW_Action takes nothing returns nothing
local timer ydl_timer
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D,GetTriggerUnit())
call UnitAddAbility(GetTriggerUnit(),$41304D58)
set ydl_timer=CreateTimer()
call SaveLocationHandle(YDLOC,GetHandleId(ydl_timer),$9CD60476,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call SaveUnitHandle(YDLOC,GetHandleId(ydl_timer),$C303079D,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$C303079D))
call TimerStart(ydl_timer,.1,true,function Trig_ChangESkillWDamge)
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_timer=null
endfunction
function Trig_ChangESkillW_Condition takes nothing returns boolean
return GetSpellAbilityId()==$41304D55
endfunction
function InitTrig_ChangESkillW takes nothing returns nothing
set gg_trig_change_skillW=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trig_change_skillW,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trig_change_skillW,Condition(function Trig_ChangESkillW_Condition))
call TriggerAddAction(gg_trig_change_skillW,function Trig_ChangESkillW_Action)
endfunction
function Trig_ChangESkillQ_Action takes nothing returns nothing
local group ydl_group
local unit ydl_unit
local integer ydl_localvar_step=LoadInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76)
set ydl_localvar_step=ydl_localvar_step+3
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$CFDE6C76,ydl_localvar_step)
call SaveInteger(YDLOC,GetHandleId(GetTriggeringTrigger()),$ECE825E7,ydl_localvar_step)
call SaveLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476,GetSpellTargetLoc())
call YDWETimerRemoveUnit(2,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303158,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call SaveUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86,CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),$68303132,LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476),0))
call UnitAddAbility(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),$41304D57)
call IssueImmediateOrder(LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86),"stomp")
call YDWETimerRemoveUnit(2,LoadUnitHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$384C9D86))
set ydl_group=CreateGroup()
call GroupEnumUnitsInRange(ydl_group,GetLocationX(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),GetLocationY(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476)),800.,null)
loop
set ydl_unit=FirstOfGroup(ydl_group)
exitwhen ydl_unit==null
call GroupRemoveUnit(ydl_group,ydl_unit)
if IsUnitEnemy(ydl_unit,GetOwningPlayer(GetTriggerUnit()))==true then
call UnitDamageTargetBJ(GetTriggerUnit(),ydl_unit,(I2R(GetHeroStr(GetTriggerUnit(),true))+I2R(GetHeroAgi(GetTriggerUnit(),true))+I2R(GetHeroInt(GetTriggerUnit(),true)))*15.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_ENHANCED)
else
endif
endloop
call h__DestroyGroup(ydl_group)
call h__RemoveLocation(LoadLocationHandle(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step,$9CD60476))
call FlushChildHashtable(YDLOC,GetHandleId(GetTriggeringTrigger())*ydl_localvar_step)
set ydl_group=null
set ydl_unit=null
endfunction
function Trig_ChangESkillQ_Condition takes nothing returns boolean
return GetSpellAbilityId()==$41304D54
endfunction
function InitTrig_ChangESkillQ takes nothing returns nothing
set gg_trig_change_skillQ=CreateTrigger()
call TriggerRegisterAnyUnitEventBJ(gg_trig_change_skillQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)
call TriggerAddCondition(gg_trig_change_skillQ,Condition(function Trig_ChangESkillQ_Condition))
call TriggerAddAction(gg_trig_change_skillQ,function Trig_ChangESkillQ_Action)
endfunction
function main takes nothing returns nothing
call SetCameraBounds(-13568.+GetCameraMargin(CAMERA_MARGIN_LEFT),-17920.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),13568.-GetCameraMargin(CAMERA_MARGIN_RIGHT),17408.-GetCameraMargin(CAMERA_MARGIN_TOP),-13568.+GetCameraMargin(CAMERA_MARGIN_LEFT),17408.-GetCameraMargin(CAMERA_MARGIN_TOP),13568.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-17920.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))
call SetDayNightModels("Environment\\DNC\\DNCAshenvale\\DNCAshenvaleTerrain\\DNCAshenvaleTerrain.mdl","Environment\\DNC\\DNCAshenvale\\DNCAshenvaleUnit\\DNCAshenvaleUnit.mdl")
call NewSoundEnvironment("Default")
call SetAmbientDaySound("AshenvaleDay")
call SetAmbientNightSound("AshenvaleNight")
call SetMapMusic("Music",true,0)
set gg_snd_4849="4849.mp3"
call CreateRegions()
call CreateAllDestructables()
call CreateAllItems()
call CreateAllUnits()
call InitBlizzard()
call ExecuteFunc("jasshelper__initstructs130436546")
call ExecuteFunc("cjLibw560nbs9b8nse46703948___init")
call ExecuteFunc("DYCbase__DYCbaseini")
call ExecuteFunc("InitializeSJWE")
call ExecuteFunc("InitXG")
call ExecuteFunc("YDTriggerSaveLoadSystem___Init")
call ExecuteFunc("InitializeYD")
call ExecuteFunc("MemoryLeakHelper__Init")
call ExecuteFunc("SpellSystemAI___Init")
call ExecuteFunc("YDWEStringFormula__Init")
call ExecuteFunc("YDWETimerPattern__Init")
call ExecuteFunc("YDWETimerSystem__Init")
call InitGlobals()
call ExecuteFunc("YDWEReplayWriter__Init")
call MyInitTimeTrig001()
call InitCustomTriggers()
call RunInitializationTriggers()
call InitTrig_ChangESkillQ()
call InitTrig_ChangESkillW()
call InitTrig_ChangESkillE()
endfunction
function config takes nothing returns nothing
call SetMapName("一剑破空")
call SetMapDescription("帝尊，乃是整个位面的统治者，自初代帝尊陨落之后，无数的生灵为了追求帝尊的遗留下来的力量，纷纷对初代帝尊传人发动了战争！")
call SetPlayers(6)
call SetTeams(6)
call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)
call DefineStartLocation(0,11712.,11520.)
call DefineStartLocation(1,11712.,11520.)
call DefineStartLocation(2,11712.,11520.)
call DefineStartLocation(3,11712.,11520.)
call DefineStartLocation(4,11712.,11520.)
call DefineStartLocation(5,11712.,11520.)
call InitCustomPlayerSlots()
call InitCustomTeams()
call InitAllyPriorities()
endfunction
function sa__MemoryLeakHelper__GTable_onDestroy takes nothing returns boolean
local integer this=f__arg_this
call s__MemoryLeakHelper__GTable_reset(this)
return true
endfunction
function sa__YDWEStringFormula__Inventory_onDestroy takes nothing returns boolean
local integer this=f__arg_this
call FlushChildHashtable(YDHT,StringHash("YDWEStringFormula."+I2S(this)))
return true
endfunction
function sa__YDWETimerPattern__Thread_onDestroy takes nothing returns boolean
local integer this=f__arg_this
call RemoveSavedInteger(YDHT,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(s__YDWETimerPattern__Thread_obj[this]))))
call RemoveSavedInteger(YDHT,StringHash("YDWETimerPattern."),StringHash(I2S(GetHandleId(s__YDWETimerPattern__Thread_t[this]))))
call GroupClear(s__YDWETimerPattern__Thread_g[this])
call h__DestroyGroup(s__YDWETimerPattern__Thread_g[this])
call PauseTimer(s__YDWETimerPattern__Thread_t[this])
call DestroyTimer(s__YDWETimerPattern__Thread_t[this])
call s__YDWETimerPattern__YDVector3_deallocate(s__YDWETimerPattern__Thread_des[this])
call s__YDWETimerPattern__YDVector3_deallocate(s__YDWETimerPattern__Thread_pos[this])
call s__YDWETimerPattern__YDVector3_deallocate(s__YDWETimerPattern__Thread_vel[this])
set s__YDWETimerPattern__Thread_caster[this]=null
set s__YDWETimerPattern__Thread_target[this]=null
set s__YDWETimerPattern__Thread_obj[this]=null
set s__YDWETimerPattern__Thread_g[this]=null
set s__YDWETimerPattern__Thread_t[this]=null
set s__YDWETimerPattern__Thread_amount[this]=0
set s__YDWETimerPattern__Thread_skills[this]=0
set s__YDWETimerPattern__Thread_order[this]=0
set s__YDWETimerPattern__Thread_dsfx[this]=""
set s__YDWETimerPattern__Thread_gsfx[this]=""
set s__YDWETimerPattern__Thread_wsfx[this]=""
set s__YDWETimerPattern__Thread_part[this]=""
return true
endfunction
function sa__YDWEStringFormula__Sorting_onDestroy takes nothing returns boolean
local integer this=f__arg_this
local integer i=0
loop
exitwhen i==s___YDWEStringFormula__Sorting_stack_size
set s___YDWEStringFormula__Sorting_stack[s__YDWEStringFormula__Sorting_stack[this]+i]=0
set s___YDWEStringFormula__Sorting_count[s__YDWEStringFormula__Sorting_count[this]+i]=0
set i=i+1
endloop
set s__YDWEStringFormula__Sorting_char[this]=""
return true
endfunction
function sa___prototype46_MemoryLeakHelper__GetElapsedGameTime takes nothing returns boolean
set f__result_real=MemoryLeakHelper__GameTime+TimerGetElapsed(MemoryLeakHelper__GameTimeTimer)
return true
endfunction
function sa___prototype218_MemoryLeakHelper__ReleaseLocation takes nothing returns boolean
call MemoryLeakHelper__ReleaseLocation(f__arg_location1)
return true
endfunction
function sa___prototype219_MemoryLeakHelper__CatchGroup takes nothing returns boolean
call MemoryLeakHelper__CatchGroup(f__arg_group1)
return true
endfunction
function sa___prototype219_MemoryLeakHelper__ReleaseGroup takes nothing returns boolean
call MemoryLeakHelper__ReleaseGroup(f__arg_group1)
return true
endfunction
function sa___prototype220_MemoryLeakHelper__ReleaseEffect takes nothing returns boolean
call MemoryLeakHelper__ReleaseEffect(f__arg_effect1)
return true
endfunction
function sa___prototype221_MemoryLeakHelper__PP takes nothing returns boolean
call MemoryLeakHelper__PP(f__arg_location1,f__arg_real1,f__arg_real2)
return true
endfunction
function sa___prototype222_MemoryLeakHelper__CU takes nothing returns boolean
call MemoryLeakHelper__CU(f__arg_integer1,f__arg_integer2,f__arg_player1,f__arg_location1,f__arg_real1)
return true
endfunction
function sa___prototype223_MemoryLeakHelper__IPO takes nothing returns boolean
call MemoryLeakHelper__IPO(f__arg_unit1,f__arg_string1,f__arg_location1)
return true
endfunction
function sa___prototype224_MemoryLeakHelper__SUP takes nothing returns boolean
call MemoryLeakHelper__SUP(f__arg_unit1,f__arg_location1)
return true
endfunction
function sa___prototype225_MemoryLeakHelper__SUF takes nothing returns boolean
call MemoryLeakHelper__SUF(f__arg_unit1,f__arg_location1,f__arg_real1)
return true
endfunction
function sa___prototype226_MemoryLeakHelper__GUR takes nothing returns boolean
call MemoryLeakHelper__GUR(f__arg_real1,f__arg_location1,f__arg_boolexpr1)
return true
endfunction
function sa___prototype227_MemoryLeakHelper__CUF takes nothing returns boolean
call MemoryLeakHelper__CUF(f__arg_integer1,f__arg_integer2,f__arg_player1,f__arg_location1,f__arg_location2)
return true
endfunction
function sa___prototype228_MemoryLeakHelper__FG takes nothing returns boolean
call MemoryLeakHelper__FG(f__arg_group1,f__arg_code1)
return true
endfunction
function sa___prototype229_MemoryLeakHelper__ASETU takes nothing returns boolean
call MemoryLeakHelper__ASETU(f__arg_string1,f__arg_widget1,f__arg_string2)
return true
endfunction
function sa___prototype230_MemoryLeakHelper__ASE takes nothing returns boolean
call MemoryLeakHelper__ASE(f__arg_location1,f__arg_string1)
return true
endfunction
function jasshelper__initstructs130436546 takes nothing returns nothing
set st__MemoryLeakHelper__GTable_onDestroy[2]=CreateTrigger()
set st__MemoryLeakHelper__GTable_onDestroy[3]=st__MemoryLeakHelper__GTable_onDestroy[2]
call TriggerAddCondition(st__MemoryLeakHelper__GTable_onDestroy[2],Condition(function sa__MemoryLeakHelper__GTable_onDestroy))
set st__YDWEStringFormula__Inventory_onDestroy[4]=CreateTrigger()
set st__YDWEStringFormula__Inventory_onDestroy[5]=st__YDWEStringFormula__Inventory_onDestroy[4]
call TriggerAddCondition(st__YDWEStringFormula__Inventory_onDestroy[4],Condition(function sa__YDWEStringFormula__Inventory_onDestroy))
set st__YDWETimerPattern__Thread_onDestroy[12]=CreateTrigger()
set st__YDWETimerPattern__Thread_onDestroy[13]=st__YDWETimerPattern__Thread_onDestroy[12]
set st__YDWETimerPattern__Thread_onDestroy[14]=st__YDWETimerPattern__Thread_onDestroy[12]
set st__YDWETimerPattern__Thread_onDestroy[15]=st__YDWETimerPattern__Thread_onDestroy[12]
call TriggerAddCondition(st__YDWETimerPattern__Thread_onDestroy[12],Condition(function sa__YDWETimerPattern__Thread_onDestroy))
set st__YDWEStringFormula__Sorting_onDestroy=CreateTrigger()
call TriggerAddCondition(st__YDWEStringFormula__Sorting_onDestroy,Condition(function sa__YDWEStringFormula__Sorting_onDestroy))
set st___prototype46[1]=CreateTrigger()
call TriggerAddAction(st___prototype46[1],function sa___prototype46_MemoryLeakHelper__GetElapsedGameTime)
call TriggerAddCondition(st___prototype46[1],Condition(function sa___prototype46_MemoryLeakHelper__GetElapsedGameTime))
set st___prototype218[1]=CreateTrigger()
call TriggerAddAction(st___prototype218[1],function sa___prototype218_MemoryLeakHelper__ReleaseLocation)
call TriggerAddCondition(st___prototype218[1],Condition(function sa___prototype218_MemoryLeakHelper__ReleaseLocation))
set st___prototype219[1]=CreateTrigger()
call TriggerAddAction(st___prototype219[1],function sa___prototype219_MemoryLeakHelper__CatchGroup)
call TriggerAddCondition(st___prototype219[1],Condition(function sa___prototype219_MemoryLeakHelper__CatchGroup))
set st___prototype219[2]=CreateTrigger()
call TriggerAddAction(st___prototype219[2],function sa___prototype219_MemoryLeakHelper__ReleaseGroup)
call TriggerAddCondition(st___prototype219[2],Condition(function sa___prototype219_MemoryLeakHelper__ReleaseGroup))
set st___prototype220[1]=CreateTrigger()
call TriggerAddAction(st___prototype220[1],function sa___prototype220_MemoryLeakHelper__ReleaseEffect)
call TriggerAddCondition(st___prototype220[1],Condition(function sa___prototype220_MemoryLeakHelper__ReleaseEffect))
set st___prototype221[1]=CreateTrigger()
call TriggerAddAction(st___prototype221[1],function sa___prototype221_MemoryLeakHelper__PP)
call TriggerAddCondition(st___prototype221[1],Condition(function sa___prototype221_MemoryLeakHelper__PP))
set st___prototype222[1]=CreateTrigger()
call TriggerAddAction(st___prototype222[1],function sa___prototype222_MemoryLeakHelper__CU)
call TriggerAddCondition(st___prototype222[1],Condition(function sa___prototype222_MemoryLeakHelper__CU))
set st___prototype223[1]=CreateTrigger()
call TriggerAddAction(st___prototype223[1],function sa___prototype223_MemoryLeakHelper__IPO)
call TriggerAddCondition(st___prototype223[1],Condition(function sa___prototype223_MemoryLeakHelper__IPO))
set st___prototype224[1]=CreateTrigger()
call TriggerAddAction(st___prototype224[1],function sa___prototype224_MemoryLeakHelper__SUP)
call TriggerAddCondition(st___prototype224[1],Condition(function sa___prototype224_MemoryLeakHelper__SUP))
set st___prototype225[1]=CreateTrigger()
call TriggerAddAction(st___prototype225[1],function sa___prototype225_MemoryLeakHelper__SUF)
call TriggerAddCondition(st___prototype225[1],Condition(function sa___prototype225_MemoryLeakHelper__SUF))
set st___prototype226[1]=CreateTrigger()
call TriggerAddAction(st___prototype226[1],function sa___prototype226_MemoryLeakHelper__GUR)
call TriggerAddCondition(st___prototype226[1],Condition(function sa___prototype226_MemoryLeakHelper__GUR))
set st___prototype227[1]=CreateTrigger()
call TriggerAddAction(st___prototype227[1],function sa___prototype227_MemoryLeakHelper__CUF)
call TriggerAddCondition(st___prototype227[1],Condition(function sa___prototype227_MemoryLeakHelper__CUF))
set st___prototype228[1]=CreateTrigger()
call TriggerAddAction(st___prototype228[1],function sa___prototype228_MemoryLeakHelper__FG)
call TriggerAddCondition(st___prototype228[1],Condition(function sa___prototype228_MemoryLeakHelper__FG))
set st___prototype229[1]=CreateTrigger()
call TriggerAddAction(st___prototype229[1],function sa___prototype229_MemoryLeakHelper__ASETU)
call TriggerAddCondition(st___prototype229[1],Condition(function sa___prototype229_MemoryLeakHelper__ASETU))
set st___prototype230[1]=CreateTrigger()
call TriggerAddAction(st___prototype230[1],function sa___prototype230_MemoryLeakHelper__ASE)
call TriggerAddCondition(st___prototype230[1],Condition(function sa___prototype230_MemoryLeakHelper__ASE))
call ExecuteFunc("s__YDWEStringFormula__ItemIdMatrix_onInit")
call ExecuteFunc("s__YDWEStringFormula__FormulaMatrix_onInit")
endfunction
